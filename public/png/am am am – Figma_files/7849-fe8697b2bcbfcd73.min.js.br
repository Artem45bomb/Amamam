"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e31f4708-1c31-5583-901a-bf07cb601f6c")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7849],{790875:(e,t,n)=>{n.d(t,{LG:()=>a,RU:()=>s,XV:()=>o,Zr:()=>c,c9:()=>i,et:()=>r,jP:()=>d,yr:()=>l});let a="props_panel--addButtonContainer--a58gi",r="props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR",l="props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez",i="props_panel--addButton--jAtAX draggable_list--addButton--D0q--",s="props_panel--dropdownRowWithIcon--03FtD",o="props_panel--dropdownRowWithoutIcon--F8Ra-",c="props_panel--bubbledInstancesHeading--C26v2",d="props_panel--ui3PanelHeaderRow--Ab8Jz"},908367:(e,t,n)=>{n.d(t,{$l:()=>R,BP:()=>ee,BX:()=>k,Cu:()=>M,DM:()=>K,GE:()=>y,Gl:()=>N,Gu:()=>Y,I_:()=>F,It:()=>el,Iw:()=>D,Jw:()=>X,KY:()=>O,Kh:()=>d,LW:()=>ed,LY:()=>I,Li:()=>V,Lp:()=>A,M9:()=>G,O8:()=>H,Ob:()=>ec,Oe:()=>es,Op:()=>j,P2:()=>i,PB:()=>o,PE:()=>z,Ph:()=>x,QE:()=>et,QK:()=>c,QT:()=>b,SG:()=>S,Ti:()=>q,U:()=>p,U3:()=>ea,Ym:()=>h,Yo:()=>J,Ze:()=>W,Zp:()=>a,_2:()=>Z,aq:()=>r,cF:()=>v,dU:()=>w,eU:()=>T,ft:()=>er,gG:()=>L,h2:()=>eo,hF:()=>u,hH:()=>P,iR:()=>s,kE:()=>U,oM:()=>_,p0:()=>l,rn:()=>$,sC:()=>m,sQ:()=>C,vE:()=>g,vs:()=>B,wu:()=>E,x:()=>ei,x1:()=>Q,xm:()=>en,zX:()=>f});let a="prototype_interaction_panel--timeoutContainer--Zn1xk",r="prototype_interaction_panel--durationContainer--GYp82",l="prototype_interaction_panel--duration--JdsIp",i="prototype_interaction_panel--dropdownContainer--udrAG",s="prototype_interaction_panel--destinationDropdown--ZIcBV",o="prototype_interaction_panel--variableSelectorDropdown--UOYMn",c="prototype_interaction_panel--inactiveLabel--6uytx transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO",d="prototype_interaction_panel--inactiveLabelRotated90--ArAQX prototype_interaction_panel--inactiveLabel--6uytx transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO",u="prototype_interaction_panel--input--73Bse raw_components--flushLeft--YH-5P",p="prototype_interaction_panel--scrubbableInputLeftCol--wC8-D raw_components--borderFocusWithin--BaipZ",m="prototype_interaction_panel--scrubbableInput--VJ6m6 prototype_interaction_panel--scrubbableInputLeftCol--wC8-D raw_components--borderFocusWithin--BaipZ",_="prototype_interaction_panel--scrollOptionsInput--NNU-R",h="prototype_interaction_panel--timestampContainer--P9Uid",g="prototype_interaction_panel--timestamp--Ay3G7",y="prototype_interaction_panel--expandCaret--xX9Pv",E="prototype_interaction_panel--addActionRow--PByUm",f="prototype_interaction_panel--addActionRowUI3Hover--rVXoJ",b="prototype_interaction_panel--selectionContainer--FAj3B",v="prototype_interaction_panel--interactionRowContainer--8IWen",C="prototype_interaction_panel--interactionSelectDropdown--HG9ew",S="prototype_interaction_panel--interactionRowHeader--FRsvU",w="prototype_interaction_panel--ui3TwoColSecondaryInputContainer--DQJ3R ui3_modal_rows--ui3LabelOneInputRow--kpsQB ui3_modal_rows--_row--x9xQX ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",k="prototype_interaction_panel--ui3TwoColDropdownRow--5aWMH",T="prototype_interaction_panel--ui3TwoColDropdownContainer--pq-AI",I="prototype_interaction_panel--headerButtonContainer--P2F08",N="prototype_interaction_panel--durationInputUI3--lInao",A="prototype_interaction_panel--inputWithIconUI3--TPVTd",x="prototype_interaction_panel--actionDetailsInner--7ywFI",M="prototype_interaction_panel--actionRowSelected--dcGvB",P="prototype_interaction_panel--minusButton--cZso-",R="prototype_interaction_panel--actionRow--WzbzF",L="prototype_interaction_panel--minusButtonUI3--kzsLc",O="prototype_interaction_panel--actionRowUI3--qr-7o",D="prototype_interaction_panel--actionRowUI3Hover--aY-qg",F="prototype_interaction_panel--actionRowUI3ConditionalHover--lbjuo",K="prototype_interaction_panel--actionRowUI3Nested--VoFza",B="prototype_interaction_panel--actionRowUI3NestedHover--9uL8f",G="prototype_interaction_panel--actionRowUI3NestedSelectedHover--cJRBw",V="prototype_interaction_panel--actionVerboseTitle--HKv2H",U="prototype_interaction_panel--actionVerboseTitleUI3--TTKpR",H="prototype_interaction_panel--actionVerboseTitleNarrow--KFbW0 prototype_interaction_panel--actionVerboseTitle--HKv2H",z="prototype_interaction_panel--actionRowSelectedUI3--JgKW1",W="prototype_interaction_panel--conditionalActionRowBorder--p80fK",j="prototype_interaction_panel--removeLeftMargin--2WMkr",$="prototype_interaction_panel--actionTitleRow--DxGK3",Y="prototype_interaction_panel--actionTitleRowUI3--LSxu3",X="prototype_interaction_panel--titleAndIconRow--FG93L",Z="prototype_interaction_panel--childIcon--RLZ-K",q="prototype_interaction_panel--conditionalActionRow--YQRe3",J="prototype_interaction_panel--conditionalActionRowUI3--2s-yJ",Q="prototype_interaction_panel--createActionButton--6BFXc raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",ee="prototype_interaction_panel--createActionDropdownOption--qX5xI",et="prototype_interaction_panel--createActionDropdownOptionIcon--Eivoa",en="prototype_interaction_panel--createActionRow--zskZs",ea="prototype_interaction_panel--createActionRowUI3--lySxj",er="prototype_interaction_panel--topLevelActionRowDivider--TriUY prototype_interaction_panel--actionRowDivider--bqH58",el="prototype_interaction_panel--conditionalActionRowDivider--9pjgS prototype_interaction_panel--actionRowDivider--bqH58",ei="prototype_interaction_panel--dividerHorizontalUI3--OjPRj",es="prototype_interaction_panel--actionRowUI3TwoCol--oZabn",eo="prototype_interaction_panel--actionRowUI3TwoColSelected--md39i",ec="prototype_interaction_panel--conditionalActionRowUI3TwoCol--ot0Li",ed="prototype_interaction_panel--emptyActionUI3TwoCol--NVK62 prototype_interaction_panel--actionRowUI3TwoCol--oZabn"},241786:(e,t,n)=>{n.d(t,{n:()=>a});let a=new class{parse(e,t){let n=[];if(e.split(/[ ,]+/g).forEach(e=>{if(!e.length)return;let t=parseFloat(e);if(!isFinite(t))throw Error("Could not parse easing function input");n.push(t)}),4!==n.length)throw Error("Could not parse easing function input");return n.forEach((e,t)=>{t%2==0&&(n[t]=Math.min(Math.max(e,0),1))}),n}format(e){return null==e?"":e.map(e=>parseFloat(e.toFixed(2))).join(", ")}}},774619:(e,t,n)=>{n.d(t,{S:()=>_});var a=n(411855),r=n(188507),l=n(258214),i=n(599248),s=n(596523),o=n(740941),c=n(200535),d=n(992199),u=n(546619),p=n(750199),m=n(939501);function _(){let e=(0,r.wA)(),t=a.useRef(!1),n=(0,r.d4)(e=>e.loadingState),_=(0,m.n1)(),h=(0,s.qd)(_),g=(0,o.md)(u.fy7.Query({group:(0,d.M)()})),y=(0,p.je)();a.useEffect(()=>{if(!t.current&&!0===_&&!1===h&&"loaded"===g.status){t.current=!0;let e=new Set(y?.data?.map(e=>e.fileKey)??[]);for(let t of g?.data?.libraryPresetSubscriptionsV2??[])if(e.has(t.hubFileId)){let e=(0,i.oA)(t.libraryKey);(0,c.n)({libraryKey:(0,l.l)(e??"")})}}},[e,_,h,n,g,y])}},169348:(e,t,n)=>{n.d(t,{jP:()=>w});var a=n(411855),r=n(188507),l=n(268853),i=n(596523),s=n(474474),o=n(740941),c=n(248591),d=n(445713),u=n(57833),p=n(129817),m=n(556576),_=n(691537),h=n(52833),g=n(658567),y=n(750199),E=n(214449),f=n(67753),b=n(501914);let v=[],C=(0,b.D)(()=>{let e=(0,y.je)(),t=(0,o.md)(f.TG);return a.useMemo(()=>"loaded"!==e.status?"NOT_LOADED":e.data.length?e.data.filter(e=>t.has(e.libraryKey)):v,[e,t])}),S=new Set;function w(e,t){let n=C(),o=(0,i.qd)(n),y=(0,E.U)(),f=(0,r.d4)(e=>e.loadingState),b=(0,r.d4)(e=>e.hubFiles),v=(0,r.d4)(g.e_),w=(0,r.d4)(m.tB),k=(0,p.T9)(w?.project),T=(0,d.Em)(),I=(0,_.fc)();a.useEffect(()=>{let a=(0,s.kc)().dse_lk_asset_panel?t:e;if(!y&&null!==a&&"NOT_LOADED"!==n&&T)for(let a of n){if(S.has(a.libraryKey))continue;let n=(0,s.kc)().dse_lk_asset_panel?t?.libraryKeyToSubscribedItems?.[a.libraryKey]:e?.hubFileIdToSubscribedItems?.[a.fileKey];if(n&&n.length>0){S.add(a.libraryKey);continue}let r=null!=o&&"NOT_LOADED"!==o&&!o?.some(e=>e.libraryKey===a.libraryKey);if(r){let e=(0,_.Mb)(a.libraryKey);if(!(0,h.mn)(f,e)||!(0,h.D2)(f,e))continue}S.add(a.libraryKey);let i=(0,u.X)(a.libraryKey),d=I(a);if(i){let e=Error("No components found in UI Kit");(0,c.$D)(l.e.DESIGN_SYSTEMS_ECOSYSTEM,e,{tags:{libraryKey:a.libraryKey,partnerType:i,libraryWasAdded:r,subscribedItemsExist:!!n,isEditorFileSubscribedToLibrary:d,isInDrafts:k}})}}},[I,y,f,o,e,t,n,b,k,w,v,T])}},47851:(e,t,n)=>{n.d(t,{$:()=>O});var a=n(411855),r=n(188507),l=n(727466),i=n(31524),s=n(404095),o=n(922827),c=n(340818),d=n(629019),u=n.n(d),p=n(744952),m=n(510237),_=n(171946),h=n(301929),g=n(379348),y=n(769617),E=n(876560),f=n(802695),b=n(238006),v=n(279625),C=n(86600),S=n(963989),w=(e=>(e[e.VERTICAL=0]="VERTICAL",e[e.MIDDLE_CHILD=1]="MIDDLE_CHILD",e[e.LAST_CHILD=2]="LAST_CHILD",e))(w||{});function k(e){let{lineConfiguration:t,hideLine:n,wideContainer:r}=e;return a.createElement("div",{className:r?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!n&&a.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return a.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return a.createElement(a.Fragment,null,a.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),a.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return a.createElement(a.Fragment,null,a.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),a.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let T="bubbled_instances_list--minusIcon--dY8i-",I="bubbled_instances_list--instanceIcon--aRlGl",N="bubbled_instances_list--instanceName--09LuV",A="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",x="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g",M="bubbled_instances_list--ui3LineContainer--OdBbV",P="bubbled_instances_list--ui3Line--SIYpX";var R=n(968109),L=n(349307);function O(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:n,wideContainer:l,scrollableContainer:i}=e,s=(0,r.d4)(b.K4),d=(0,C.R)(),[g,y]=(0,a.useState)(!1),S=t?s:s?.filter(e=>e.isBubbled),x=e=>{c.l7.user("toggle-props-bubbled",()=>o.glU.togglePropsAreBubbled(e)),o.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},M=e=>{o.Ez5.canvasViewState().temporarilyHoveredNodes.set(e)},P=()=>{o.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},O=0,K=d&&!t&&!g&&null!=S&&S.length>5,G=K?S.slice(0,4):S;return K&&(O=S.length-4),a.createElement("div",{className:u()({"bubbled_instances_list--scrollableContainer--ob0LQ":i})},G?.map((r,i)=>{let s=r.connectedGUIDs.slice(0).sort();return a.createElement(m.D8,{className:"bubbled_instances_list--instanceSection--tLYN0",key:i,onMouseEnter:()=>M(r.connectedGUIDs),onMouseLeave:P,recordingKey:p.Pt(e,s[0])},d?t?a.createElement(B,{data:r,showNumHidden:n,onUnbubbleInstance:x,recordingKey:p.Pt(e,"checkbox",s[0]),wideContainer:l}):a.createElement(F,{data:r,onUnbubbleInstance:x,recordingKey:p.Pt(e,"unbubble",s[0]),wideContainer:l}):a.createElement(a.Fragment,null,a.createElement(k,{lineConfiguration:w.VERTICAL,hideLine:0===r.bubbledNestedInstances.length,wideContainer:l},t?a.createElement(D,{data:r,onUnbubbleInstance:x,showNumHidden:n,wideContainer:l,recordingKey:p.Pt(e,"checkbox",s[0])}):a.createElement(a.Fragment,null,a.createElement(_.B,{className:I,svg:R.A}),a.createElement("p",{className:l?A:N},r.name),a.createElement(v.K0,{className:T,svg:L.A,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":h.t("design_systems.component_properties.unbubble_instance"),onClick:()=>{x(r.connectedGUIDs[0])},recordingKey:p.Pt(e,"unbubble",s[0])}))),r.bubbledNestedInstances.map((e,t)=>a.createElement("div",{key:t},a.createElement(k,{lineConfiguration:t===r.bubbledNestedInstances.length-1?w.LAST_CHILD:w.MIDDLE_CHILD,wideContainer:l},a.createElement("div",{className:l?A:N},e.name))))))}),d&&!g&&O>0&&a.createElement(f.t8,{label:(0,h.t)("design_systems.component_properties.show_more_nested_instances_rows",{count:O}),onClick:()=>y(!0)}))}function D({data:e,onUnbubbleInstance:t,showNumHidden:n,wideContainer:r,recordingKey:l}){return a.createElement("div",{className:r?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},a.createElement(g.S,{label:e.name,checked:e.isBubbled,onChange:()=>{t(e.connectedGUIDs[0])},truncateLabel:{truncate:"line-clamp",lineClamp:2},recordingKey:l}),n&&!!e.numHidden&&a.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},(0,h.tx)("design_systems.component_properties.num_hidden",{num:e.numHidden})))}function F({data:e,onUnbubbleInstance:t,recordingKey:n,wideContainer:r}){let{bubbledNestedInstances:o}=e,c=a.createElement(S.DE,{label:null,input:a.createElement("div",{className:x},a.createElement("div",{className:I},a.createElement(i.y,null)),a.createElement("p",{className:N},e.name)),icon:a.createElement("div",{className:T},a.createElement(l.K,{"aria-label":(0,h.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},recordingKey:n,htmlAttributes:{"data-tooltip":(0,h.t)("design_systems.component_properties.unbubble_instance"),"data-tooltip-type":E.Ib.TEXT,onMouseDown:y.dG}},a.createElement(s.f,null)))});return 0===o.length?c:a.createElement(K,{data:e,row:c,wideContainer:r})}function K({data:e,row:t,wideContainer:n}){return a.createElement(f.R$,{row:t,isCollapsedByDefault:!0},e.bubbledNestedInstances.map((e,t)=>a.createElement("div",{key:t},a.createElement(S.DE,{label:null,input:a.createElement("div",{className:x},a.createElement("div",{className:M},a.createElement("div",{className:P})),a.createElement("div",{className:n?A:N},e.name)),icon:null}))))}function B({data:e,onUnbubbleInstance:t,recordingKey:n,showNumHidden:r,wideContainer:l}){return a.createElement(a.Fragment,null,a.createElement(S.Ad,{label:null,input:a.createElement(D,{data:e,onUnbubbleInstance:t,showNumHidden:r,wideContainer:l,recordingKey:n})}),e.bubbledNestedInstances.map((e,t)=>a.createElement("div",{key:t},a.createElement(S.Ad,{label:null,input:a.createElement("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc"},a.createElement("div",{className:M},a.createElement("div",{className:P})),a.createElement("div",{className:l?A:N},e.name))}))))}},628091:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(411855),r=n(188507),l=n(462132),i=n(301929),s=n(761755),o=n(152824),c=n(618120),d=n(47851);function u(){let e="bubbledPropsPicker",t=(0,r.d4)(e=>e.pickerShown),n=(0,r.wA)(),u=new l.Mi(t?.initialX,t?.initialY);return t?.id!==o.Dd?null:a.createElement(c.vx,{title:(0,i.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:u,initialWidth:o.wh,headerSize:"small",onClose:()=>{n(s.XE())},recordingKey:e},a.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},a.createElement(d.$,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}},145789:(e,t,n)=>{n.d(t,{BS:()=>Z,PQ:()=>J,Ws:()=>q});var a=n(411855),r=n(188507),l=n(459593),i=n(971612),s=n(927457),o=n(243742),c=n(922827),d=n(340818),u=n(629019),p=n.n(u),m=n(474474),_=n(744952),h=n(355952),g=n(454475),y=n(603275),E=n(301929),f=n(819635),b=n(761755),v=n(492841),C=n(639268),S=n(899356),w=n(68060),k=n(658567),T=n(876560),I=n(567428),N=n(283956),A=n(248172),x=n(91966),M=n(655959),P=n(407664),R=n(83661),L=n(779408),O=n(963989),D=n(120169),F=n(47851),K=n(628091),B=n(152824),G=n(341911),V=n(802695),U=n(238006),H=n(435038),z=n(399230),W=n(23479),j=n(790875),$=n(633779),Y=n(100562),X=n(501191);function Z({recordingKey:e}){let t=(0,r.wA)(),{version:n}=(0,o.DP)(),s="ui3"===n,u=(0,r.d4)(L.i$),p=(0,r.d4)(z.od),T=!(0,r.d4)(H.Jp),D=(0,r.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===B.C4),W=(0,r.d4)(e=>!!e.modalShown&&e.modalShown.type===G.n.type),{componentDescription:X}=(0,x.z6)(),Z=(0,r.d4)(e=>e.pickerShown),Q=D||W||Z?.id===B.Dd,ee=!!(0,r.d4)(U.Z3).length,et=(0,r.d4)(U.K4),en=!!et?.length,ea=(0,r.d4)(k.Dr),er=(0,r.d4)(k.Ct),{allowLibraryPublish:el}=(0,a.useContext)(w.s),{submit:ei,apply:es}=(0,C.wP)(),eo=a.useRef(null),ec=a.useRef(null),ed=a.useCallback(e=>{Z&&t(b.XE()),D?t(f.oB()):t(f.j7({type:B.C4}))},[t,Z,D]),eu=a.useCallback(e=>{(0,B.Pp)(p,!1,e,B.Fv.ICON);let n=ec.current,a=n?(0,I.cn)(n,B.wh):{};t(v.to({type:G.n,data:{propType:e,initialX:a?.x??0,initialY:a?.y??0}}))},[t,p]),ep=a.useCallback(()=>{p&&(p.isLooseComponent?S.Y5.triggerActionInUserEditScope("create-state-group"):eu(c.J0O.VARIANT))},[eu,p]),em=a.useCallback(()=>{let e=ec.current,n=e?(0,I.cn)(e,B.wh):{};t(b.u1({id:B.Dd,initialX:n?.x,initialY:n?.y}))},[t]),e_=a.useCallback(async()=>{if(!p)return;let e=(await ei({components:[p],clientLifecycleId:(0,h.g)()}))[0];e&&d.l7.user("apply-suggested-props",()=>{es(e)})},[ei,es,p]),eh=p?.isCodeComponent,eg=(0,m.kc)().ds_variable_props_unified_ui?[...(0,m.kc)().ds_variable_props_number_type?[c.J0O.NUMBER]:[],c.J0O.TEXT,c.J0O.BOOL,...eh?[]:[c.J0O.INSTANCE_SWAP]]:[c.J0O.BOOL,...eh?[]:[c.J0O.INSTANCE_SWAP],c.J0O.TEXT,...(0,m.kc)().ds_variable_props_number_type?[c.J0O.NUMBER]:[]];return p?a.createElement(R.Zk,{ref:ec},a.createElement(x.QQ,null),s&&!T?a.createElement(M.n,{description:X}):null,a.createElement(s?J:q,{isPanelEmpty:T,isAddPropButtonSelected:Q,hasBubbledInstances:ee,stateGroupSelectionMode:u,selectAddPropOptionRef:eo,toggleAddPropDropdown:ed,recordingKey:e}),D&&eo.current&&a.createElement(A.Cf,{targetRect:eo.current.getBoundingClientRect(),propagateCloseClick:!0},a.createElement(g.c$,{disabled:!0,className:j.XV},(0,E.tx)("design_systems.component_properties.create_new_property")),!eh&&a.createElement(g.c$,{className:j.RU,onClick:ep,recordingKey:_.Pt("openCreatePropModal",(0,B.xb)(c.J0O.VARIANT))},a.createElement(N.Nu,null,a.createElement(y.U,{svg:Y.A},a.createElement(l.m,null))),(0,E.tx)("design_systems.component_properties.across_variants")),eg.map(e=>a.createElement(g.c$,{key:e,className:j.RU,onClick:()=>eu(e),recordingKey:_.Pt("openCreatePropModal",(0,B.xb)(e))},a.createElement(N.Nu,null,a.createElement(y.U,{svg:(0,B.qe)(e)},(0,B.zn)(e,!0))),(0,B.xb)(e))),en&&a.createElement(a.Fragment,null,a.createElement(g.wv,null),a.createElement(g.c$,{disabled:!0,className:j.XV},(0,E.tx)("design_systems.component_properties.expose_nested_instances")),a.createElement(g.c$,{className:j.RU,onClick:em,recordingKey:"openBubbledPropPicker"},a.createElement(N.Nu,null,a.createElement(y.U,{svg:$.A},a.createElement(i.M,null))),(0,E.t)("design_systems.component_properties.choose_instances"))),(0,m.kc)().first_draft_suggest_props&&a.createElement(a.Fragment,null,a.createElement(g.wv,null),a.createElement(g.c$,{className:j.RU,onClick:e_,recordingKey:"suggestProps"},a.createElement(N.Nu,null,a.createElement(y.U,{svg:$.A},a.createElement(i.M,null))),(0,E.t)("first_draft.suggest_properties")))),Z?.id===B.Dd&&a.createElement(K.Z,null),a.createElement(V.e6,{containerWidth:s?B.O2.RESIZABLE_SIDEBAR:B.O2.REGULAR,propDimension:B.OE.DEFINITION,guids:[p.guid],recordingKey:e,enableHidingOverflowRowsInUI3:!1,entrypointForInstanceSwapPicker:null}),ee&&a.createElement(a.Fragment,null,a.createElement("p",{className:j.Zr},(0,E.t)("design_systems.component_properties.bubbled_instances")),a.createElement(F.$,{recordingKey:e})),s&&ea&&er&&el?a.createElement(O.Ad,{label:null,input:a.createElement(P.U,null)}):null):null}function q({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:r,selectAddPropOptionRef:l,toggleAddPropDropdown:i}){return a.createElement(R.fI,{className:!e||t||n?void 0:j.et},a.createElement(R.xw,{className:j.yr},(0,E.tx)("design_systems.component_properties.properties")),r!==c.iCO.STATE&&a.createElement("div",{ref:l,className:j.LG},a.createElement(R.YW,{className:j.c9,onClick:i,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("design_systems.component_panel.create_component_property"),svg:X.A,recordingKey:"openCreatePropModalDropdown"})))}function J({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:r,selectAddPropOptionRef:l,toggleAddPropDropdown:i}){let o=a.useRef(null),d=e&&!n?(0,E.tx)("design_systems.component_properties.add_property"):(0,E.tx)("design_systems.component_properties.properties"),u=_.rf("openCreatePropModalDropdown","click",i),m=_.rf("openCreatePropModalDropdown","mousedown",e=>e?.stopPropagation());return a.createElement(D.pG,{onClick:u,onMouseDown:m,ref:o,input:d,label:null,appendedClassName:p()(j.jP,{[W.yf]:!t}),icon:r!==c.iCO.STATE?a.createElement("div",{ref:l,className:p()(j.LG)},a.createElement(R.YW,{className:j.c9,selected:t,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("design_systems.component_panel.create_component_property")},a.createElement(s.e,null))):void 0})}},102774:(e,t,n)=>{n.d(t,{Ay:()=>I,BZ:()=>w,m4:()=>k});var a=n(411855),r=n(188507),l=n(474474),i=n(740941),s=n(301929),o=n(9063),c=n(723789),d=n(558134),u=n(56182),p=n(899469),m=n(551857),_=n(296027),h=n(139558),g=n(686644),y=n(25975),E=n(1829),f=n(659283),b=n(173038),v=n(824280),C=n(542030),S=n(978760);let w="ui3-layers-horizontal-scroll-onboarding-key",k="ui2-layers-horizontal-scroll-onboarding-key",T=(0,m.r1)("seen_ui3_layers_horizontal_scroll_overlay");function I(){let e=(0,c.GS)(),t=(0,r.wA)(),n=(0,h.aV)(),m=(0,g.iZ)(),I=(0,i.md)(p.Fy),N=(0,r.d4)(e=>e.mirror.appModel.currentPage),A=(0,E.Fk)((e,t)=>!(0,_.zC)(e,t),N),x=(0,i.md)(T),{show:M,isShowing:P,complete:R,uniqueId:L}=(0,u.e)({overlay:S.vlG,priority:f.N.SECONDARY_MODAL},[I,x]);a.useEffect(()=>{M({canShow:(e,t)=>e&&!n&&A&&!t})},[M,n,A,I]);let O=e?{title:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.ui3_title"),description:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.ui3_description"),primaryCta:{label:(0,s.tx)("general.got_it"),ctaTrackingDescriptor:o.c.GOT_IT,type:"button",onClick:R},targetKey:w}:{title:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.ui2_title"),description:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.ui2_description"),primaryCta:{label:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.try_it_in_ui3"),ctaTrackingDescriptor:o.c.TRY_IT_IN_UI3,type:"button",onClick:function(){e||(y.nt.ui3.toggleValue(m,t,"horizontal_scroll_overlay"),R())}},targetKey:k};return(0,d.E)(L,["layers_horizontal_scroll","labs"],e=>{let t="layers_horizontal_scroll"===e.id,n="labs"===e.id&&e.properties?.name==="unified_index_v3_endpoint";P&&(t||n)&&R()}),a.createElement(v.rq,{...O,isShowing:P,trackingContextName:"UI3 Layers Horizontal Scroll Overlay",onClose:R,disableHighlight:!0,arrowPosition:C.F_.RIGHT_TITLE,media:a.createElement(b.w,{src:(0,l.ck)("86193716c443398bbd6b55d19b65db2eaf0fe3c1"),aspectRatio:16/9})})}},367984:(e,t,n)=>{n.d(t,{j:()=>i});var a=n(466585),r=n(978760);let l=(0,a.Op)({initial:"ready_to_show",states:[{id:"ready_to_show",transitions:[(0,a.nr)("curator_content_shown","no_figma_basics_onboarding_was_shown_in_current_session",{condition:({event:e})=>e.properties.shown===r.WD4.id})]},{id:"no_figma_basics_onboarding_was_shown_in_current_session",terminal:!0}]}),i=(0,a.rn)("track_no_figma_basics_onboarding_shown",l)},814003:(e,t,n)=>{n.d(t,{T:()=>v,g:()=>b});var a=n(411855),r=n(188507),l=n(301929),i=n(342482),s=n(764554),o=n(9063),c=n(558134),d=n(56182),u=n(556576),p=n(686644),m=n(15544),_=n(659283),h=n(824280),g=n(63114),y=n(618120),E=n(978760),f=n(373094);let b={[f.a5]:!1,[f.fc]:!1,[f.bo]:!1};function v(){let e=(0,u.MY)(),t=(0,u.q5)(),n=(0,r.wA)(),v=(0,p.iZ)(),{show:C,isShowing:S,complete:w,uniqueId:k}=(0,d.e)({overlay:E.TrJ,priority:_.N.SECONDARY_MODAL},[e]),T=(0,i.te)(),I=!!(0,m.f)(f.fc),N=t?.canEdit,{currentView:A,visualAssetsType:x}=(0,g.wV)();return(0,c.E)(k,["Reset Visual Assets Tooltips",f.io],()=>{v&&t&&n(s.b(b))}),(0,a.useEffect)(()=>{N&&T()&&!I&&x&&A===g.S5.VisualAssets&&C(),S&&A!==g.S5.VisualAssets&&w()},[C,w,S,N,T,I,x,A]),a.createElement(h.rq,{isShowing:S,title:(0,l.tx)("rcs.visual_assets.drag_visual_assets_title"),description:(0,l.tx)("rcs.visual_assets.drag_visual_assets_description"),primaryCta:{label:(0,l.tx)("onboarding_pointers.got_it"),type:"button",onClick:w,ctaTrackingDescriptor:o.c.GOT_IT},trackingContextName:"Visual Assets Search Tooltip",userFlagOnShow:f.fc,targetKey:f.ko,arrowPosition:y.F_.LEFT_TITLE,onClose:w,pointToLeftEdge:!0,disableHighlight:!0,clickOutsideToHide:!0})}},480117:(e,t,n)=>{n.d(t,{L:()=>d});var a=n(411855),r=n(188507),l=n(922827),i=n(723789),s=n(720793),o=n(985091),c=n(505212);let d=a.memo(function(){let e=(0,o.ut)((0,s.aY)(),l.FAf.DESIGN),t=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),n=!(0,i.GS)()&&(t!==l.lyf.PREVIEW&&e!==l.FAf.COMMENT||t===l.lyf.PREVIEW);return a.createElement(c.B,{stackHeader:n,hideResolve:!1})})},282268:(e,t,n)=>{n.d(t,{o:()=>eF});var a=n(411855),r=n(922827),l=n(406755),i=n(472391),s=n(675808),o=n(556713),c=n(723789),d=n(592656),u=n(334367),p=n(244609),m=n(473547),_=n(139558),h=n(686644),g=n(985091),y=n(838516),E=n(740941),f=n(912675),b=n(688572),v=n(579557),C=n(188507),S=n(629019),w=n.n(S),k=n(196302),T=n(975123),I=n(474474),N=n(48198),A=n(525956),x=n(301929),M=n(556576),P=n(573545),R=n(133597),L=n(335034);function O(){let e=(0,C.wA)(),t=(0,h.iZ)(),{isEditingFile:n,unsortedTeams:r}=(0,L.DF)(),l=(0,M.q5)(),i=(0,R.sL)(l?.editorType),s=a.createRef();return a.createElement(a.Fragment,null,a.createElement("button",{className:w()(v.cx.flex.justifyCenter.itemsCenter.absolute.bottom0.left0.wFull.h40.colorBg.font11.fpl__textBodyMediumStrongFontWeight.cursorPointer.$,v.cx.b1.colorBorder.bb0.br0.bl0.$,"first_level_resource_contact_support--contactSupportButton--Ioy3K"),onClick:()=>{if((0,k.sx)("help_widget_get_help",{isEditingFile:n,editorType:i,source:"in-product-help-panel-button"}),(0,I.sL)()){(0,T.FJ)("mailto:support-figgov@figma.com","_blank","noopener");return}let e=0===r.filter(P.w5).length;s.current?.open({ticketForms:e?N.Fb.FREE:N.Fb.PAID,locale:t?.locale})}},(0,x.t)("help_widget.menu.contact_support")),a.createElement(A.F,{ref:s,dispatch:e,userName:t?.name||null,userEmail:t?.email||null}))}var D=n(727466),F=n(139689),K=n(997156);function B(){let{hideInProductHelpView:e}=(0,K.A5)();return a.createElement("div",{className:v.cx.flex.flexRow.justifyBetween.itemsCenter.$},a.createElement("p",{className:v.cx.font16.colorText.fpl__textHeadingLargeFontWeight.$},(0,x.t)("in_product_help_and_learning.first_level_header.title")),a.createElement(D.K,{onClick:()=>{e()},"aria-label":(0,x.t)("general.close")},a.createElement(F.A,null)))}var G=n(463033),V=n(448682),U=n(442009);function H(){let e=(0,f.j6)(),t=(0,h.Pc)().locale,[n,r]=a.useState(""),[l,i]=a.useState(!1),s=a.createRef(),o=a.createRef(),c=()=>{e.trackEvent("CTA Clicked",{text:"Help Center Search",searchQuery:n});let a=(0,V.lF)({query:n});(0,T.FJ)(`https://help.figma.com/hc/${(0,K.FI)(t)}/search?${a}`,"_blank","noopener")};return a.useEffect(()=>{if(o.current&&s.current){let e=s.current.offsetWidth;o.current.style.setProperty("--in-product-help-and-learning-search-bar-max-width",`calc(100% - 32px - ${e}px - 8px)`)}},[o,s]),a.createElement("form",{onSubmit:e=>{e.preventDefault(),c()},className:"first_level_resource_search_bar--searchBar--BexQF",ref:o},a.createElement(U.IW,{focusOnMount:!0,isFocused:l,hasTransparentBackground:!0,hideXIcon:!0,onFocus:()=>i(!0),onBlur:()=>i(!1),query:n,clearSearch:()=>r(""),onChange:r,iconClassName:v.cx.colorIconSecondary.$,className:w()(v.cx.h32.wFull.colorBgSecondary.bRadius8.$,{"first_level_resource_search_bar--isFocused--1E4mp":l})}),n.length>0&&a.createElement("div",{className:"first_level_resource_search_bar--searchButtonContainer--BADgp"},a.createElement(G.$n,{variant:"primary",type:"submit",ref:s},(0,x.tx)("in_product_help_and_learning.search"))))}var z=n(171946),W=n(34087);function j({sectionName:e,sectionOptions:t}){return a.createElement("div",{className:v.cx.flex.flexColumn.gap10.font11.fpl__textBodyMediumStrongFontWeight.mt8.$},a.createElement("p",{className:v.cx.mb2.$},e),t)}var $=n(696849);let Y=()=>[{label:(0,x.t)("help_widget.menu.help_center"),href:"https://help.figma.com/"},{label:(0,x.t)("help_widget.menu.support_forum"),href:"https://forum.figma.com/"},{label:(0,x.t)("help_widget.menu.release_notes"),href:"https://releases.figma.com/"},{label:(0,x.t)("help_widget.menu.legal_summary"),href:"/legal"},{label:(0,x.t)("help_widget.menu.submit_feedback"),href:"https://forum.figma.com/submit-feedback"},{label:(0,x.t)("help_widget.menu.ask_the_community"),href:"https://forum.figma.com/ask-community"},{label:(0,x.t)("help_widget.menu.navigating_figmas_redesign"),href:"https://help.figma.com/hc/en-us/articles/23954856027159-Navigating-Figma-s-redesign"}],X=a.memo(function(){let e=Y().map(e=>a.createElement("span",{key:e.label,className:v.cx.flex.gap8.colorTextBrand.cursorPointer.$},a.createElement(W.$z,{variant:"link",onClick:()=>{(0,T.FJ)(e.href,"_blank","noopener")},iconPrefix:a.createElement(z.B,{svg:$.A,width:"16px",className:v.cx.colorIconBrand.mr8.$})},e.label))),t=(0,x.t)("in_product_help_and_learning.more_help_resources.section_title");return a.createElement(j,{sectionName:t,sectionOptions:e})});var Z=n(659302),q=n(315711),J=n(135828),Q=(e=>(e[e.NEW_TO_FIGMA=0]="NEW_TO_FIGMA",e[e.EXPLORE_FEATURES=1]="EXPLORE_FEATURES",e[e.CREATE_COMPONENTS=2]="CREATE_COMPONENTS",e[e.DESIGN_FIRST_BUTTON=3]="DESIGN_FIRST_BUTTON",e[e.VIDEO_TUTORIALS=4]="VIDEO_TUTORIALS",e))(Q||{});function ee(e){switch(e){case 0:return[{displayString:(0,x.t)("in_product_help_and_learning.article.get_started_with_layers"),articleId:0x182dc2b40797},{displayString:(0,x.t)("in_product_help_and_learning.article.explore_layer_types"),articleId:0x183601f04d17},{displayString:(0,x.t)("in_product_help_and_learning.article.combine_layers"),articleId:0x1833cfa8cf97},{displayString:(0,x.t)("in_product_help_and_learning.article.create_and_edit_text"),articleId:0x53d40dbffa},{displayString:(0,x.t)("in_product_help_and_learning.article.browse_and_apply_fonts"),articleId:0x53d4225f82},{displayString:(0,x.t)("in_product_help_and_learning.article.apply_paints_with_the_color_picker"),articleId:0x53d41dbafe},{displayString:(0,x.t)("in_product_help_and_learning.article.add_images_and_videos_to_design_file"),articleId:0x53d40ed782},{displayString:(0,x.t)("in_product_help_and_learning.article.export_from_figma_design"),articleId:0x53d40ed7d2}];case 1:return[{displayString:(0,x.t)("in_product_help_and_learning.article.frames_in_figma_design"),articleId:0x53d425e791},{displayString:(0,x.t)("in_product_help_and_learning.article.add_auto_layout_to_a_design"),articleId:0x53677016397},{displayString:(0,x.t)("in_product_help_and_learning.article.explore_auto_layout_properties"),articleId:0x53d4154d2d},{displayString:(0,x.t)("in_product_help_and_learning.article.create_color_text_effect_and_layout_grid_styles"),articleId:0x53d3fb49a6},{displayString:(0,x.t)("in_product_help_and_learning.article.create_interactions"),articleId:0x53d4133b7d},{displayString:(0,x.t)("in_product_help_and_learning.article.prototype_triggers"),articleId:0x53d40ef5fa},{displayString:(0,x.t)("in_product_help_and_learning.article.prototype_actions"),articleId:0x53d40ef622},{displayString:(0,x.t)("in_product_help_and_learning.article.prototype_animations"),articleId:0x53d4166285},{displayString:(0,x.t)("in_product_help_and_learning.article.parent_child_and_sibling_relationships"),articleId:0x53d40dc9e6}];case 2:return[{displayString:(0,x.t)("in_product_help_and_learning.article.create_components_to_resuse_in_designs"),articleId:0x53d3fa03f2},{displayString:(0,x.t)("in_product_help_and_learning.article.create_and_insert_component_instances"),articleId:0x53d401725d},{displayString:(0,x.t)("in_product_help_and_learning.article.create_and_use_variants"),articleId:0x53d5094712},{displayString:(0,x.t)("in_product_help_and_learning.article.create_interactive_components_with_variants"),articleId:0x53d5518626},{displayString:(0,x.t)("in_product_help_and_learning.article.explore_component_properties"),articleId:0x513129d7517}];default:return[]}}function et({resource:e}){let t=(0,f.j6)(),n=(0,K.Yj)(),r=(0,Z.Xr)(K.J9),l=(0,Z.Xr)(K.Zf),i=(0,Z.Xr)(K.QU);return a.createElement("button",{key:e.title,className:v.cx.cursorPointer.$,style:J.sx.radiusMedium.b1.colorBorder.flex.flexRow.wFull.add({height:"74px",overflow:"hidden"}).$,onClick:async()=>{if(t.trackEvent("CTA Clicked",{text:e.title}),e.resource===Q.DESIGN_FIRST_BUTTON){let t=await n(0xcce00915a97);t&&(r(2),l(e),i(t))}else e.resource===Q.VIDEO_TUTORIALS?(0,T.FJ)("https://www.youtube.com/playlist?list=PLXDU_eVOJTx4iS4wLdfAcM1msnqZmVwC5","_blank","noopener"):(r(2),l(e))}},a.createElement(q.oW,{src:e.image,alt:"",style:J.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),a.createElement("div",{className:v.cx.flex.flexColumn.gap2.m12.wFull.font11.ellipsis.alignLeft.$},a.createElement("p",{className:v.cx.colorText.fpl__textBodyMediumStrongFontWeight.$},e.title),a.createElement("p",{className:v.cx.colorTextSecondary.$},e.description)))}function en(){let e=[{resource:0,title:(0,x.t)("in_product_help_and_learning.popular_resources.new_to_figma.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.new_to_figma.description"),image:(0,I.ck)("a657c232671f190106d0943282bf1a970f036718")},{resource:1,title:(0,x.t)("in_product_help_and_learning.popular_resources.explore_more_features.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.explore_more_features.description"),image:(0,I.ck)("033919a9d852c5a37b60923805a0e11f625cd9b1")},{resource:2,title:(0,x.t)("in_product_help_and_learning.popular_resources.create_components.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.create_components.description"),image:(0,I.ck)("4f93c71141e5989d9f4d8259d2e2751dc3b3d7ab")},{resource:3,title:(0,x.t)("in_product_help_and_learning.popular_resources.design_your_first_button.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.design_your_first_button.description"),image:(0,I.ck)("13d91474245b8e3949763a713a12805283cfe2a2")},{resource:4,title:(0,x.t)("in_product_help_and_learning.popular_resources.video_tutorials.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.video_tutorials.description"),image:(0,I.ck)("02377d4618e4b063422da13c18efd5debece9591")}];return a.createElement("div",{className:v.cx.flex.flexColumn.rowGap8.$},a.createElement("p",{className:v.cx.font13.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,x.t)("in_product_help_and_learning.popular_resources.section_title")),e.map(e=>a.createElement(et,{key:e.title,resource:e})))}var ea=n(176476),er=n(492841),el=n(899356),ei=n(25975),es=n(433909);function eo({option:e}){return a.createElement("span",{className:v.cx.flex.colorTextBrand.cursorPointer.$},a.createElement(W.$z,{variant:"link",onClick:e.onClick},e.label))}function ec(){let e=(0,C.wA)(),t=(0,C.d4)(e=>e.user),{hideInProductHelpView:n}=(0,K.A5)(),r=[{label:(0,x.t)("lab.ui3_disable"),onClick:()=>{n(),ei.nt.ui3.toggleValue(t,e,"in_product_help_menu")}},{label:(0,x.t)("help_widget.menu.change_keyboard_layout"),onClick:function(){el.Y5.isReady()&&(e(ea.FU({tab:"layout"})),el.Y5.triggerAction("toggle-keyboard-shortcuts"))}},{label:(0,x.t)("help_widget.menu.change_languages"),onClick:function(){e((0,er.to)({type:es.kA,data:{source:es.IO.HELP}}))}},{label:(0,x.t)("help_widget.menu.keyboard_shortcuts"),onClick:()=>{el.Y5.isReady()&&el.Y5.triggerAction("toggle-keyboard-shortcuts")}}].map(e=>a.createElement(eo,{key:e.label,option:e})),l=(0,x.t)("in_product_help_and_learning.settings.section_title");return a.createElement("div",{className:v.cx.mb16.$},a.createElement(j,{sectionName:l,sectionOptions:r}))}function ed({isFloatingModal:e}){return a.createElement("div",null,a.createElement(f.fu,{name:"First Level"},a.createElement("div",{className:v.cx.flex.flexColumn.gap16.p16.pb8.$},a.createElement(B,null),a.createElement(H,null)),a.createElement(b.P,{className:e?"first_level_resources--floatingModalScrollContainer--i7yEe":"first_level_resources--scrollContainer--t1Gzz"},a.createElement("div",{className:v.cx.flex.flexColumn.gap16.$},a.createElement(en,null),a.createElement(X,null),a.createElement(ec,null))),a.createElement(O,null)))}var eu=n(462132),ep=n(618120);function em({propertiesPanelWidth:e,isInsetEditorEnabled:t,view:n}){let[r,l]=(0,a.useState)((0,K.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t})),i=(0,a.useCallback)(()=>{l((0,K.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t}))},[t,e]);return(0,a.useEffect)(()=>{let e=(0,y.s)(()=>{i()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[i]),(0,a.useEffect)(()=>{i()},[e,i,t]),a.createElement(ep.vx,{initialWidth:K.yx,initialHeight:.8*window.innerHeight,initialPosition:new eu.Mi(r.x,r.y),maxHeight:.8*window.innerHeight},a.createElement("div",{"data-testid":"in-product-help-floating-modal",className:"dynamic_panel--floatingModalContainer--S9bdj"},n))}var e_=n(591032),eh=n(755020);function eg(){let e=(0,E.md)(K.J9),{hideInProductHelpView:t}=(0,K.A5)(),n=(0,Z.Xr)(K.J9);return a.createElement("div",{className:v.cx.flex.flexRow.justifyBetween.p16.pl12.$},a.createElement(e_.E,{onClick:()=>{n(e-1)},"aria-label":(0,x.t)("general.back"),className:v.cx.flex.flexRow.itemsCenter.justifyCenter.font11.colorText.fpl__textBodyMediumStrongFontWeight.cursorPointer.$},a.createElement(eh.C,null),(0,x.tx)("general.back")),a.createElement(D.K,{onClick:()=>{t()},"aria-label":(0,x.t)("general.close")},a.createElement(F.A,null)))}var ey=n(775448),eE=n(195909),ef=n(256659),eb=n(891721),ev=n.n(eb);let eC="third_level_resources--helpCenterArticle--Fnl-a";function eS({afterArticleChildren:e}){let{name:t}=(0,f.j6)(),n=(0,E.md)(K.Zf),r=(0,E.md)(K.J9),l=(0,E.md)(K.QU),i=a.createRef(),[s,o]=a.useState(),c=a.useCallback(()=>{i.current?.scrollTo(0,0)},[i]);return((0,a.useEffect)(()=>{Array.from(document.querySelectorAll(`.${eC} a`)).forEach(e=>{if(-1===e.href.indexOf("#"))e.target="_blank";else{let t=e.href.split("#",2);e.href=`#${t[1]}`}e.onclick=()=>{(0,k.sx)("CTA Clicked",{text:e.text,linkUrl:e.href,trackingContext:t,articleId:l?.id})}}),function(e){if(e&&0xcce00915a97===e.id){let e=document.querySelector(".contextual-content.contextual-content--NewUI p:first-of-type");try{if(e){let t=document.createElement("iframe");t.src="https://www.youtube.com/embed/HJG7ILVSjrI?si=kLtIPYEqkgMC_hwH",t.title="Youtube video player",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",t.referrerPolicy="strict-origin-when-cross-origin",t.allowFullscreen=!0,t.className="third_level_resources--embeddedVideo--lnko-";let n=e.parentNode;n&&n.insertBefore(t,e)}}catch(e){console.error(e)}}}(l),Array.from(document.querySelectorAll(`.${eC} img`)).forEach(e=>{e.onclick=()=>{o({src:e.src,alt:e.alt})}});let e=Array.from(document.querySelectorAll(".contextual-content--NewUI button.tablinks")),n=Array.from(document.querySelectorAll(".contextual-content--NewUI div.tabcontent"));if(e.length>0&&e.length===n.length){let t=0,a=t=>{e.forEach((e,n)=>{n===t?e.classList.add("active"):e.classList.remove("active")}),n.forEach((e,n)=>{n===t?e.style.display="block":e.style.display="none"})};e.forEach((e,n)=>{e.onclick=()=>a(n),e.classList.contains("active")&&(t=n)}),a(t)}c()},[l]),l)?a.createElement("div",null,a.createElement(f.fu,{name:"Help Center Article",properties:{articleId:l.id}},a.createElement(eg,null),!!n&&3===r&&a.createElement("h3",{className:"third_level_resources--breadcrumb--yQHOD"},n.title," /"," ",a.createElement("span",{className:v.cx.fpl__textBodySmallStrongFontWeight.$},l.name)),a.createElement("h1",{className:v.cx.lh24.fontSemiBold.font16.fontInter.pt0.px16.pb12.$},l.name),a.createElement("div",{className:"third_level_resources--container--RY81c",ref:i},a.createElement("div",{className:w()(v.cx.p16.pt8.$,eC),dangerouslySetInnerHTML:{__html:ev().sanitize(l.body)}}),e,a.createElement(ew,{image:s,onClose:()=>o(void 0)})))):null}function ew({image:e,onClose:t}){let n=ey.hS({open:!!e,onClose:t});return a.createElement(eE.bL,{manager:n,width:"fit-content"},a.createElement("div",{className:"third_level_resources--enlargedImageContainer--EqCOz"},a.createElement(ef.vo,null,a.createElement(q.oW,{src:e?.src,alt:e?.alt,className:"third_level_resources--enlargedImage--l3atX"}))))}function ek(){let e=(0,Z.Xr)(K.J9),t=(0,E.md)(K.Zf),n=(0,E.md)(K.QU);if(!t)return null;let r=null;return t.resource===Q.DESIGN_FIRST_BUTTON?a.createElement(eS,{afterArticleChildren:n&&0xcce00915a97===n.id?a.createElement(eI,null):void 0}):t.resource===Q.VIDEO_TUTORIALS?(e(1),null):(r=a.createElement(eT,{details:function(e){switch(e){case 0:return{description:(0,x.t)("in_product_help_and_learning.popular_resources.new_to_figma.details.description"),webm:(0,I.ck)("6db4a35b80ddb5910781af9bc60c66bf902dff3a"),mp4:(0,I.ck)("88dea447c3d80062d168b864c9c01aa5645790e5"),articles:ee(0)};case 1:return{description:(0,x.t)("in_product_help_and_learning.popular_resources.explore_more_features.details.description"),webm:(0,I.ck)("23c86354e978f77d1ca96b6cc52dfdc216f5a99d"),mp4:(0,I.ck)("fd204bb233c3be09b2e29f8621d93342c24b07af"),articles:ee(1)};case 2:return{description:(0,x.t)("in_product_help_and_learning.popular_resources.create_components.details.description"),webm:(0,I.ck)("0f0aad5b442ba063078c23b06010aab77ecf0c07"),mp4:(0,I.ck)("34285a0d04fb97f14cc2611ddc825950aec93300"),articles:ee(2)}}}(t.resource)}),a.createElement("div",null,a.createElement(f.fu,{name:"Second Level"},a.createElement(eg,null),a.createElement("div",{className:v.cx.flex.flexColumn.p16.pt8.pb0.$},a.createElement("p",{className:v.cx.font16.colorText.fpl__textHeadingLargeFontWeight.pb8.$},t.title),r))))}function eT({details:e}){let t=(0,K.Yj)(),n=(0,Z.Xr)(K.J9),r=(0,Z.Xr)(K.QU);return a.createElement(a.Fragment,null,a.createElement("p",null,e.description),a.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:v.cx.wFull.hAuto.borderBox.mt16.bRadius5.$},a.createElement("source",{type:"video/webm",src:e.webm}),a.createElement("source",{type:"video/mp4",src:e.mp4})),a.createElement("div",{className:v.cx.flex.flexColumn.gap16.pt24.$},e.articles.map(e=>a.createElement("span",{key:e.displayString,className:v.cx.colorTextBrand.cursorPointer.alignLeft.fpl__textBodyMediumStrongFontWeight.$},a.createElement(W.$z,{variant:"link",trackingProperties:{articleId:e.articleId},onClick:async()=>{let a=await t(e.articleId);a&&(n(3),r(a))}},e.displayString)))))}function eI(){let e=(0,K.Yj)(),t=(0,Z.Xr)(K.QU);return a.createElement("button",{key:"design-an-interactive-button",className:v.cx.radiusMedium.b1.colorBorder.flex.flexRow.m16.cursorPointer.overflowHidden.$,style:J.sx.add({height:"74px"}).$,onClick:async()=>{let n=await e(0x130e9f996b97);n&&t(n)}},a.createElement(q.oW,{src:(0,I.ck)("c657cef6e7f2fec74ceef573832e097f2d0ce4cd"),alt:"",style:J.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),a.createElement("div",{className:v.cx.flex.flexColumn.gap2.m12.font11.ellipsis.alignLeft.$,style:J.sx.add({margin:"auto 12px"}).$},a.createElement("p",{className:v.cx.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,x.tx)("in_product_help_and_learning.article.design_an_interactive_button")),a.createElement("p",{className:v.cx.colorTextSecondary.$},(0,x.tx)("in_product_help_and_learning.design_an_interactive_button.description")," \u2022"," ",(0,x.tx)("in_product_help_and_learning.minute_estimate",{minutes:20}))))}var eN=n(543509),eA=n(70067),ex=n(731173),eM=n(528889),eP=n(456959);function eR({view:e}){let{inProductHelpViewType:t}=(0,K.A5)(),n=(0,g.J2)(r.Ez5.uiState().inProductHelpSidePanelWidth);return"side_panel"!==t?null:a.createElement(eA.V,null,a.createElement(eP.X,null,a.createElement(eM.lY,{className:w()("dynamic_panel--sidePanelPosition--YOgLo",ex.Dm),size:n,onResize:e=>{!function(e){let t=(0,eN.qE)(e,K.Jm,K.tL);r.Ez5?.uiState().inProductHelpSidePanelWidth.set(t)}(e)},side:"left","data-cancel-insertable-resource-drag-and-drop":!0},a.createElement("div",{className:"dynamic_panel--sidePanelContainer--4KgPk",style:{width:`${n}px`},"data-testid":"in-product-help-side-panel"},e))))}function eL({propertiesPanelWidth:e,isInsetEditorEnabled:t}){let n;let{inProductHelpViewType:r,hideInProductHelpView:l,updateInProductHelpViewOnWindowWidthResize:i}=(0,K.A5)(),s=(0,E.md)(K.J9);return(1===s?n=a.createElement(ed,{isFloatingModal:"floating_modal"===r}):2===s?n=a.createElement(ek,null):3===s&&(n=a.createElement(eS,null)),a.useEffect(()=>{let e=(0,y.s)(()=>{"hidden"!==r&&i()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[r,t,e,i]),a.useEffect(()=>()=>l(),[l]),"side_panel"===r)?a.createElement(f.fu,{name:"In Product Help Panel"},a.createElement(eR,{view:n})):"floating_modal"===r?a.createElement(f.fu,{name:"In Product Help Floating"},a.createElement(em,{propertiesPanelWidth:e,isInsetEditorEnabled:t,view:n})):null}var eO=n(945763),eD=n(77266);function eF({boundaryKey:e,children:t}){let n=(0,_.aV)(),y=(0,p.q)(),E=(0,_.p8)("topLevelMode"),f=(0,h.iZ)(),b=n?m.R.topLevelMode:E,v=(0,g.ut)(r.Ez5?.uiState().isRecovery,!1),C=(0,c.GS)(),S=(0,i.HQ)(),w=(0,d.F)(),k=(b===r.lyf.LAYOUT||b===r.lyf.BRANCHING||v||!!f&&b===r.lyf.PREVIEW||C&&b===r.lyf.HISTORY)&&!S,T=(0,u.qw)(),I=(0,s.b)();(0,o.tt)();let{inProductHelpViewType:N}=(0,K.A5)();return w?a.createElement("div",{className:eD.KF},a.createElement(eO.v2,null)):a.createElement(l.tH,{boundaryKey:e,fallback:l.H4.NONE_I_KNOW_WHAT_IM_DOING},k&&y&&a.createElement(a.Fragment,null,t,"hidden"!==N&&a.createElement(eL,{propertiesPanelWidth:T,isInsetEditorEnabled:I})))}},513896:(e,t,n)=>{n.d(t,{b:()=>w});var a=n(411855),r=n(309782),l=n(183686),i=n(243742),s=n(474474),o=n(740941),c=n(744952),d=n(301929),u=n(912675),p=n(343904),m=n(658567),_=n(207510),h=n(144924),g=n(659283),y=n(876560),E=n(874991),f=n(819390),b=n(58758),v=n(279625),C=n(951864),S=n(337987);function w({entrypoint:e,onSetKeyboardNavigationElement:t,hideIfNoUpdates:n,recordingKey:r}){let u="ui3"===(0,i.DP)().version,w=(0,f.Xm)(),T=(0,o.md)(_.Lc),I=(0,o.md)((0,m.Xh)(w)),N=(0,E.n)()&&(0,s.kc)().fc_general,{isLibraryModalShown:A,onToggleLibraryModal:x}=(0,p.u)({entrypoint:e,modalType:"editor",initialTab:N?h.Wv.RECOMMENDED:u&&T?h.Wv.UPDATES:h.Wv.LIBRARIES}),M=a.useMemo(()=>T?(0,d.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):I?(0,d.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,d.t)("fullscreen.libraries_button.tooltip.no_updates"),[T,I]),P=T||I;return((0,b.Pf)({showBadge:P,hasChangesToPull:T,disabled:!u}),!n||T||I)?a.createElement("div",{className:"library_modal_button--teamLibraryIcon--EBc7q","data-onboarding-key":"library"},u?a.createElement(k,{"aria-label":M,toggled:A,ref:t,recordingKey:c.Pt(r,"teamLibrary"),onClick:x,htmlAttributes:{"data-onboarding-key":g.D}},a.createElement(l.l,null),P&&a.createElement("div",{className:"library_modal_button--badgeContainer--ebOHQ"},a.createElement("span",{className:"library_modal_button--updatesBadge--B4nW-","data-testid":"library-button-badge"})," ")):a.createElement(v.o5,{ref:t,recordingKey:c.Pt(r,"teamLibrary"),selected:A,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,d.t)("fullscreen.libraries_button.tooltip.no_updates"),"data-onboarding-key":g.D,svg:C.A,fallbackSvg:S.A,onClick:x,innerText:"Team Library"})):null}let k=(0,u.tf)(r.d)},966491:(e,t,n)=>{n.d(t,{m:()=>tg});var a=n(411855),r=n(188507),l=n(974880),i=n(196302),s=n(689570),o=n(131169),c=n(376793),d=n(659302),u=n(740941),p=n(415684),m=n(462132),_=n(730215),h=n(579557),g=n(301929),y=n(870501),E=n(390816),f=n(342482),b=n(508256),v=n(317004),C=n(529e3),S=n(492841),w=n(754468),k=n(669858),T=n(647942),I=n(296463),N=n(898499),A=n(657421),x=n(556576),M=n(193772),P=n(267469),R=n(848507),L=n(11416),O=n(67753);function D(e){let t=(0,A.RR)(),n=(0,R.Xd)(),l=(0,r.d4)(P.getPermissionsState),i=(0,x.q5)(),s=r.d4(L.x)?.id,{currentUserOrgId:o}=l,c=!!(o&&(0,P.canGuestOrg)(o,l)),d=!!(s&&(0,P.hasActiveEduTeam)(l,s));return(0,a.useMemo)(()=>n.transform(n=>{if(!i||!s)return!1;if(c)return!0;if(t){if(n.seatTypeLicenseTypes?.includes(M.G_.DESIGN))return!0}else if(n.designPaidStatus===M.dQ.FULL)return!0;return!!d||u.zl.get(O.TG).has(e)}),[n,i,s,c,t,d,e])}var F=n(262490),K=n(57833),B=n(792250),G=n(899356),V=n(551046),U=n(691537),H=n(435521),z=n(658567),W=n(144924),j=n(279159),$=n(750380),Y=n(534599),X=n(885669),Z=n(495913),q=n(792863),J=n(618120),Q=n(975123),ee=n(474474),et=n(844882),en=n(531629),ea=n(180575),er=n(292506),el=n(517147),ei=n(283695),es=n(55777),eo=n(992243),ec=n(225105),ed=n(781505),eu=n(887929),ep=n(546619),em=n(644526),e_=n(573545),eh=n(805262),eg=n(34028),ey=n(567836);let eE="asset_file_path--path---PrgD text--fontPos11--2LvXf text--_fontBase--QdLsd",ef="asset_file_path--skeletonText--PIxni";function eb({assetFileKey:e,assetLibraryKey:t,assetNodeId:n}){let l=(0,eh.ol)(),i=(0,ec.sZ)(),s=!!i||(0,e_.w5)(l),o=i?.id,c=em.M4.useFile(e),d=(0,et.Rs)(ep.epW,{fileKey:e},{enabled:s}),u=d?.data?.file,p=function(e,t){let n=(0,r.d4)(e=>e.hubFiles)[e];return(0,el.wJ)(e)&&n?(0,er.qD)(n).name:t}(e,c?.data?.name),m=function(e,t,n){let l=(0,el.wJ)(e),i=(0,ei.Sw)(e,t).unwrapOr(!1),s=(0,ei.bL)({libraryKey:t,disabled:!(0,ee.kc)().dse_lk_go_to_source}),o=(0,r.d4)(x.tB),c=em.M4.useFile(e).data;return a.useMemo(()=>{if((0,ee.kc)().dse_lk_go_to_source){if(o?.libraryKey===t)return null;let e=s.data;return null==e?null:e.link}if(!i||l||!c||!o||c.key===o.key)return null;let e=(0,ed.to)(c);return(0,Q.dR)(e,{"node-id":encodeURIComponent((0,eu.EO)(n))})},[n,t,i,c,o,l,s])}(e,t,n),_=d?.status==="loading",g=(0,eo.E_)(e),y=u?.teamLimitedInfo?.id,E=y?function(e,t){let n=location.origin;return t?`${n}/files/${t}/team/${e}`:`${n}/files/team/${e}`}(y,o):void 0,f=u?.teamLimitedInfo?.name,b=y&&f&&s,v=u?.computedWorkspace?.workspace?.id,C=v&&o?eg.fO(v,o):void 0,S=u?.computedWorkspace?.workspace?.name,w=v&&S&&s;return s&&_?a.createElement("div",{className:eE,"data-testid":"asset-file-path-loader"},a.createElement(en.Wi,{className:ef,opacity:50}),"/",a.createElement(en.Wi,{className:ef,opacity:50})):a.createElement("div",{className:eE},w&&a.createElement(a.Fragment,null,a.createElement(ea.q,{tooltipText:S},a.createElement(ey.X,{href:C??"",newTab:!0},S)),"/"),b&&a.createElement(a.Fragment,null,a.createElement(ea.q,{tooltipText:f},a.createElement(ey.X,{href:E??"",newTab:!0},f)),"/"),a.createElement(ea.q,{tooltipText:p},m?a.createElement(ey.X,{href:m,newTab:!0},p):a.createElement("span",null,p)),g&&a.createElement("div",{className:h.cx.flex.alignCenter.justifyCenter.ml2.$},a.createElement(es.E,{hubFileId:e,showTooltip:!0})))}var ev=n(434236),eC=n(922827),eS=n(596523),ew=n(641860),ek=n(745153),eT=n(463033),eI=n(727466),eN=n(470370),eA=n(615832),ex=n(466391),eM=n(927006),eP=n(171946),eR=n(603275),eL=n(879188),eO=n(278053),eD=n(723789),eF=n(139558),eK=n(925163),eB=n(876560),eG=n(152824),eV=n(267361),eU=n(279625),eH=n(438347),ez=n(797500),eW=n(248007),ej=n(153393);function e$({assetKey:e,type:t,updatedAt:n,fileKey:r}){let l=(0,ej.R8)({assetKey:e,type:t}),{avatar:i,authorName:s}=a.useMemo(()=>{let e=ee.Ay().mvp_va_overrides?.[r]?.author_name,t=ee.Ay().mvp_va_overrides?.[r]?.author_img_url;if(e&&t)return{avatar:a.createElement(eW.e,{entity:{id:"overrideId",img_url:t,name:e},size:ez.Pf.SMALL}),authorName:e};if("loaded"!==l.status||!l.data)return{avatar:null,authorName:null};if("community"===l.data.type)return{avatar:a.createElement(eW.e,{entity:(0,ej.M)(l.data.communityProfile),size:ez.Pf.SMALL}),authorName:l.data.communityProfile.name};let n=(0,ej.G5)(l.data.user);return null!=n&&n.img_url&&(n.handle||n.name)?{avatar:a.createElement(ez.H8,{user:n,size:ez.Pf.SMALL}),authorName:n.handle}:{avatar:null,authorName:null}},[l,r]);return"loading"===l.status?a.createElement(en.Wi,{className:h.cx.h16.w100.$,animationType:en.JR.LIGHT_SHIMMER}):i&&s?a.createElement("div",{className:"asset_updated_details--updatedAtAvatar--uf4Gy"},i,a.createElement("span",{className:"asset_updated_details--handle--63B8y"},s),n?a.createElement(a.Fragment,null,a.createElement("span",{className:"asset_updated_details--dot--SoliI"},"\xb7"),a.createElement(eH.h1,{date:n})):null):n?a.createElement("div",{className:"asset_updated_details--updatedAt--eam-d"},(0,g.tx)("design_systems.assets_panel.updated_at",{updatedAt:a.createElement(eH.h1,{date:n})})):null}var eY=n(600307),eX=n(572304),eZ=n(30231);function eq({renderedAssetData:e}){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.dropdownShown),l=a.useMemo(()=>{let t=e?.nodeData?.moduleFrameData?.selectedFrameGUID;return null==t||t===eX.AD?{type:"all"}:{type:"guid",guid:t}},[e?.nodeData?.moduleFrameData?.selectedFrameGUID]),i=a.useCallback(e=>{let t="all"===e.type?eX.AD:e.guid;eC.glU.setPlaygroundSelectedNode(t)},[]),{nodeData:s}=e,o=a.useMemo(()=>({format:t=>{if("all"===t.type)return"All frames";let n=e?.nodeData?.moduleFrameData?.frames??{};return n[t.guid]?.name??""}}),[e?.nodeData?.moduleFrameData?.frames]);if(null==s)return null;let{playgroundGUID:c,moduleFrameData:d}=s;if(!c||null==d)return null;let u=Object.keys(d.frames??{});return u.length<2?null:a.createElement("div",{className:"playground_module_frame_section--wrapper--65QB6"},a.createElement("div",{className:"playground_module_frame_section--title--PCfEU"},(0,g.tx)("design_systems.assets_panel.frames")),a.createElement(eZ.l6,{id:"playground-module-frame-select",property:l,formatter:o,dispatch:t,onChange:i,dropdownShown:n},a.createElement(eZ.c$,{value:{type:"all"}}),a.createElement(eZ.sK,null),u.map(e=>a.createElement(eZ.c$,{key:e,value:{type:"guid",guid:e}}))))}var eJ=n(629019),eQ=n.n(eJ),e0=n(332471),e1=n(98622),e5=n(602409),e3=n(207259);let e2=(0,s.jz)(e3.figmaComponentFlyoutTextMaxCollapsedHeight);function e4({description:e,description_rt:t}){let n=a.useRef(null),[r,l]=a.useState(!0),[i,s]=a.useState(!1),o=(0,eS.ZC)(e);a.useEffect(()=>{if(e&&n.current&&o!==e){let e=n.current.scrollHeight>e2;l(e),s(e)}},[e,o]);let c=a.useCallback(()=>{r&&s(!0),l(!r)},[r]);if(!e&&!t)return null;let d=!!e&&(r||i);return a.createElement("div",{className:"truncated_component_description--documentationSection--87RCO"},t?a.createElement("div",null,a.createElement(e1.C,{value:t,valueFormat:(0,e0.j_)(t),namespace:"component-description-flyout-lexical-editor-readonly",lexicalContentClassName:r?e5.D6:e5.kF,innerRef:n})):a.createElement("div",{ref:n,className:eQ()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":r},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto"},e),d&&a.createElement("button",{className:"truncated_component_description--showMore--brfX6",onClick:c},r?(0,g.tx)("design_systems.assets_panel.show_more"):(0,g.tx)("design_systems.assets_panel.show_less")))}var e6=n(313888),e8=n(132208),e7=n(798415);let e9=(0,y.fv)();function te({renderedAssetData:e,errorType:t,canViewPlayground:n,onInsert:r,shouldHideError:l,onSetShouldHideError:i}){let s=(0,eF.T3)(),[o,c]=a.useState(!1),d=(0,eD.GS)();a.useEffect(()=>{c(!1),i(!1)},[e.asset,i]);let u=(0,eY.S)(e.asset),p=(0,eV.Y)(e.asset),m=a.useMemo(()=>(0,eK.kH)(e.asset.name??""),[e.asset.name]),_=a.useRef(null),h=(0,eA.NG)({text:m,textRef:_}),y=a.useMemo(()=>e9(e.asset),[e.asset]),E=e.asset,f=a.useMemo(()=>{let t=e.nodeData?.playgroundGUID;if(!t)return"";let n=s.get(t);if(!n)return"";let a=s.get(n.symbolId??"");return a?(a.isState?a.parentGuid:a.guid)??"":""},[e,s]),b=a.useMemo(()=>{if(t)return{errorType:t,shouldHideError:l,setShouldHideError:i}},[t,l,i]),v=e.asset.type===W.PW.MODULE&&(0,ee.kc)().dse_editor_templates_v1?(0,g.tx)("design_systems.assets_panel.insert_template"):(0,g.tx)("design_systems.assets_panel.insert_instance");return a.createElement("div",{className:"component_flyout_body--bodyWrapper--CoGX-"},u&&!o&&a.createElement("div",{className:"component_flyout_body--updateBanner--ETDK5 component_flyout_body--_bodyPadding--KrB6p text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(eM.z,{orientation:"vertical",iconSrc:e8.A,onClose:()=>c(!0),variant:"design"},(0,g.tx)("design_systems.assets_panel.update_banner"))),a.createElement("div",{className:"component_flyout_body--headerFileNameWrapper--MH4jz component_flyout_body--_bodyPadding--KrB6p"},a.createElement("h2",{className:"component_flyout_body--header--3LXSQ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-tooltip":h?m:void 0,"data-tooltip-type":eB.Ib.TEXT,ref:_},m),!!p&&p>1&&a.createElement("div",{className:"component_flyout_body--numVariants--nureW"},(0,g.tx)("design_systems.assets_panel.variant_count",{numVariants:p}))),a.createElement("div",{className:"component_flyout_body--descriptionWrapper--wFyRa component_flyout_body--_bodyPadding--KrB6p"},a.createElement(e4,{description:E.description,description_rt:E.description_rt})),E.updated_at&&a.createElement("div",{className:"component_flyout_body--updatedWrapper--q4V48 component_flyout_body--_bodyPadding--KrB6p"},a.createElement(e$,{assetKey:(0,U.Av)(E),fileKey:y,type:E.type,updatedAt:E.updated_at})),a.createElement("div",{className:"component_flyout_body--buttonWrapper--Sb1Mq component_flyout_body--_bodyPadding--KrB6p"},(0,ee.kc)().dse_fpl_wave_1&&d?a.createElement(eT.IK,{onClick:r},v):a.createElement(ex.$$,{onClick:r,fullWidth:!0},v)),n&&!e?.nodeData&&!b&&a.createElement("div",{className:"component_flyout_body--skeletonWrapper--urKH5"},a.createElement(en.Wi,{className:"component_flyout_body--skeletonHeader--VoEY3",opacity:50}),a.createElement(en.Wi,{className:"component_flyout_body--skeletonBody--pINXr",opacity:50})),n&&(e?.nodeData||b)&&a.createElement(eF.q0.Provider,{value:s},(0,ee.kc)().dse_editor_templates_v1&&(0,ee.kc)().dse_editor_templates_frames&&a.createElement(eq,{renderedAssetData:e}),a.createElement("div",{className:"component_flyout_body--propsContainer--w8pmU"},a.createElement(eO.x,{componentProps:e.nodeData?.componentProps,moduleProps:e.nodeData?.moduleProps,moduleFrameData:e.nodeData?.moduleFrameData??void 0,label:a.createElement(tt,{renderedAssetData:e}),playgroundGUID:e.nodeData?.playgroundGUID,productComponentGUID:f,sceneGraph:s,instanceSwapPickerInitialHeight:200,instanceSwapPickerInitialPosition:"right-center",containerWidth:eG.O2.UNBOUNDED,errorData:b,shouldShowDividerAboveProps:!0})),a.createElement("div",{className:"component_flyout_body--modeContainer--8n5p5"},a.createElement(eL.b,{fill:!0,modes:e.nodeData?.modeData||{}}))))}function tt({renderedAssetData:e}){let t=a.useCallback(()=>{e.refetchAndResetScene()},[e]);return a.createElement("div",{className:"component_flyout_body--playgroundHeader--lQfDc"},a.createElement("div",{className:"component_flyout_body--flyoutLabel--6Y6lR text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(eP.B,{className:"component_flyout_body--headerIcon--FHdrw",svg:e6.A}),(0,g.tx)("design_systems.assets_panel.playground_label")),(0,ee.kc)().dse_fpl_wave_1?a.createElement("span",{className:"component_flyout_body--resetButtonContainer--fCSjD"},a.createElement(eI.K,{"aria-label":(0,g.t)("design_systems.playground.reset_properties"),onClick:t,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,g.t)("design_systems.playground.reset_properties"),"data-tooltip-type":eB.Ib.TEXT}},a.createElement(eR.U,{svg:e7.A},a.createElement(eN.N,null)))):a.createElement(eU.K0,{className:"component_flyout_body--resetButton--wVXDQ",svg:e7.A,onClick:t,"data-tooltip":(0,g.t)("design_systems.playground.reset_properties"),"data-tooltip-type":eB.Ib.TEXT,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps"}))}var tn=n(7600),ta=n(902225),tr=n(128731),tl=n(540706);n(396353);let ti="component_flyout_thumbnail--thumbnail--p3jV2";function ts({canViewPlayground:e,renderedAssetData:t,onCloseIfHidden:n,setFlyoutHidden:r,sectionPosition:l,sectionNameForTracking:i,sectionDepth:s}){let o=a.useCallback(()=>{r(!0)},[r]),{onInsertableResourcePointerDown:c,dragState:d}=(0,tr.j)({resource:t.asset,isList:!1,clickToInsert_DEPRECATED:!1,sourceForTracking:"asset-description-preview",fromPlayground:e,recomputeCancelRectsOnPointerUp:!0,onDragStart:o,onPointerUpWithoutInsert:n,sectionPosition:l,sectionNameForTracking:i,sectionDepth:s}),u=a.useMemo(()=>{let e=(0,k.zR)(t.asset,null);if(null!=e)return tn.F.format(e)},[t.asset]);return a.createElement("div",{className:"component_flyout_thumbnail--thumbnailWrapper--P38Qq",onPointerDown:c,role:"button",style:u?{backgroundColor:u}:void 0},e&&t?.thumbnailData&&t.hasChangesToReset?a.createElement("img",{className:ti,src:t.thumbnailData.src,alt:(0,g.t)("design_systems.playground.thumbnail_alt"),draggable:!1}):a.createElement(tl.M,{className:ti,draggable:!1,key:(0,N.V)(t.asset),item:t.asset,shouldGenerateLocalThumbnail:!1}),a.createElement(ta.q,{dragState:d,isList:!1,thumbnailOverrideSrc:e&&t?.thumbnailData?t.thumbnailData.src:void 0}))}let to={maxWidth:640,maxHeight:480};function tc({asset:e,onInsert:t,onLoaded:n,flyoutHidden:l,onCloseIfHidden:i,setFlyoutHidden:s,sectionPosition:o,sectionNameForTracking:c,sectionDepth:d}){let u=D(e.library_key),[p,m]=a.useState(!1),_=a.useCallback(()=>m(!1),[]),h=(0,ek.MO)({canvasAsset:e,canViewPlaygroundQueryResult:u,onLoaded:n,onError:_,thumbnailOptions:to}),g=(0,H.H)(),y=(0,r.d4)(e=>e.fileVersion),E=(0,eS.ZC)(y);if(a.useEffect(()=>{h?.state==="LOADED"&&h?.currentAssetData?.nodeData?.playgroundGUID&&null!=E&&E!==y&&(g(),eC.glU.clearPlaygroundScene())},[y,E,g,e.type,h]),!h)return a.createElement("div",{className:"component_flyout--spinner--c-wap"},a.createElement(ev.k,null));let f="LOADED"===h.state?h.currentAssetData:h.previousAssetData,b="ERROR"===h.state?h.errorType:void 0;return a.createElement(ew.k,{name:"props_playground"},a.createElement("div",{className:"component_flyout--wrapper--96Jih"},a.createElement(ts,{renderedAssetData:f,canViewPlayground:u.unwrapOr(!1),onCloseIfHidden:i,setFlyoutHidden:s,sectionPosition:o,sectionNameForTracking:c,sectionDepth:d}),!l&&a.createElement(te,{renderedAssetData:f,errorType:b,canViewPlayground:u.unwrapOr(!1),onInsert:t,onSetShouldHideError:m,shouldHideError:p})))}var td=n(822565),tu=n(997996),tp=n(132540);let tm=(0,s.jz)(tp.LdP),t_=(0,s.jz)(tp.wkK),th=(0,y.fv)(),tg=(0,$.Ju)(function({asset:e,searchSessionId:t,query:n,sectionPosition:s,sectionNameForTracking:y,assetTypeDropdownSelection:A,sectionDepth:M,containerWidth:P,onGetKeyboardNavigationItemById:R}){let L=a.useRef(null),$=(0,d.Xr)(td.T),Q=a.useMemo(()=>th(e),[e]),ee=D(e.library_key),et=(0,u.md)(O.TG),en=(0,u.md)(Z.xL),ea=!!(0,f.GM)()()&&en.includes(Q),er=a.useMemo(()=>({fileKey:Q,libraryKey:e.library_key}),[e,Q]),el=(0,Y._9)(er,!0,"asset_panel_visual_assets_flyout_insert"),ei=(0,T.fV)(e.library_key),es=(0,x.q5)(),eo=(0,r.wA)(),ec=(0,r.d4)(e=>(0,z.e_)(e).local.thumbnails),ed=(0,H.H)(),eu=(0,r.d4)(e=>e.instanceSwapPickerShown),ep=(0,X.k)(),em=(0,B.tM)();(0,c.h)(()=>{i.az.trackDefinedEvent("assets_panel.flyout_opened",{assetKey:(0,N.V)(e),assetType:(0,N.q)(e.type),assetLibraryKey:e.library_key,isLocal:e.isLocal,fileParentOrgId:es?.parentOrgId??void 0,fileTeamId:es?.teamId??void 0,assetsPanelVersion:ep,partnerType:(0,K.X)(e.library_key),queryId:em??void 0})}),(0,c.h)(()=>()=>{eo((0,b.vq)()),$(!1)}),a.useEffect(()=>{if(!(0,U.dx)(e)||!e.isLocal)return;let t=e.node_id?ec[e.node_id]:null,n=e.type===W.PW.COMPONENT?e.content_hash:e.version;t?.content_hash!==n&&requestAnimationFrame(()=>{let t=(0,k.r2)(e.node_id);null!=t&&eo(C.T1({thumbnails:[{nodeId:e.node_id,url:t,type:e.type}],source:W.$1.LOCAL}))})},[e,eo,ec]);let e_=a.useCallback(()=>{requestAnimationFrame(()=>L?.current?.ensureModalOnScreen())},[]),eh=a.useCallback(()=>{eu?.isShown&&eo((0,b.vq)())},[eo,eu]),eg=(0,B.Hu)(e.library_key),ey=(0,q.Nv)(!0),eE=a.useCallback(()=>{if("loaded"!==ee.status)return;let a=G.Y5.getViewportInfo(),r={canvasPosition:{x:a.offsetX,y:a.offsetY},insertAsChildOfCanvas:!0,percentageOffset:new m.Mi(.5,.5),storeInRecentsKey:j.$A.Design,useSmartPositioning:!0,fromPlayground:ee.data};e.type===W.PW.COMPONENT?(eo((0,v.Yf)({item:e,...r})),ea&&el(!0)):e.type===W.PW.STATE_GROUP?eo((0,v.b$)({item:e,...r})):e.type===W.PW.MODULE&&eo((0,v.Bs)({item:e,...r,insertionCallback:()=>G.Y5.triggerAction("commit")}));let o={aiResultsEnabled:ey,assetKey:(0,U.Av)(e),assetType:(0,N.q)(e.type),queryId:em??void 0,scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,assetTypeDropdownSelection:A,assetsPanelVersion:ep,fileKey:es?.key??void 0,fileParentOrgId:es?.parentOrgId??void 0,fileTeamId:es?.teamId??void 0,isExample:(0,F.o)(e,et),libraryKey:e.library_key,partnerType:(0,K.X)(e.library_key),sectionDepth:M,sourceSection:y??void 0,productType:(0,w.pi)({editorType:es?.editorType})};i.az.trackDefinedEvent("assets_panel.flyout_insert",{...o,libraryType:eg,searchSessionId:t??void 0,searchQuery:n,sectionPosition:s}),i.az.trackDefinedEvent("asset_search.result_inserted",{...o,libraryType:eg,position:s,reciprocalRank:(0,l.Et)(s)?1/(1+s):void 0,query:n,sessionId:t??void 0,entryPoint:"assets-panel"})},[ee.status,ee.data,e,ey,em,A,ep,es?.key,es?.parentOrgId,es?.teamId,es?.editorType,et,M,y,eg,t,n,s,eo,ea,el]);a.useEffect(()=>{let e=e=>{let t=L.current?.getEl();if(t){if(!t.contains(e.target)){if($(!1),(0,o.NX)(e.target,"data-does-not-dismiss-component-flyout"))return;eo(S.ES({type:tu.V}));return}$(!0)}};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[eo,$]);let ef=a.useCallback(t=>{let n=t.event.code??t.event.key,a=(0,N.V)(e),r=R?.(a);if(!r)return;let l=t.event.keyCode===p.Uz.TAB,i=t.event.shiftKey;if((0,_.c2)(t.event,!1)){r.getItemAbove()?.focus(),t.accept();return}if((0,_.Nt)(t.event,!1)){r.getItemBelow()?.focus(),t.accept();return}if((0,_.yn)(n,!1)||l&&i){r.getItemToTheLeft()?.focus(),t.accept();return}if((0,_.lv)(n,!1)||l&&!i){r.getItemToTheRight()?.focus(),t.accept();return}if("Enter"===n){eE(),t.accept();return}},[e,eE,R]);var ev=a.createElement("div",{className:h.cx.minW0.flex1.$},a.createElement("div",null,(0,g.t)("design_systems.assets_panel.details")),a.createElement(E.Y,{spacing:0,direction:"horizontal"},e&&a.createElement(eb,{assetFileKey:Q,assetLibraryKey:e.library_key,assetNodeId:e.node_id}),ei&&a.createElement("div",{className:h.cx.pr4.$},a.createElement(I.KP,{libraryKey:e.library_key,variant:"secondary",tooltipLocation:"below"}))));let[eC,eS,ew]=(0,V.J)(!1),ek=a.useCallback(()=>{eC.current&&ed()},[eC,ed]);return"loaded"!==ee.status?null:a.createElement(J.vx,{alwaysEnsureModalOnScreen:!0,allowAutoExpanding:!0,canRenderBelowViewport:!1,headerSize:"large",initialPosition:new m.Mi(P+1,tm),onClick:eh,onClose:ed,onKeyDown:ef,title:ev,truncateTitleText:!0,initialWidth:t_,ref:L,dataTestId:"component-flyout-modal",hidden:eS,noCancelDragAndDrop:!0},a.createElement("div",{"data-not-draggable":!0},a.createElement(tc,{asset:e,onLoaded:e_,onInsert:eE,flyoutHidden:eS,onCloseIfHidden:ek,setFlyoutHidden:ew,sectionPosition:s,sectionNameForTracking:y,sectionDepth:M})))},tu.V)},378376:(e,t,n)=>{n.d(t,{Y:()=>_,d:()=>m});var a=n(411855),r=n(188507),l=n(196302),i=n(474474),s=n(537977),o=n(556576),c=n(52833),d=n(311844),u=n(7091),p=n(885669);function m({allElements:e}){h(a.useCallback(()=>{let t=e.length,n=0,a=0;for(let t of e)if(!t.key.includes("localComponents")){let e=function e(t){if(t.type===s.zq.TILE)return 1;if(!(0,s.We)(t)||!t.isExpanded)return 0;{let n=0;for(let a of t.children)n+=e(a);return n}}(t);n+=e,a+=Math.min(e,20)}return{numLibraries:t,numComponents:n,numComponentsWithLimit:a}},[e]))}function _(e,t){h(a.useCallback(()=>{let n=0,a=0,r=0,{allLibrariesUnsorted:l}=(0,i.kc)().dse_lk_asset_panel?t:e;for(let[s,o]of l)if(o.type===d.yW.DESIGN){if((0,i.kc)().dse_lk_asset_panel?s===t.localAssets.libraryKey:s===e.localAssets.fileKey){o.numComponents>=0&&(n+=1);continue}n+=1,a+=o.numComponents,r+=Math.min(o.numComponents,20)}return{numLibraries:n,numComponents:a,numComponentsWithLimit:r}},[e,t]))}function h(e){let t=(0,r.d4)(e=>e.loadingState),n=(0,r.d4)(e=>e.fileVersion),i=(0,o.q5)(),s=(0,p.k)(),d=i&&null!=n&&(0,u.yD)(i.key)||null,m=!(null!=d&&(0,c.D2)(t,d));a.useEffect(()=>{m||function(e,t,n){if(g)return;let{numLibraries:a,numComponents:r,numComponentsWithLimit:i}=e();(0,l.sx)("Assets Panel Initial Load",{numLibraries:a,numComponents:r,numComponentsWithLimit:i,assetsPanelVersion:t,fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0}),g=!0}(e,s,i)},[e,m,i,s])}let g=!1},799413:(e,t,n)=>{n.d(t,{V:()=>v});var a=n(411855),r=n(188507),l=n(268853),i=n(183686),s=n(196302),o=n(690283),c=n(406755),d=n(466391),u=n(603275),p=n(301929),m=n(195555),_=n(492841),h=n(764554),g=n(9063),y=n(912675),E=n(556576),f=n(412643),b=n(951864);function v(){let e=(0,r.wA)(),t=(0,E.q5)(),n=(0,r.d4)(e=>e.user?.id);if(!t)return null;let v=t.teamId,C=a.createElement(d.Us,{className:"library_upsell_banner--blueLink--bt6GX blue_link--blueLink--9rlnd",onClick:function(){(0,s.sx)("library_upsell_badge_clicked",{fileKey:t?.key,teamId:v,userId:n}),e((0,_.to)({type:m.V,data:{upsellSource:f.b.LIBRARY_UPSELL_BADGE,teamId:v??void 0,openCheckoutInNewTab:!0}}))},trackingProperties:{trackingDescriptor:g.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,role:"button"},(0,p.tx)("design_systems.assets_panel.library_upsell_upgrade"));return a.createElement(c.tH,{boundaryKey:"LibraryUpsellBanner",fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:l.e.MONETIZATION_UPGRADES}},a.createElement(y.fu,{name:"library upsell badge",properties:{fileKey:t?.key,teamId:t?.teamId}},a.createElement("div",{className:"library_upsell_banner--bannerBackground--WlTVY"},a.createElement("div",{className:"library_upsell_banner--bannerContainer--SqSHa"},a.createElement(o.Jn,{className:"library_upsell_banner--closeButton--U1sPN",onClick:function(){(0,s.sx)("library_upsell_badge_dismissed",{fileKey:t?.key,teamId:v,userId:n}),e(h.b({has_dismissed_component_sidebar_library_upsell_banner:!0}))}}),a.createElement("div",{className:"library_upsell_banner--bannerContent--SUcpT"},a.createElement("div",{className:"library_upsell_banner--bannerHeader--Lbg8d"},a.createElement(u.U,{svg:b.A,className:"library_upsell_banner--bannerIcon--n5IGN"},a.createElement(i.l,null))),a.createElement("p",{className:"library_upsell_banner--bannerTitle--AN3mP"},(0,p.tx)("design_systems.assets_panel.library_upsell_header")),a.createElement("p",{className:"library_upsell_banner--bannerBody--GSg3l"},(0,p.tx)("design_systems.assets_panel.library_upsell_body",{upgradeToProfessionalPlanLink:C})))))))}},721668:(e,t,n)=>{n.d(t,{g:()=>l1});var a=n(411855),r=n(196302),l=n(355287),i=n(376793),s=n(474474),o=n(406755),c=n(579557),d=n(301929),u=n(517147),p=n(556576),m=n(750199),_=n(837287),h=n(373094),g=n(342482),y=n(9063),E=n(56182),f=n(815817),b=n(139558),v=n(15544),C=n(659283),S=n(824280),w=n(63114),k=n(542030),T=n(978760),I=n(367984);function N(){let e=(0,b.aV)(),t=p.q5()?.canEdit,n=(0,p.MY)(),{show:r,isShowing:l,complete:i}=(0,E.e)({overlay:T.QI3,priority:C.N.SECONDARY_MODAL},[n]),s=(0,g.te)(),{currentView:o}=(0,w.wV)(),c=!!(0,v.f)(h.bo),u="no_figma_basics_onboarding_was_shown_in_current_session"===(0,f.zl)(I.j).currentState;return(0,a.useEffect)(()=>{!e&&t&&s()&&!c&&!u&&o===w.S5.Libraries&&r(),l&&o!==w.S5.Libraries&&i()},[r,i,t,l,s,c,u,o,e]),a.createElement(S.rq,{isShowing:l,title:(0,d.tx)("rcs.visual_assets.elevate_your_designs"),description:(0,d.tx)("rcs.visual_assets.explore_within_assets_tab"),primaryCta:{label:(0,d.tx)("onboarding_pointers.got_it"),type:"button",onClick:i,ctaTrackingDescriptor:y.c.GOT_IT},trackingContextName:"Visual Asset Packs Tooltip",userFlagOnShow:h.bo,targetKey:h.Bs,arrowPosition:k.F_.LEFT_TITLE,onClose:i,arrowPadding:h.fg,disableHighlight:!0})}var A=n(814003);function x({width:e}){return a.createElement(_.p,{featureFlag:"cmty_visual_assets_nux"},a.createElement("div",{style:{left:`${e}px`,top:"195px"},className:"visual_assets_tooltip_and_target--hiddenNuxAnchor--i4n3a","data-onboarding-key":h.ko}),a.createElement(A.T,null),a.createElement(N,null))}var M=n(799413),P=n(206744),R=n(774619),L=n(90655),O=n(992243),D=n(378376),F=n(689570),K=n(262490),B=n(694208),G=n(730215),V=n(311844),U=n(591032),H=n(163586),z=n(201325),W=n(629019),j=n.n(W),$=n(510237),Y=n(863502);let X="asset_panel_folder--folderButton---mVgX",Z="asset_panel_folder--blankThumbnail--6v5uo";var q=n(800240);let J=(0,F.jz)(q.CT),Q={height:J,width:J},ee=a.forwardRef(function({keyPrefix:e,name:t,onClick:n,onContextMenu:r,previewAssetOrUrl:l,recordingKey:i,disabled:o,variant:c},d){let u=a.createElement(a.Fragment,null,"preview"===c?a.createElement("div",{className:"asset_panel_folder--folderPreview--0ezgC"},l?a.createElement(Y.V,{keyPrefix:e,previewAssetOrUrl:l,...Q}):a.createElement("div",{className:Z,style:Q})):a.createElement("div",{className:"asset_panel_folder--folderIcon--FnZdp"},a.createElement(H.x,null)),a.createElement("div",{className:"asset_panel_folder--folderName--CPNC8 ellipsis--ellipsis--Tjyfa"},t),a.createElement("div",{className:j()("asset_panel_folder--folderNextIcon--ZYH9z",{"asset_panel_folder--adjustMargin--uitBT":"icon"===c})},a.createElement(z.n,null)));return a.createElement("div",{className:"asset_panel_folder--folderContainer--UPeR-"},(0,s.kc)().dse_fpl_wave_1?a.createElement(U.E,{"aria-label":t,className:X,onClick:n,ref:d,recordingKey:i,disabled:o,htmlAttributes:{onContextMenu:r}},u):a.createElement($.GG,{"aria-label":t,className:X,onClick:n,onContextMenu:r,forwardedRef:d,recordingKey:i,disabled:o},u))});var et=n(680232),en=n(477514),ea=n(710336);function er({subtree:e,index:t,keyPrefix:n,depth:r}){let l=(0,et.sN)(),{folderPath:i,currentView:s}=(0,w.wV)(),[o]=(0,ea.MA)(),{previewAsset:c}=e,{navigateToFolder:d}=(0,w.wV)(),u=a.useCallback(()=>{l("folderRow",d(e.name))},[l,d,e.name]),p=a.useMemo(()=>[V.ON.CONTENTS,V.lM.ASSETS+r,V.tM.FOLDERS,t],[r,t]),{keyboardNavigationItem:m,setKeyboardNavigationElement:_}=(0,G.M3)({path:p,id:e.key,disabled:(i?.length??0)>r}),{focusFirstItem:h,focusSearchBar:g}=(0,en.rl)();(0,en.C0)(m,0===t&&r===(i?.length??0)&&s===w.S5.Assets);let y=(0,en.MB)({onBoth:u,onKeyDown:h,onClick:g}),E=a.useMemo(()=>i&&i.length>r,[i,r]);return a.createElement(ee,{name:e.name,onClick:y,keyPrefix:`${n}${e.name}`,previewAssetOrUrl:c,recordingKey:`assetsFolder.${e.name}`,ref:_,disabled:E,variant:"list"===o?"icon":"preview"})}var el=n(333179),ei=n(601446),es=n(179220),eo=n(716034),ec=n(740941),ed=n(898499),eu=n(188507),ep=n(341450),em=n(596523),e_=n(744952),eh=n(983991),eg=n(841952),ey=n(615832),eE=n(870501),ef=n(390816),eb=n(45899),ev=n(647942),eC=n(837177),eS=n(267411),ew=n(925163),ek=n(658567),eT=n(650947),eI=n(333713),eN=n(551141),eA=n(210890),ex=n(822565),eM=n(997996),eP=n(600307),eR=n(534599),eL=n(733562),eO=n(548810),eD=n(267361),eF=n(893177),eK=n(603111),eB=n(67753),eG=n(495913),eV=n(981702);let eU="asset_panel_tile--fileName--Skyao ellipsis--ellipsis--Tjyfa",eH="asset_panel_tile--secondary--6CWeS",ez="asset_panel_tile--nameWrapper--6O-iS",eW="asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",ej="asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",e$="asset_panel_tile--thumbWrapper--bNG-Y",eY="asset_panel_tile--tileWrapper--7OwtG asset_panel_tile--_tileWrapperBase--OAJqM",eX="asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM";function eZ({asset:e,fileName:t,sourceForTracking:n,thumbLayout:r,thumbHeight:l,thumbWidth:i,displayType:s,viewMode:o,sectionNameForTracking:c,sectionPosition:d,sectionDepth:u,hideInlineName:m,keyboardPosition:_,isFirstTile:h=!1,isExample:g=!1,keyboardPanelDepth:y=0,disableClickPropagation:E=!1,libraryItemTileProps:f,isVisualAsset:b=!1}){let v=a.useContext(eA.U),C=(0,eu.d4)(e=>e.modalShown),S=(0,p.tS)(),k=(0,ec.md)(eB.TG),{currentView:T}=(0,w.wV)(),I=a.useMemo(()=>g??(0,K.Nz)(e,{isPreset:(0,O.lR)(e,k)}),[e,g,k]),N=(0,eP.J)(e,d,c),A=(0,eL.n)(e),x=(0,eS.u)({canSwap:!I,openFileKey:S??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),M=a.useCallback(()=>{C?.type!==eM.V||A||N()},[A,C?.type,N]),P=a.useCallback(()=>{C?.type!==eM.V&&v?.onOpenFlyout(e,d,c,u)},[C?.type,v,e,d,c,u]),R=a.useCallback(e=>{E&&e.stopPropagation(),P()},[E,P]),L=`assetPanelTile.${d}`,D=e_.rf(L,"click",R),F=a.useMemo(()=>({..._,path:[V.ON.CONTENTS,V.lM.ASSETS+y,..._.path]}),[_,y]),{folderPath:B}=(0,w.wV)(),[H]=(0,ea.ye)(),z=T===w.S5.Assets&&B&&H&&(B?.length??0)>y,{setKeyboardNavigationElement:W,keyboardNavigationItem:$}=(0,G.M3)({...F,id:(0,ed.V)(e),onFocus:M,disabled:z});(0,en.C0)($,h&&T===w.S5.Assets&&!z);let[Y]=(0,ea.MA)(),X=(0,eg.N)({colIndex:F.column,rowIndex:F.path[F.path.length-1],isList:"list"===Y,keyboardNavigationItem:$,onComponentInsertSwap:x,onOpenFlyout:P,item:e,sectionNameForTracking:c,sectionPosition:d,shouldRefocusAfterKeyboardInsert:T===w.S5.Recents,sourceForTracking:eR.mZ}),Z=(0,eO.F)(e,eK.K.ASSETS_PANEL,d,c),q=function(e,t){let n=(0,eu.d4)(eT.dK),a=e.isLocal&&(0,eh.PN)()?(0,eV.eT)(e.node_id,n).join("-"):e.node_id;return e_.rf(`componentThumb.${a}`,"contextmenu",e=>{t(e)})}(e,Z);return a.createElement(U.E,{onClick:D,className:j()("asset_panel_tile--focusableElementWrapper--YzHK7","asset_panel_tile--button--oNPUz",{"asset_panel_tile--transparentBackground--ht3B-":b}),ref:W,htmlAttributes:{onKeyDown:X,onContextMenu:q}},a.createElement(eJ,{asset:e,fileName:t,sourceForTracking:n,thumbLayout:r,thumbHeight:l,thumbWidth:i,displayType:s,viewMode:o,sectionNameForTracking:c,sectionPosition:d,sectionDepth:u,hideInlineName:m,libraryItemTileProps:f,disableClickPropagation:E,isVisualAsset:b}))}let eq=(0,eE.fv)();function eJ({asset:e,fileName:t,sourceForTracking:n,thumbHeight:r,thumbWidth:l,sectionNameForTracking:i,sectionPosition:o,sectionDepth:c,hideInlineName:d,displayType:u,libraryItemTileProps:p,isVisualAsset:m}){let _=(0,eu.wA)(),h=!!(0,g.GM)()(),y=(0,eu.d4)(eT.dK),E=(0,eu.d4)(ek.F9),f=(0,eu.d4)(ek.e_),b=(0,ec.md)(ex.T),v=f.assetsPanelSearch.searchOptions?.type===eN.I.ALL,C=a.useMemo(()=>eq(e),[e]),S=(0,ev.fV)(e.library_key),w=(0,O.fd)(e.library_key),k=(0,ec.md)(eG.xL),T=h&&k.includes(C),I=a.useMemo(()=>({fileKey:C,libraryKey:e.library_key}),[C,e.library_key]),N=(0,eR._9)(I,!0,"asset_panel_visual_assets"),A=v&&(S||w||T),x=a.useRef(null),M=(0,ew.kH)(e.name),P=(0,ey.NG)({text:M,textRef:x}),R=a.useRef(null),L=(0,ey.NG)({text:t??"",textRef:R}),D=!!f.assetsPanelSearch.query,F=(0,eL.n)(e),K=(0,em.ZC)(F);a.useEffect(()=>{F&&!K&&_(eb.jD())},[F,_,K]);let B=e.isLocal&&(0,eh.PN)()?(0,eV.eT)(e.node_id,y).join("-"):e.node_id,G="Local components"===i||"Local private components"===i||e.isLocal,V="grid"===u,U=!d&&V,H=(0,s.kc)().api_asset_search_with_scores,z=(0,eD.Y)(e),W=a.useCallback(()=>{(0,eI.$z)(),T&&N(!0)},[N,T]),$={showName:!0,height:r,width:l,draggable:a.useMemo(()=>({sourceForTracking:n,clickToInsert:!1,afterSuccessfulInsert:W,sectionNameForTracking:i,sectionDepth:c}),[W,c,i,n]),shouldHideTooltip:!0,recordingNodePath:B,isSearch:D,useBaseTile:!0,hideNameOverlay:U,numVariants:z,displayType:V?"grid":"list-no-padding",sectionPosition:o,showTooltipImmediately:!1,fileName:P||L?t:void 0,alwaysShowBorder:!1,thumbWrapperClassName:e$},Y=G?a.createElement(eF.MT,{item:e,isFilePublished:E,...$}):a.createElement(eF.lX,{item:e,...$,...p});return a.createElement("div",{className:m?"asset_panel_tile--visualAssetsGridWrapper--zA9N1 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":V?ej:eW},a.createElement("div",{className:j()(V?eY:eX,{"asset_panel_tile--shownInFlyout--7Luo3":F,"asset_panel_tile--selectedFlyoutFocus--GGV8E":F&&b})},Y),U&&a.createElement("div",{className:ez,style:{width:l-2}},a.createElement("span",{className:"asset_panel_tile--name--FG9hg ellipsis--ellipsis--Tjyfa",ref:x},M),a.createElement("div",{className:"asset_panel_tile--caret--x-Vya asset_panel_tile--_caretBase--IZ44d"},a.createElement(ep.e,{"aria-hidden":!0}))),U&&!!t&&a.createElement(ef.Y,{spacing:0,direction:"horizontal",height:"hug-contents"},a.createElement("div",{className:j()(eU,eH),ref:R,style:A?{maxWidth:l-eC.J-2}:{width:l-2}},t),A&&a.createElement(eC.P,{resourceId:C,libraryKey:e.library_key,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),H&&a.createElement(a.Fragment,null,a.createElement("div",{className:j()(eU,eH),style:A?{maxWidth:l-eC.J-2}:{width:l-2}},"AI: "+(e.ai_score??"N/A")),a.createElement("div",{className:j()(eU,eH),style:A?{maxWidth:l-eC.J-2}:{width:l-2}},"Lex: "+(e.lexical_score??"N/A"))))}var eQ=n(492841),e0=n(792250),e1=n(481822),e5=n(966491);function e3(){let e=a.useContext(eA.U);return e?.isUi3?e:{...e,width:0}}function e2({width:e,children:t}){let n=function(e){let t=(0,eu.wA)(),{query:n,searchSessionId:r}=(0,e0.Gq)(),l=(0,et.ht)(),i=(0,G.q_)(),s=(0,e1.LR)(),o=(0,eu.d4)(e=>e.universalInsertModal.showing),c=a.useCallback(()=>{o&&s()},[s,o]),d=a.useCallback((a,s,o,d)=>{c(),t((0,eQ.to)({type:e5.m,data:{asset:a,searchSessionId:r??void 0,query:n??void 0,sectionPosition:s,sectionNameForTracking:o,assetTypeDropdownSelection:l,containerWidth:e,onGetKeyboardNavigationItemById:i,sectionDepth:d}}))},[c,t,r,n,l,e,i]);return a.useMemo(()=>({onOpenFlyout:d,assetTypeDropdownSelection:l,isUi3:!0,width:e}),[d,l,e])}(e);return a.createElement(eA.U.Provider,{value:n},t)}var e4=n(110393);let e6="asset_panel_virtualization--virtualRow--TxsS-",e8="asset_panel_virtualization--virtualRowFirst--mdR2j asset_panel_virtualization--virtualRow--TxsS-",e7="asset_panel_virtualization--virtualRowList--COnhA",e9=(0,F.jz)(e4.Nz),te=(0,F.jz)(e4.cP),tt=(0,F.jz)(e4.FX),tn=(0,F.jz)(q.$c),ta=(0,F.jz)(q.d5),tr=(0,F.jz)(e4.ZI),tl=(0,eo.eU)(!1);function ti(e,t,n,a,r){if("list"===r)return tr;let l=e+e9;return t&&(l+=te),n&&(l+=tt),a&&(l+=2*(0,F.jz)(e4.uY)),l}function ts(e,t,n,r,l,i,o){let c=[],d=e.some(e=>!!e.file_name);for(let u=0;u<e.length;u+=t){let p=e.slice(u,u+t),m=[];p.forEach((e,c)=>{if(e){let d=u+c,p=o?.getFileName?.(e);(0,s.kc)().asset_search_return_file_name&&e.file_name&&(p=e.file_name),m.push(a.createElement(eZ,{key:`${n}-${(0,ed.V)(e)}`,asset:e,fileName:p,sectionDepth:o?.depth,sectionNameForTracking:l,sectionPosition:u+c,keyboardPosition:(0,en.pg)(i,d,t,o?.hasHeader),isFirstTile:o?.includesFirstTile&&0===d,keyboardPanelDepth:o?.keyboardPanelDepth,isExample:o?.isExample,...r}))}}),c.push({element:a.createElement("div",{className:"list"===r.displayType?e7:0===u?e8:e6,role:"row"},m),key:`${n}:row-${u/t}`,keys:p.map(e=>(0,ed.V)(e)),height:ti(r.thumbHeight,(0,s.kc)().asset_search_return_file_name&&d||!!o?.getFileName,0!==u,!!(0,s.kc)().api_asset_search_with_scores,r.displayType)})}return c.length>0&&(c.unshift({element:a.createElement(ei.hK,{height:tn}),key:`${n}:spacer-top`,height:tn}),c.push({element:a.createElement(ei.hK,{height:ta}),key:`${n}:spacer-bottom`,height:ta})),c}function to({elements:e,hideScrollbar:t,initialScrollTop:n,onScroll:r,anchorScroll:l,role:i}){let s=a.useRef(null),o=(0,es.Te)({count:e.length,getScrollElement:()=>s.current,estimateSize:t=>e[t].height,getItemKey:t=>e[t].key,paddingEnd:8,overscan:6,initialOffset:n}),c=function({scrollContainerRef:e,initialScrollTop:t,onScroll:n,enabled:r,virtualizer:l,getKeys:i}){let[s,o]=a.useState(t??e.current?.scrollTop),[c,d]=a.useState(e.current?.scrollHeight),{width:u}=e3(),p=(0,em.ZC)(u),m=a.useCallback((e,t)=>{if(!t)return{keys:[],offset:void 0};let n=e.getVirtualItems().find(e=>e.start>=t);return n?{keys:i(n),offset:n.start-t}:{keys:[],offset:void 0}},[i]),[_,h]=a.useState(()=>m(l,t??e.current?.scrollTop)),g=a.useCallback((e,t)=>{n?.(e,t),r&&(o(e),h(m(l,e)))},[r,m,n,l]);return a.useEffect(()=>{let t=p&&u&&p!==u,n=e.current?.scrollHeight&&c&&e.current?.scrollHeight!==c;if(t&&d(e.current?.scrollHeight),void 0!==s&&void 0!==_.offset&&r&&t&&n){let t=l.getVirtualItems().find(e=>i(e).some(e=>_.keys.includes(e)));if(t)l.scrollToOffset(t.start-_.offset);else{let t=s/c,n=e.current.scrollHeight*t;l.scrollToOffset(n)}}},[_.keys,_.offset,r,i,p,e,c,s,l,u]),g}({enabled:l,scrollContainerRef:s,initialScrollTop:n,onScroll:r,virtualizer:o,getKeys:a.useCallback(t=>{let n=e[t.index];return n?n.keys??[n.key]:[]},[e])}),[d,u]=(0,ec.fp)(tl);return a.useEffect(()=>{if(!d)return;let t=e.findIndex(e=>"preset_libraries_header"===e.key);-1!==t&&(o.scrollToIndex(t,{align:"start"}),u(!1))},[e,o,u,d]),a.createElement(ei.xU,{scrollContainerRef:s,hideScrollbar:t,initialScrollTop:n,onScroll:c},a.createElement("div",{style:{height:`${o.getTotalSize()}px`,width:"100%",position:"relative"},role:i},o.getVirtualItems().map(t=>a.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${t.start}px)`}},e[t.index].element))))}var tc=n(561546),td=n(258214),tu=n(537977),tp=n(330661),tm=n(144924),t_=n(64051),th=n(334270),tg=n(109388),ty=n(922827),tE=n(340818),tf=n(462132),tb=n(315711),tv=n(719e3),tC=n(729913),tS=n(531527),tw=n(899356),tk=n(850578),tT=n(475732),tI=n(360502);function tN({elementMinSize:e,spaceAvailable:t,gap:n}){return Math.max(1,Math.floor((t+n)/(e+n)))}function tA({numElements:e,spaceAvailable:t,gap:n}){return Math.floor((t-(e-1)*n)/e)}function tx({width:e,widthToHeightRatio:t=1,maxHeight:n}){let a=Math.floor(e/t);return void 0===n?Math.max(0,a):Math.max(0,Math.min(n,a))}let tM=(0,F.jz)(q.H0),tP=2*(0,F.jz)(q.Mj),tR={NORMAL:115,WIDE:void 0,SMALL:72},tL={minColumns:2,maxColumns:3,aspectRatio:1,maxHeight:tR.NORMAL},tO={minColumns:1,maxColumns:1,aspectRatio:3.25,maxHeight:tR.WIDE},tD={minColumns:3,maxColumns:5,aspectRatio:1,maxHeight:tR.SMALL},tF=e=>{switch(e){case B.rp.WIDE:return tO;case B.rp.SMALL:return tD;default:return tL}};function tK(e,t){let[n]=(0,ea.MA)(),r=a.useMemo(()=>t&&"grid"===n?t:[],[n,t]),l=a.useMemo(()=>r.every(e=>e.fullPage)?.85:Math.max(r.map(e=>e.mainThumbnailInfo.width/e.mainThumbnailInfo.height).reduce((e,t)=>Math.abs(t-1)<Math.abs(e-1)?t:e),.7),[r]),i=e-tP,s=a.useMemo(()=>tN({elementMinSize:144,gap:tM,spaceAvailable:i}),[i]),o=l>1?1:Math.min(2,s),c=a.useMemo(()=>tA({numElements:o,gap:tM,spaceAvailable:i}),[o,i]),d=a.useMemo(()=>tx({width:c,widthToHeightRatio:l,maxHeight:void 0}),[l,c]);return"list"===n||0===r.length?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:c,tileHeight:d,numColumns:o}}function tB(){let{width:e}=e3(),{componentLayouts:t,exampleLayout:n}=function({sidebarWidth:e}){let t=a.useMemo(()=>e-tP,[e]),n=a.useMemo(()=>{let e={};for(let n of[B.rp.NORMAL,B.rp.WIDE,B.rp.SMALL]){let{minColumns:a,maxColumns:r,aspectRatio:l,maxHeight:i}=tF(n),s=Math.max(Math.min(r,tN({elementMinSize:i??t,gap:tM,spaceAvailable:t})),a),o=tA({numElements:s,gap:tM,spaceAvailable:t}),c=tx({width:o,maxHeight:i,widthToHeightRatio:l});e[n]={width:o,height:c,columns:s}}return e},[t]),r=a.useMemo(()=>Math.max(tN({elementMinSize:200,gap:tM,spaceAvailable:t}),1),[t]),l=a.useMemo(()=>tA({numElements:r,gap:tM,spaceAvailable:t}),[r,t]),i=a.useMemo(()=>tx({width:l,widthToHeightRatio:1.5,maxHeight:200}),[l]);return a.useMemo(()=>({componentLayouts:n,exampleLayout:{width:l,height:i,columns:r}}),[n,r,l,i])}({sidebarWidth:e}),[r,l]=a.useMemo(()=>{let e={},n={};for(let[a,r]of Object.entries(t))e[a]={thumbHeight:r.height,thumbWidth:r.width,viewMode:eR.Bk.Grid,thumbLayout:a,sourceForTracking:eR.mZ,displayType:"grid"},n[a]=r.columns;return[e,n]},[t]),i=a.useMemo(()=>({thumbHeight:n.height,thumbWidth:n.width,viewMode:eR.Bk.Grid,thumbLayout:B.rp.NORMAL,sourceForTracking:eR.mZ,displayType:"grid"}),[n.height,n.width]),s=a.useMemo(()=>({thumbHeight:40,thumbWidth:40,viewMode:eR.Bk.List,thumbLayout:B.rp.NORMAL,sourceForTracking:eR.mZ,displayType:"list"}),[]);return a.useMemo(()=>({componentTilePropsByLayout:r,numColumnsByLayout:l,listProps:s,exampleTileProps:i,numExampleColumns:n.columns}),[r,l,s,i,n.columns])}function tG(e,t,n,a=!1){return"list"===t?{props:e.listProps,numColumns:1}:a?{props:e.exampleTileProps,numColumns:e.numExampleColumns}:{props:e.componentTilePropsByLayout[n],numColumns:e.numColumnsByLayout[n]}}var tV=n(406536),tU=n(141374),tH=n(290391);let tz=2*(0,F.jz)(q.Mj),tW=[{name:"URL or HTML",type:"embed",initial_url:"",thumbnail_url:(0,s.ck)("86ba1f4a16abbec4208d141f3127d6f86c72f818"),preview_url:(0,s.ck)("86ba1f4a16abbec4208d141f3127d6f86c72f818"),width:600,height:400,background_color:"var(--color-bg-secondary)",feature_flag:"sts_generic_embed"},{name:"YouTube",type:"embed",initial_url:"https://www.youtube.com/embed/ScMzIvxBSi4",thumbnail_url:(0,s.ck)("11493f26c5e30e5b76c2b8e04368159df590867e"),preview_url:(0,s.ck)("7ad4ca50abe036c8f2d52e2ef0753418e1ffd68f"),width:600,height:400,thumbnail_padding:20,background_color:"var(--color-bg-danger-tertiary)",feature_flag:"sts_widget_youtube"},{name:"Google Map",type:"embed",initial_url:"https://maps.google.com/?output=embed",thumbnail_url:(0,s.ck)("a28e737b0aa0ef1a62ff710aecfb85b5b71445d1"),preview_url:(0,s.ck)("1e24eb777737a98aa97d274bdb78f6f87aa02ca3"),width:600,height:400,thumbnail_padding:16,background_color:"var(--color-bg-brand-tertiary)",feature_flag:"sts_widget_google_maps"}];function tj(){return(0,s.kc)().ds_sts_kit?tW.filter(e=>!e.feature_flag||(0,s.kc)()[e.feature_flag]):[]}function t$({embeds:e}){let{thumbWidth:t,thumbHeight:n}=function(){let[e]=(0,ea.MA)(),{width:t}=e3(),{listProps:n}=tB();if("list"===e)return{thumbWidth:n.thumbWidth,thumbHeight:n.thumbHeight};let a=Math.floor(t-tz),r=Math.floor(a/2);return{thumbWidth:a,thumbHeight:r}}();return a.createElement(a.Fragment,null,e.map((e,r)=>a.createElement(tY,{key:e.name,embed:e,sectionPosition:r,keyboardPosition:{path:[V.ON.CONTENTS,V.lM.ASSETS,r],column:null},thumbHeight:n,thumbWidth:t,isFirstTile:0===r})))}function tY({embed:e,sectionPosition:t,keyboardPosition:n,sectionNameForTracking:l="Site kit",isFirstTile:i=!1,thumbHeight:s,thumbWidth:o,libraryName:d}){var u;let[p]=(0,ea.MA)(),m="list"===p,{currentView:_}=(0,w.wV)(),h=function(e,t,n){let[l]=(0,ea.MA)(),{libraryKey:i}=(0,ec.md)(tV.AS),s=(0,e0.Ew)({assetKey:e.name,assetLibraryKey:(0,td.l)(i),assetType:"embed",isList:"list"===l,sectionNameforTracking:n,sectionPosition:t,sourceForTracking:eR.mZ,isExample:!1,partnerType:void 0}),o=(0,w._m)();return a.useCallback(n=>{r.az.trackDefinedEvent("asset_search.result_inserted",{...s,entryPoint:eR.mZ});let a=!!s.searchSessionId;r.az.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:e.name,type:"embed",group:"Embeds",fileKey:s.fileKey,fileTeamId:s.fileTeamId,fileOrgId:s.fileOrgId,sectionPosition:t,searchQuery:s.searchQuery,searchSessionId:s.searchSessionId,searchType:a?o?"site kit":"all":void 0,viewMode:s.viewMode?.toLocaleLowerCase(),queryId:s.queryId,action:n}),"keyboard"===n&&r.az.trackDefinedEvent("assets_panel.keyboard_insert",s)},[s,e.name,o,t])}(e,t,l),{onInsertableResourcePointerDown:g,dragState:y}=(u={resource:e,clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:()=>{h("drag"),(0,eI.$z)()}},(0,tk.t)({...u},{insertAction:e=>{let t=e.pointerPercentageOffset||new tf.Mi;return tZ(u.resource,e.dropPosition,t),Promise.resolve()},dragPreviewPointerPosition:tT.N.CENTERED,getDragPreviewSrc:()=>u.resource.preview_url,onPointerDownCallback:()=>{ty.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!0,{x:u.resource.width,y:u.resource.height})},onPointerUpCallback:()=>{ty.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!1,null)},recordingKey:e_.Pt("html-widget",u.resource.name)})),E=tE.nc.user("insert-embed",g),f=a.useMemo(()=>({...n,path:[V.ON.CONTENTS,V.lM.ASSETS,...n.path]}),[n]),{setKeyboardNavigationElement:b,keyboardNavigationItem:v}=(0,G.M3)({...f});(0,en.C0)(v,i&&_===w.S5.Assets);let C=a.useCallback(t=>{let n=tw.Y5.getViewportInfo();tZ(e,new tf.Mi(n.offsetX,n.offsetY),new tf.Mi(.5,.5)),h(t),(0,eI.$z)()},[e,h]),S=a.useCallback(()=>C("keyboard"),[C]),k=a.useCallback(()=>C("click"),[C]),T=(0,en.MB)({onKeyDown:S,onClick:k}),I=m?tH.vZ:ez,N=!m&&e.thumbnail_padding?`${e.thumbnail_padding}px`:void 0;return a.createElement(a.Fragment,null,a.createElement(tq,{dragState:y,opacityOverride:.5}),a.createElement(tS.n.div,{onPointerDown:E,className:c.cx.flex.if(m,c.cx.wFull).$},a.createElement(U.E,{className:m?"site_kit_embeds--buttonList--dJCdj site_kit_embeds--_buttonBase--PU9Mw asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM library_item_tile--tileListLargeNoPadding--QnDtc library_item_tile--tile--okxBn library_item_tile--_variantHover--xfLPt library_item_tile--_tileListBase--jZpFH":"site_kit_embeds--buttonGrid--iiN-l site_kit_embeds--_buttonBase--PU9Mw",ref:b,onClick:T},a.createElement("div",{className:j()(e$,"site_kit_embeds--thumbContainer--SgHWz"),style:{width:o,height:s}},a.createElement("div",{className:"site_kit_embeds--thumbBackground--6lvXw",style:{backgroundColor:e.background_color,padding:N}},a.createElement(tb.oW,{src:e.thumbnail_url,className:"site_kit_embeds--thumbnail---2jDe"}))),a.createElement("div",{className:I,style:m?void 0:{width:o-2}},a.createElement(tC.G,{text:e.name})),d&&!m&&a.createElement("div",{style:{width:o-2}},a.createElement(tC.G,{text:d,className:j()(eU,eH)})))))}let tX=(0,tI.P)("recently-used-site-embeds","name",tv.object({name:tv.string()}),{transform:e=>({name:e.name})});function tZ(e,t,n){ec.zl.set(tX,e),tE.l7.user("insert-embed",()=>{ty.glU.insertEmbed(e.initial_url,{x:t.x,y:t.y,percentOffsetX:n.x,percentOffsetY:n.y},!1,{x:e.width,y:e.height})})}function tq(e){let t=e.dragState;if(!t?.dragPosition||!t?.grabbedPointerPercentageOffset)return null;let n=function(e){let{draggingResource:t}=e,{zoomScale:n,x:a}=tw.Y5.getViewportInfo(),r=e.dragPosition?.x;return(!r||r<a)&&e.draggingThumbSize?e.draggingThumbSize:new tf.Mi(t.width,t.height).scale(n)}(t),r=t.dragPosition;return r=r.subtract(new tf.Mi(t.grabbedPointerPercentageOffset.x*n.x,t.grabbedPointerPercentageOffset.y*n.y)),(0,tg.createPortal)(a.createElement("div",{className:j()(tU.Wy,{[tU.ce]:t.isDraggingOverCanvas}),style:{left:r.x,top:r.y,width:n?.x,height:n?.y,maxWidth:t.draggingThumbMaxDimensions?.x||void 0,maxHeight:t.draggingThumbMaxDimensions?.y||void 0,zIndex:e.zIndexOverride,opacity:e.opacityOverride?e.opacityOverride:1}},a.createElement(tb.oW,{src:t.draggingResource.preview_url,alt:""})),document.getElementById("fullscreen-root"))}function tJ(e){let t=(0,ew.ke)(e.name),n=e.type===tm.PW.RESPONSIVE_SET?e.containingFrame?.name:e.containing_frame?.name;return n?[n,...t]:t}function tQ(e,t="",{isPreset:n,sortingFn:a}={isPreset:!1,sortingFn:void 0}){let r=new Map,l=[];a?e.sort(a):(0,K.gO)(e,{sortFn:e=>tJ(e).join("/"),priorityFn:e=>(0,K.Nz)(e,{isPreset:n})});let i=Object.create(null);for(let n of e){let e=tJ(n),a="";for(let s=0;s<e.length;s++){let o=e[s],c=a,d=s<e.length-1;a+=o+(d?"/":"");let u=null;if(i[c]&&(u=i[c]),d){let n=i[a]??{name:o,key:`${t}-${e.slice(0,s+1).join("/")}`,items:[],subtrees:new Map,type:tu.l$.NAME_GROUP,previewAsset:void 0};i[a]||(i[a]=n,u?u.subtrees.set(o,n):r.set(o,n))}d||(u?u.items.push(n):l.push(n))}}return r.forEach(e=>{(function e(t){t.previewAsset=t4(t),t.subtrees.forEach(t=>e(t))})(e)}),{sortedItems:l,sortedSubtrees:r}}function t0(e,t,{isPreset:n}){let a=new Map,{itemsByPageId:r,pageNamesByPageId:l,itemsWithoutPage:i}=(0,t_.tz)(e,e=>e),{itemsByPageId:s,pageNamesByPageId:o,itemsWithoutPage:c}=(0,t_.tz)(t,e=>e),u={...l,...o};(0,t_.fM)(r,u,i),(0,t_.fM)(s,u,c,!0);let p=Object.keys(u);for(let e of((0,K.gO)(p,{sortFn:e=>u[e],priorityFn:e=>(0,K.dS)(u[e],{isPreset:n})}),p)){let t=u[e],l=e in r?r[e]:void 0,i=l,o=[],c=null,p=null;if(l&&l.length>0){i=l.filter(e=>!(0,K.Nz)(e,{isPreset:n}));let{sortedItems:e,sortedSubtrees:t}=tQ(o=l.filter(e=>(0,K.Nz)(e,{isPreset:n})),"examples",{isPreset:n});o.length>0&&(p={name:(0,d.t)("design_systems.assets_panel.examples"),items:e,subtrees:t,key:V.nE,type:tu.l$.COMPONENTS,previewAsset:void 0})}if(i&&i.length>0){let{sortedItems:e,sortedSubtrees:t}=tQ(i,"components",{isPreset:n});c={name:(0,d.t)("design_systems.assets_panel.components"),items:e,subtrees:t,key:V.c_,type:tu.l$.COMPONENTS,previewAsset:void 0}}let m=null,_=s[e];if(_&&_.length>0){let{sortedItems:e,sortedSubtrees:t}=tQ(_,"templates",{isPreset:n});m={name:(0,d.t)("design_systems.assets_panel.templates"),items:e,subtrees:t,key:V.JS,type:tu.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:h,sortedSubtrees:g}=tQ([...o??[],...i??[],..._??[]],"assets",{isPreset:n}),y={name:t,items:h,subtrees:g,key:V.Mk,type:tu.l$.COMPONENTS,previewAsset:void 0},E={name:t,id:e,previewAsset:function({componentSubtree:e,exampleSubtree:t,templateSubtree:n}){let a=t4(t),r=t4(n),l=t4(e);return a||r||l}({componentSubtree:c,exampleSubtree:p,templateSubtree:m}),components:c,examples:p,templates:m,assets:y,type:V.yW.DESIGN};a.set(e,E)}return a}function t1(e,t,n){let a=new Map,{itemsByPageId:r,pageNamesByPageId:l,itemsWithoutPage:i}=(0,t_.tz)(e,e=>({containing_frame:e.containingFrame??void 0}));(0,t_.fM)(r,l,i);let s=Object.keys(l);for(let e of((0,tc.v7)(s,e=>l[e]),s)){let i=l[e],s=r[e]??[];if(!i||0===s.length)continue;let{sortedItems:o,sortedSubtrees:c}=tQ(s,"assets",{sortingFn:n}),d={name:i,items:o,subtrees:c,key:V.Mk,type:tu.l$.RESPONSIVE_SETS,previewAsset:void 0},u={name:i,id:e,previewAsset:t[e]??t4(d),assets:d,type:V.yW.SITE,numAssets:function e(t){return t.items.length+Array.from(t.subtrees.values()).reduce((t,n)=>t+e(n),0)}(d)};a.set(e,u)}let o=tj();if(o.length>0){let e={name:(0,d.t)("design_systems.assets_panel.embeds"),id:"embeds",embeds:o,previewAsset:void 0,assets:{name:"",items:[],subtrees:new Map,key:"EMPTY_ASSETS_NOT_USED",type:tu.l$.COMPONENTS,previewAsset:void 0},type:V.yW.SITE,numAssets:o.length};a.set("embeds",e)}return a}function t5(e,t){let{allItems:n,publishedItems:a,privateItems:r,numPublished:l}=e;return l>0&&t&&r.length>0?a:n}function t3(e,t,n,a,r,l,i,o){let{privateItems:c,numPublished:p}=e,{privateItems:m,numPublished:_}=t??{privateItems:[],numPublished:0},h=p+_>0&&r&&c.length+m.length>0,g=t5(e,r),y=t?t5(t,r):[],E=(0,s.kc)().dse_lk_asset_panel?!!o?.has(i):(0,u.wJ)(l),f=t0(g,y,{isPreset:E}),b={name:(0,d.t)("design_systems.assets_panel.created_in_this_file"),fileKey:l,libraryKey:i,pages:f,numComponents:g.length,numTemplates:y.length,thumbnailUrl:n,thumbnailShouldCover:a,type:V.yW.DESIGN,libraryType:"team"};if(h){let e=null;if(c.length>0){let{sortedItems:t,sortedSubtrees:n}=tQ(c,"p_components",{isPreset:E});e={name:(0,d.t)("design_systems.assets_panel.components"),items:t,subtrees:n,key:V.c_,type:tu.l$.COMPONENTS,previewAsset:void 0}}let t=null;if(m.length>0){let{sortedItems:e,sortedSubtrees:n}=tQ(m,"p_templates",{isPreset:E});t={name:(0,d.t)("design_systems.assets_panel.templates"),items:e,subtrees:n,key:V.JS,type:tu.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:n,sortedSubtrees:a}=tQ([...c??[],...m??[]],"assets",{isPreset:E}),r={name:(0,d.t)("design_systems.assets_panel.assets"),items:n,subtrees:a,key:V.Mk,type:tu.l$.COMPONENTS,previewAsset:void 0},l={name:(0,d.t)("design_systems.assets_panel.hidden"),id:V.o8,previewAsset:c[0]??m[0],components:e,examples:null,templates:t,assets:r,type:V.yW.DESIGN};b.pages.set(V.o8,l)}return b}function t2(e){let t=Array.from(e.items.values());for(let[n,a]of e.subtrees.entries())t.push(...t2(a));return t}function t4(e){let t=e?t2(e):[];return t.length>0?t[0]:void 0}var t6=n(897214),t8=n(888886);let t7=(0,ec.Iz)(()=>(0,t6.rt)(0));function t9({libraryIdentifier:e,pageId:t,folderPath:n}={}){let{lastNavAction:r}=(0,t8.ZX)(),l=r===t8.r6.Back||r===t8.r6.Mount||r===t8.r6.ToggleView&&!n,[i,o]=(0,ec.fp)(t7("libraries")),[c,d]=(0,ec.fp)(t7(`pages-${(0,s.kc)().dse_lk_asset_panel?e?.libraryKey:e?.fileKey}`)),[u,p]=(0,ec.fp)(t7(`assets-${(0,s.kc)().dse_lk_asset_panel?e?.libraryKey:e?.fileKey}}-${t}-${(n??[]).join("-")}`));return{librariesScrollTop:l?i:0,pagesScrollTop:l?c:0,assetsScrollTop:l?u:0,handleScrollLibraries:a.useCallback(e=>{o(e)},[o]),handleScrollPages:a.useCallback(t=>{e&&d(t)},[d,e]),handleScrollAssets:a.useCallback(n=>{e&&t&&p(n)},[p,e,t])}}var ne=n(639818),nt=n(317004),nn=n(755360),na=n(610080),nr=n(792863);let nl=(0,F.jz)(q._K);function ni({asset:e,sectionNameForTracking:t,sectionDepth:n,sectionPosition:r,keyboardPosition:l,isFirstTile:i=!1,keyboardPanelDepth:s=0,thumbHeight:o,thumbWidth:u,libraryName:p}){let m=(0,ew.kH)(e.name),{currentView:_,folderPath:h}=(0,w.wV)(),[g]=(0,ea.ye)(),[y]=(0,ea.MA)(),E="list"===y,f=a.useMemo(()=>({...l,path:[V.ON.CONTENTS,V.lM.ASSETS+s,...l.path]}),[l,s]),b=_===w.S5.Assets&&h&&g&&(h?.length??0)>s,{setKeyboardNavigationElement:v,keyboardNavigationItem:C}=(0,G.M3)({...f,id:(0,ed.V)(e),disabled:b});(0,en.C0)(C,i&&_===w.S5.Assets&&!b);let{logInsert:S}=ns({item:e,sectionNameForTracking:t,sectionPosition:r,sourceForTracking:eR.mZ,isList:E}),k=a.useCallback(()=>{S("drag"),(0,eI.$z)()},[S]),T=a.useMemo(()=>({sourceForTracking:eR.mZ,sectionNameForTracking:t,sectionDepth:n,afterSuccessfulInsert:k}),[n,t,k]),I=function({item:e,sectionNameForTracking:t,sectionPosition:n,sourceForTracking:r,isList:l}){let i=(0,eu.wA)(),{logInsert:s,logKeyboardInsert:o}=ns({item:e,sectionNameForTracking:t,sectionPosition:n,sourceForTracking:r,isList:l}),c=a.useCallback(()=>{let t={insertAsChildOfCanvas:!1,percentageOffset:new tf.Mi(.5,.5),useSmartPositioning:!0};i((0,nt.jR)({item:e,...t})),(0,eI.$z)()},[i,e]);return a.useCallback(e=>{let t=0===e.detail;t&&o(),s(t?"keyboard":"click"),c()},[c,s,o])}({item:e,sectionNameForTracking:t,sectionPosition:r,sourceForTracking:eR.mZ,isList:E}),N=a.useMemo(()=>(0,na.NR)(m),[m]),{listProps:A}=tB();return a.createElement(U.E,{className:E?j()("asset_panel_responsive_set_tile--tileList--3j7Tn asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",eW):j()("asset_panel_responsive_set_tile--tileGrid--C-Qj3 asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",ej),ref:v,onClick:I,"aria-label":N},a.createElement("div",{className:j()(E?eX:eY,c.cx.relative.$)},a.createElement(eF.lX,{item:e,draggable:T,showName:E,height:E?A.thumbHeight:o,width:E?A.thumbWidth:u,alwaysShowBorder:!1,shouldHideTooltip:!0,displayType:E?"list-no-padding":"grid",useBaseTile:!0,thumbWrapperClassName:"asset_panel_responsive_set_tile--thumbWrapper--3Geap asset_panel_tile--thumbWrapper--bNG-Y",sectionPosition:r,thumbPaddingGrid:nl}),e.fullPage&&!E&&a.createElement(ne.Ex,{text:(0,d.tx)("design_systems.assets_panel.responsive"),color:ne.zE.DEFAULT,className:"asset_panel_responsive_set_tile--responsiveBadge---jB7i"})),!E&&a.createElement(a.Fragment,null,a.createElement("div",{className:ez,style:{width:u-2}},a.createElement(tC.G,{text:N})),p&&a.createElement("div",{style:{width:u-2}},a.createElement(tC.G,{text:p,className:j()(eU,eH)}))))}function ns({item:e,sectionNameForTracking:t,sectionPosition:n,sourceForTracking:l,isList:i}){let s=(0,nr.Nv)(!0),o=(0,p.tS)(),c=(0,w._m)(),d=(0,e0.Ew)({assetKey:(0,nn.u2)(e),assetLibraryKey:e.sourceLibraryKey,assetType:e.type,isList:i,sectionNameforTracking:t,sectionPosition:n,sourceForTracking:l??eR.mZ,isExample:!1,partnerType:void 0}),u=!!d.searchSessionId,m=a.useCallback(t=>{let{type:n,sectionPosition:a,searchQuery:l,searchSessionId:i,...o}=d;r.az.trackDefinedEvent("asset_search.result_inserted",{...o,aiResultsEnabled:s,assetType:n,position:a,reciprocalRank:1/(1+a),query:l,sessionId:i,entryPoint:eR.mZ}),r.az.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:(0,na.NR)((0,ew.kH)(e.name)),type:"responsive set",group:e.containingFrame?.pageName,isFullPage:e.fullPage,fileKey:d.fileKey,fileTeamId:d.fileTeamId,fileOrgId:d.fileOrgId,sectionPosition:a,searchQuery:d.searchQuery,searchSessionId:d.searchSessionId,searchType:u?c?"site kit":"all":void 0,viewMode:d.viewMode?.toLocaleLowerCase(),queryId:d.queryId,action:t})},[d,s,c,u,e.containingFrame?.pageName,e.fullPage,e.name]),_=a.useCallback(()=>{r.az.trackDefinedEvent("assets_panel.keyboard_insert",{...d,aiResultsEnabled:s,assetsPanelVersion:3,fileKey:o??void 0})},[d,s,o]);return a.useMemo(()=>({logInsert:m,logKeyboardInsert:_}),[m,_])}let no=(0,F.jz)(q.HE),nc=(0,F.jz)(q._q),nd=(0,F.jz)(q.RQ),nu=(0,F.jz)(q.$c),np=(0,F.jz)(q.d5);function nm({page:e,libraryIdentifier:t}){let{assetsScrollTop:n,handleScrollAssets:r}=t9({libraryIdentifier:t,pageId:e.id}),[l]=(0,ea.MA)(),{width:i}=e3(),s=a.useMemo(()=>t2(e.assets),[e.assets]),{tileHeight:o,tileWidth:c,numColumns:d}=tK(i,s),u=a.useMemo(()=>{let e=[];return e.push(...ny(s,d,c,o,l,"assets","Site kit",[V.tM.COMPONENTS],{includesFirstTile:!0})),e},[s,l,d,o,c]);return a.createElement(to,{elements:u,initialScrollTop:n,onScroll:r,anchorScroll:!0,role:l})}function n_({subtree:e,currentFolderPath:t,hideScrollbar:n,onScroll:r,initialScrollTop:l,role:i}){let s=nh({subtree:e,currentFolderPath:t});return a.createElement(to,{elements:s,hideScrollbar:n,onScroll:r,initialScrollTop:l,role:i})}let nh=({subtree:e,currentFolderPath:t})=>{let{folderPath:n}=(0,w.wV)(),[r]=(0,ea.MA)(),{width:l}=e3(),{tileHeight:i,tileWidth:s,numColumns:o}=tK(l,e?.items),c=t.join("/"),d=t.length,u=n?.length??0,p=a.useCallback(({subtree:e,elements:t})=>{let n=e.items.length>0;if(n){let n=[V.tM.COMPONENTS];t.push(...ny(e.items,o,s,i,r,e.key,"Site kit",n,{includesFirstTile:d===u,keyboardPanelDepth:d,depth:d}))}let l=Array.from(e.subtrees.values());n&&l.length>0&&t.push({element:a.createElement(ei.cG,null),key:"divider",height:nd}),l.forEach((n,l)=>{t.push({element:a.createElement(er,{subtree:n,index:l+e.items.length,keyPrefix:c,depth:d}),key:n.key,height:"list"===r?no:nc})})},[o,s,i,d,u,c,r]);return a.useMemo(()=>{let t=[];return e&&p({subtree:e,elements:t}),t},[p,e])};function ng(e){return e.type===tm.PW.RESPONSIVE_SET}function ny(e,t,n,r,l,i,o,c,d={}){let u=[];for(let p=0;p<e.length;p+=t){let m=e.slice(p,p+t),_=[];m.forEach((e,l)=>{let s=p+l;ng(e)?_.push(a.createElement(ni,{key:`${i}-${(0,ed.V)(e)}`,asset:e,sectionNameForTracking:o,sectionPosition:p+l,sectionDepth:d?.depth,keyboardPosition:(0,en.pg)(c,s,t),isFirstTile:d?.includesFirstTile&&0===s,keyboardPanelDepth:d?.keyboardPanelDepth,thumbHeight:r,thumbWidth:n,libraryName:d.libraryName})):_.push(a.createElement(tY,{embed:e,key:e.name,sectionNameForTracking:o,sectionPosition:p+l,keyboardPosition:(0,en.pg)(c,s,t),isFirstTile:d?.includesFirstTile&&0===s,thumbHeight:r,thumbWidth:n,libraryName:d.libraryName}))}),u.push({element:a.createElement("div",{className:"list"===l?e7:0===p?e8:e6,role:"row"},_),key:`${i}:row-${p/t}`,keys:m.map(e=>ng(e)?(0,ed.V)(e):e.name),height:ti(r,!!d.libraryName,0!==p,!!(0,s.kc)().api_asset_search_with_scores,l)})}return u.length>0&&(u.unshift({element:a.createElement(ei.hK,{height:nu}),key:`${i}:spacer-top`,height:nu}),u.push({element:a.createElement(ei.hK,{height:np}),key:`${i}:spacer-bottom`,height:np})),u}function nE({children:e,index:t,width:n}){let r=(0,ec.md)(et.h),l=a.useMemo(()=>e.flat().filter(e=>!!e),[e]),i=a.useMemo(()=>{let e=nf(-Math.min(t,l.length-1)),n=`translateX(${e})`;return{transform:n,WebkitTransform:n}},[l.length,t]),s=j()("slide_carousel--container--1f4th",{"slide_carousel--noTransition--0heGr":r});return a.createElement("div",{style:i,"data-testid":"slide-carousel",className:s},l.map((e,r)=>a.createElement("div",{className:"slide_carousel--item--w20ND",style:{width:n},key:r,"data-testid":"slide-carousel-item","aria-hidden":r!==t},e)))}let nf=e=>`${100*e}%`,nb=(0,F.jz)(q.HE),nv=(0,F.jz)(q._q),nC=(0,F.jz)(q.ce),nS=(0,F.jz)(q.RQ);function nw({page:e,width:t}){let{libraryIdentifier:n,currentView:r}=(0,w.wV)(),{getPage:l}=(0,el.G)(),[i]=(0,ea.ye)(),{previousPageId:s}=(0,w.RR)(),o=a.useMemo(()=>r===w.S5.Pages?l(n,s):e,[r,l,n,e,s]);if(!n||!o)return a.createElement("div",{style:{width:t}});if((0,V.AZ)(o))return a.createElement(nx,{page:o});if(i)return a.createElement(nT,{page:o,width:t});switch(o.type){case V.yW.DESIGN:return a.createElement(nk,{page:o,libraryIdentifier:n});case V.yW.SITE:return a.createElement(nm,{page:o,libraryIdentifier:n})}}function nk({page:e,libraryIdentifier:t}){let{assetsScrollTop:n,handleScrollAssets:r}=t9({libraryIdentifier:t,pageId:e.id}),[l]=(0,ea.MA)(),i=tB(),{componentSectionNameForTracking:s,templateSectionNameForTracking:o}=(0,et.zf)(),c=a.useMemo(()=>{let t=[];if(e.templates){let n=t2(e.templates),{props:r,numColumns:s}=tG(i,l,B.rp.NORMAL,!0);t.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.templates")}),key:"templates:header",height:nC}),t.push(...ts(n,s,"templates",r,o,[V.tM.TEMPLATES],{includesFirstTile:!0}))}if(e.examples){let n=t2(e.examples),{props:a,numColumns:r}=tG(i,l,B.rp.NORMAL,!0);t.push(...ts(n,r,"examples",a,s,[V.tM.EXAMPLES],{includesFirstTile:!0,isExample:!0}))}if(e.components){e.templates&&t.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.components")}),key:"components:header",height:nC});let n=t2(e.components),{props:r,numColumns:o}=tG(i,l,(0,B.PI)(n,!0));t.push(...ts(n,o,"components",r,s,[V.tM.COMPONENTS],{includesFirstTile:!e.templates&&!e.examples}))}return t},[e.templates,e.examples,e.components,i,l,o,s]);return a.createElement(to,{elements:c,initialScrollTop:n,onScroll:r,anchorScroll:!0,role:l})}function nT({page:e,width:t}){let{libraryIdentifier:n,pageId:r,folderPath:l}=(0,w.wV)(),{getFolder:i}=(0,el.G)(),{previousFolderPath:s,previousPageId:o}=(0,w.RR)(),[c,d]=a.useMemo(()=>{let t=[],c=s??l??[],d=0;for(let s=-1;s<c.length;s++){let u=c.slice(0,s+1),p=i(n,r??o,u);if(p){if((0,w.xc)(p))continue;t.push(a.createElement(nN,{page:e,currentFolderPath:u,key:`components-${u?u.join("/"):"root"}`})),s===(l??[]).length-1&&(d=t.length-1)}}return[t,d]},[l,i,n,e,r,s,o]);return a.createElement(nE,{index:d,width:t},c)}function nI(e,t){let n=e;for(let e of t){let t=n.subtrees.get(e);if(!t)return null;n=t}return n}function nN({page:e,currentFolderPath:t}){let[n]=(0,ea.MA)(),r=a.useMemo(()=>e.type===V.yW.DESIGN?nI(e.assets,t):null,[t,e.assets,e.type]),l=a.useMemo(()=>e.type===V.yW.SITE?nI(e.assets,t):null,[t,e.assets,e.type]),{folderPath:i,pageId:s,libraryIdentifier:o}=(0,w.wV)(),c=(0,O.fd)(o?.libraryKey),d=t.length,u=i?.length??0,{assetsScrollTop:p,handleScrollAssets:m}=t9({libraryIdentifier:o,pageId:s,folderPath:t});switch(e.type){case V.yW.DESIGN:return a.createElement(nA,{subtree:r,currentFolderPath:t,hideScrollbar:d<u,onScroll:m,initialScrollTop:p,role:n,isPreset:c});case V.yW.SITE:return a.createElement(n_,{subtree:l,currentFolderPath:t,hideScrollbar:d<u,onScroll:m,initialScrollTop:p,role:n})}}function nA({subtree:e,currentFolderPath:t,isPreset:n,hideScrollbar:r,onScroll:l,initialScrollTop:i,role:s}){let o=nM({subtree:e,currentFolderPath:t,isPreset:n});return a.createElement(to,{elements:o,hideScrollbar:r,onScroll:l,initialScrollTop:i,role:s})}function nx({page:e}){let[t]=(0,ea.MA)();return a.createElement(ei.xU,null,a.createElement("div",{className:"grid"===t?"asset_panel_assets--embeds--kl79b":c.cx.flex.flexColumn.itemsCenter.$},a.createElement(t$,{embeds:e.embeds})))}let nM=({subtree:e,currentFolderPath:t,isPreset:n})=>{let r=tB(),{componentSectionNameForTracking:l}=(0,et.zf)(),{folderPath:i}=(0,w.wV)(),[s]=(0,ea.MA)(),o=t.join("/"),c=t.length,d=i?.length??0,u=a.useMemo(()=>!!(n&&e?.items)&&e?.items.every(e=>K.Nz(e,{isPreset:n})),[n,e?.items]),p=a.useCallback(e=>{let t=e.subtrees.values().next().value;return t&&(0,K.dS)(t.name,{isPreset:n})},[n]),m=a.useCallback(({subtree:e,elements:t})=>{let n=e.items.length>0,i=p(e);if(n){let n=[V.tM.COMPONENTS],{props:a,numColumns:i}=tG(r,s,(0,B.PI)(e.items,!0),u);t.push(...ts(e.items,i,e.key,a,l,n,{hasHeader:!1,includesFirstTile:c===d,keyboardPanelDepth:c,isExample:u}))}let m=Array.from(e.subtrees.values());n&&m.length>0&&!i&&t.push({element:a.createElement(ei.cG,null),key:"divider",height:nS}),m.forEach((n,r)=>{t.push({element:a.createElement(er,{subtree:n,index:r+e.items.length,keyPrefix:o,depth:c}),key:n.key,height:"list"===s?nb:nv}),0===r&&i&&m.length>1&&t.push({element:a.createElement(ei.cG,null),key:"examples_divider",height:nS})})},[p,r,s,u,l,c,d,o]);return a.useMemo(()=>{let t=[];return e&&m({subtree:e,elements:t}),t},[m,e])};var nP=n(885153),nR=n(229952),nL=n(966664),nO=n(772391),nD=n(454475),nF=n(135828),nK=n(819635),nB=n(283695),nG=n(57833),nV=n(781505),nU=n(193772),nH=n(773476),nz=n(938486),nW=n(650149);let nj="asset-panel-library-context-menu",n$=e_.Pt("assetsLibrary","contextMenu"),nY=nD.ms,nX=nD.c$,nZ=a.memo(({dropdownShown:e,usePortal:t})=>{let[{data:n}]=(0,nO.IT)((0,O.Re)(e?.data?.partnerType));if(!e||e.type!==nj)return null;let{data:r}=e;if(!r)return null;let{libraryHref:l,position:i,isLocalLibrary:s,hideUnsubscribe:o=!1,onGoToLibrary:c,onPublish:u,onUnsubscribe:p,onSendFeedback:m}=r,_=s?a.createElement(nX,{onClick:u,recordingKey:e_.Pt(n$,"publishLibrary")},(0,d.tx)("design_systems.assets_panel.publish_library")):null,h=[_,o||s?null:a.createElement(nX,{onClick:p,recordingKey:e_.Pt(n$,"unsubscribe")},(0,d.tx)("design_systems.assets_panel.remove_library_from_file")),s||!l?null:a.createElement(nX,{href:l,target:"_blank",recordingKey:e_.Pt(n$,"goToLibrary"),onClick:c},(0,d.tx)("design_systems.assets_panel.go_to_library")),!s&&n?a.createElement(nX,{href:n,target:"_blank",recordingKey:e_.Pt(n$,"sendFeedback"),onClick:m},(0,d.tx)("design_systems.assets_panel.send_feedback_to_creator")):null].filter(nL.Vq);if(!i||!h.length)return null;let g=a.createElement(nY,{style:nF.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(nF.sx.fixed).$},...h);return t?tg.createPortal(g,document.body):g});var nq=n(298455);let nJ="asset-panel-page-context-menu",nQ=e_.Pt("assetsLibrary","contextMenu"),n0=nD.ms,n1=nD.c$,n5=a.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==nJ)return null;let{data:n}=e;if(!n)return null;let{libraryPageHref:r,position:l,isLocalLibrary:i,onClickLocalPage:s,onClickSubscribedPage:o}=n;if(!l)return null;let c=i?a.createElement(n1,{recordingKey:e_.Pt(nQ,"goToLibrary"),onClick:s},(0,d.tx)("design_systems.assets_panel.go_to_page")):r?a.createElement(n1,{href:r,target:"_blank",recordingKey:e_.Pt(nQ,"goToLibrary"),onClick:o},(0,d.tx)("design_systems.assets_panel.go_to_page")):null;if(!c)return null;let u=a.createElement(n0,{style:nF.sx.add({top:`${l.top}px`,right:`${l.right}px`,bottom:`${l.bottom}px`,left:`${l.left}px`}).add(nF.sx.fixed).$},c);return t?tg.createPortal(u,document.body):u});function n3(){let e=(0,eu.d4)(e=>e.dropdownShown),t=(0,eu.d4)(nP.hK),n=e?.type===eK.K.ASSETS_PANEL&&!!e?.data?.component,r=e?.type===nJ&&!!e?.data?.pageId,l=e?.type===nj&&!!e?.data,i=(0,nR.K)(!0),s=a.useContext(eA.U);return a.createElement(a.Fragment,null,n&&a.createElement(eK.h,{selectedView:t,dropdownShown:e,onJumpToLocalComponent:i,onOpenFlyout:s?.onOpenFlyout,usePortal:!0}),r&&a.createElement(n5,{dropdownShown:e,usePortal:!0}),l&&a.createElement(nZ,{dropdownShown:e,usePortal:!0}))}var n2=n(463033),n4=n(666054),n6=n(726310),n8=n(912675),n7=n(343904),n9=n(977251),ae=n(633540),at=n(874991),an=n(531629);let aa="asset_panel_library--library--5bw5-",ar="asset_panel_library--libraryCard--l0q0e",al="asset_panel_library--libraryCardList--qG5I1 asset_panel_library--libraryCard--l0q0e",ai="asset_panel_library--libraryFooter--jXcDc",as="asset_panel_library--libraryFooterList--x3M2r asset_panel_library--libraryFooter--jXcDc",ao="asset_panel_library--libraryNameAndStats--uiY8T",ac="asset_panel_library--libraryPreviewSection--fRTrr",ad=(0,F.jz)(q.Sx),au=(0,F.jz)(q.T5);function ap({library:e,previewHeight:t,cardWidth:n,keyboardSection:l,rowIndex:i,columnIndex:o=0,hideUnsubscribe:c}){let{focusFirstItem:d,focusSearchBar:m}=(0,en.rl)(),{navigateToLibrary:_}=(0,w.wV)(),h=(0,ec.md)(eG.xL),y=(0,p.q5)(),E=a.useMemo(()=>h.includes(e.fileKey),[e.fileKey,h]),[f]=(0,ea.MA)(),b=((0,g.GM)()()?ea.$H.LIST:f)===ea.$H.LIST,v=(0,et.sN)(),C=a.useCallback(()=>{v("libraryCard",_({fileKey:e.fileKey,libraryKey:e.libraryKey}))},[e.fileKey,e.libraryKey,v,_]),{currentView:S}=(0,w.wV)(),k=S!==w.S5.Libraries,{setKeyboardNavigationElement:T}=(0,G.M3)({path:[V.ON.CONTENTS,V.lM.LIBRARIES,l,i],column:o,id:(0,s.kc)().dse_lk_asset_panel?e.libraryKey:e.fileKey,disabled:k}),I=(0,en.MB)({onBoth:C,onKeyDown:d,onClick:m}),N=a.useMemo(()=>{let t=e.libraryKey===y?.libraryKey?"localLibrary":e.libraryKey;return e_.Pt("assetsLibrary",t)},[e.libraryKey,y?.libraryKey]),A=function(e,t=!1){let n=(0,p.q5)(),l=(0,eu.wA)(),i=(0,s.kc)().dse_lk_go_to_source?e.libraryKey===n?.libraryKey:e.fileKey===n?.key,o="community"===e.libraryType,c=(0,eR._9)(e,o,"assets_panel_library_context_menu"),d=a.useCallback(()=>c(!1),[c]),m=function(){let e=(0,eu.wA)(),t=(0,p.q5)(),n=(0,eu.d4)(e=>e.teams),r=(0,eu.d4)(ek.fA),l=a.useCallback(()=>{e(eQ.to({type:nH.dD,data:{entrypoint:nz.RR.ASSET_PANEL_LIBRARY_CONTEXT_MENU}}))},[e]),i=t?.teamId&&n[t.teamId],s=a.useCallback(()=>{e(eQ.to({type:nW.$3,data:{afterFileMove:l,team:i||null}}))},[e,l,i]);return a.useCallback(()=>{r?l():s()},[r,l,s])}(),_=(0,nG.X)(e.libraryKey),h=(0,nB.bL)({libraryKey:e.libraryKey,disabled:!(0,s.kc)().dse_lk_go_to_source}),g=a.useMemo(()=>(0,s.kc)().dse_lk_go_to_source?h.data?.link??void 0:(0,u.wJ)(e.fileKey)?(0,nV.X$)(e.fileKey):(0,nV.jN)({file:{key:e.fileKey,editor_type:nU._Y.DESIGN}}),[e.fileKey,h.data?.link]),y=a.useCallback(()=>{r.az.trackDefinedEvent("assets_panel.go_to_library",{libraryKey:e.libraryKey,fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0,entryPoint:"library_context_menu"})},[e.libraryKey,n]),E=a.useCallback(()=>{r.az.trackDefinedEvent("assets_panel.send_feedback_to_creator",{libraryKey:e.libraryKey,fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0,entryPoint:"library_context_menu",partnerType:_})},[e.libraryKey,n,_]),f=a.useCallback(()=>{r.az.trackDefinedEvent("assets_panel.open_library_context_menu",{libraryKey:e.libraryKey,fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0})},[e.libraryKey,n]);return a.useCallback(n=>{e.type!==V.yW.SITE&&(n.preventDefault(),n.stopPropagation(),l((0,nK.j7)({type:nj,data:{libraryHref:g,isLocalLibrary:i,partnerType:_,hideUnsubscribe:t,onGoToLibrary:y,onPublish:m,onUnsubscribe:d,onSendFeedback:E,position:{top:n.clientY,left:n.clientX}}})),f())},[e.type,l,g,i,_,t,y,m,d,E,f])}(e,c);return a.createElement($.GG,{className:aa,"aria-label":e.name,onClick:I,onContextMenu:A,forwardedRef:T,tabIndex:k?-1:0,style:{width:b?"100%":n},recordingKey:N},a.createElement(am,{library:e,previewHeight:t,isList:b,showAuthor:E}))}function am({library:e,previewHeight:t,isList:n,showAuthor:r}){let{thumbnailUrl:l}=e,[i,s]=a.useState(l),o=a.useMemo(()=>{if(i)return`url(${i})`},[i]),c=a.useCallback(()=>{s(l)},[l]),d=a.useMemo(()=>n?{height:ad,width:au}:{height:t},[n,t]);return a.createElement("div",{className:n?al:ar},a.createElement("div",{className:ac},a.createElement("div",{style:{backgroundImage:o,...d},className:e.thumbnailShouldCover?"asset_panel_library--libraryPreviewCover---Jx5R asset_panel_library--libraryPreview--jl-5n":"asset_panel_library--libraryPreview--jl-5n"}),l&&a.createElement(tb.oW,{src:l,onLoad:c,className:"asset_panel_library--hiddenImage--a-LoJ",alt:""})),a.createElement(ah,{library:e,isList:n,showAuthor:r}))}function a_({isList:e,previewHeight:t,cardWidth:n}){let r=a.useMemo(()=>e?{height:ad,width:au}:{height:t},[e,t]);return a.createElement("div",{className:aa,style:{width:e?"100%":n,pointerEvents:"none"},"data-testid":"asset-panel-loading-library"},a.createElement("div",{className:e?al:ar},a.createElement("div",{className:j()(ac,c.cx.radiusMedium.overflowHidden.$)},a.createElement(an.Qp,{className:c.cx.wFull.$,style:{...r},animationType:an.JR.LIGHT_SHIMMER})),a.createElement("div",{className:e?as:ai},a.createElement("div",{className:j()(c.cx.gap2.$,ao)},a.createElement(an.Wi,{className:c.cx.h16.$,style:{width:"15ch"},animationType:an.JR.LIGHT_SHIMMER}),a.createElement(an.Wi,{className:c.cx.h16.$,style:{width:"10ch"},animationType:an.JR.LIGHT_SHIMMER})))))}function ah({library:e,isList:t,showAuthor:n}){let r=(0,ec.md)(eG.Rs),l=(0,s.kc)().dse_editor_templates_v1,i=a.useMemo(()=>{if(e.type===V.yW.SITE)return(0,d.t)("design_systems.assets_panel.num_assets",{numAssets:e.numResponsiveSets});let t=[];return e.numComponents>0&&t.push((0,d.t)("design_systems.assets_panel.num_components",{numComponents:e.numComponents})),l&&e.numTemplates>0&&t.push((0,d.t)("design_systems.assets_panel.num_templates",{numTemplates:e.numTemplates})),t.join(", ")},[e,l]),o=r?.[e.fileKey]?.author_name||e.authorName;return a.createElement("div",{className:t?as:ai},a.createElement("div",{className:ao},a.createElement("div",{className:"asset_panel_library--nameAndIconForList--UCm5F"},a.createElement("h3",{className:"asset_panel_library--libraryName--aege1 ellipsis--ellipsis--Tjyfa"},e.name),a.createElement("div",{className:"asset_panel_library--libraryIcon--6s19b"},a.createElement(eC.P,{resourceId:e.fileKey,libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"}))),a.createElement("div",{className:"asset_panel_library--libraryStats--JL9eF ellipsis--ellipsis--Tjyfa"},n?(0,d.tx)("community.by_publisher",{publisher:o}):i)))}function ag(){return a.createElement("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern0_4378_11285)"}),a.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern1_4378_11285)"}),a.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"#85C9E4"}),a.createElement("g",{filter:"url(#filter0_dd_4378_11285)"},a.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern2_4378_11285)"}),a.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern3_4378_11285)"}),a.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"#E5F4FF"}),a.createElement("g",{clipPath:"url(#clip0_4378_11285)"},a.createElement("g",{filter:"url(#filter1_d_4378_11285)"},a.createElement("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),a.createElement("rect",{x:"40.8477",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),a.createElement("path",{d:"M38.7913 22.7412L56.2288 40.1787M56.2288 22.7412L38.7913 40.1787M44.6973 22.46V40.46M47.5097 22.46V40.46M50.3225 22.46V40.46M56.51 28.6475L38.51 28.6475M56.51 31.4599L38.51 31.4599M56.51 34.2726L38.51 34.2726M53.135 31.46C53.135 34.5666 50.6166 37.085 47.51 37.085C44.4034 37.085 41.885 34.5666 41.885 31.46C41.885 28.3534 44.4034 25.835 47.51 25.835C50.6166 25.835 53.135 28.3534 53.135 31.46ZM50.3225 31.46C50.3225 33.0133 49.0633 34.2725 47.51 34.2725C45.9567 34.2725 44.6975 33.0133 44.6975 31.46C44.6975 29.9067 45.9567 28.6475 47.51 28.6475C49.0633 28.6475 50.3225 29.9067 50.3225 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),a.createElement("path",{d:"M46.8393 29.3914H46.3369C46.0243 29.3914 45.8679 29.3914 45.7485 29.4522C45.6435 29.5057 45.5582 29.591 45.5047 29.6961C45.4438 29.8155 45.4438 29.9719 45.4438 30.2845V32.4054C45.4438 32.718 45.4438 32.8742 45.5047 32.9936C45.5582 33.0986 45.6435 33.1841 45.7485 33.2376C45.8678 33.2984 46.024 33.2984 46.336 33.2984H48.4587C48.7706 33.2984 48.9266 33.2984 49.0459 33.2376C49.1509 33.1841 49.2365 33.0985 49.2901 32.9935C49.3508 32.8742 49.3508 32.7182 49.3508 32.4062V31.903M49.6299 30.5077V29.1123M49.6299 29.1123H48.2345M49.6299 29.1123L47.6764 31.0658",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"}))),a.createElement("g",{clipPath:"url(#clip1_4378_11285)"},a.createElement("g",{filter:"url(#filter2_d_4378_11285)"},a.createElement("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),a.createElement("rect",{x:"55.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),a.createElement("path",{d:"M53.6882 22.7412L71.1257 40.1787M71.1257 22.7412L53.6882 40.1787M59.5943 22.46V40.46M62.4066 22.46V40.46M65.2194 22.46V40.46M71.407 28.6475L53.407 28.6475M71.407 31.4599L53.407 31.4599M71.407 34.2726L53.407 34.2726M68.032 31.46C68.032 34.5666 65.5136 37.085 62.407 37.085C59.3004 37.085 56.782 34.5666 56.782 31.46C56.782 28.3534 59.3004 25.835 62.407 25.835C65.5136 25.835 68.032 28.3534 68.032 31.46ZM65.2195 31.46C65.2195 33.0133 63.9603 34.2725 62.407 34.2725C60.8537 34.2725 59.5945 33.0133 59.5945 31.46C59.5945 29.9067 60.8537 28.6475 62.407 28.6475C63.9603 28.6475 65.2195 29.9067 65.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),a.createElement("path",{d:"M64.911 33.9649L63.704 32.758M63.704 32.758C64.1063 32.3557 64.3552 31.7999 64.3552 31.186C64.3552 29.9582 63.3599 28.9629 62.1321 28.9629C60.9043 28.9629 59.9089 29.9582 59.9089 31.186C59.9089 32.4138 60.9043 33.4091 62.1321 33.4091C62.746 33.4091 63.3017 33.1603 63.704 32.758Z",stroke:"#007BE5",strokeWidth:"0.555781",strokeLinecap:"round",strokeLinejoin:"round"}))),a.createElement("g",{clipPath:"url(#clip2_4378_11285)"},a.createElement("g",{filter:"url(#filter3_d_4378_11285)"},a.createElement("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),a.createElement("rect",{x:"25.7964",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),a.createElement("path",{d:"M23.7397 7.68945L41.1772 25.127M41.1772 7.68945L23.7397 25.127M29.6458 7.4082V25.4082M32.4582 7.4082V25.4082M35.2709 7.4082V25.4082M41.4585 13.5957L23.4585 13.5957M41.4585 16.4081L23.4585 16.4081M41.4585 19.2209L23.4585 19.2209M38.0835 16.4082C38.0835 19.5148 35.5651 22.0332 32.4585 22.0332C29.3519 22.0332 26.8335 19.5148 26.8335 16.4082C26.8335 13.3016 29.3519 10.7832 32.4585 10.7832C35.5651 10.7832 38.0835 13.3016 38.0835 16.4082ZM35.271 16.4082C35.271 17.9615 34.0118 19.2207 32.4585 19.2207C30.9052 19.2207 29.646 17.9615 29.646 16.4082C29.646 14.8549 30.9052 13.5957 32.4585 13.5957C34.0118 13.5957 35.271 14.8549 35.271 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),a.createElement("path",{d:"M31.0159 13.8096C30.3787 13.8096 29.8621 14.3262 29.8621 14.9634V17.5596V17.848C29.8621 18.4852 30.3787 19.0019 31.0159 19.0019H33.9005C34.5377 19.0019 35.0544 18.4852 35.0544 17.848V17.5596V14.9634C35.0544 14.3262 34.5377 13.8096 33.9005 13.8096H31.0159ZM31.0159 14.3865H33.9005C34.2193 14.3865 34.4774 14.6447 34.4774 14.9634L34.4786 16.7507C34.2542 16.5424 34.0254 16.4121 33.7742 16.4057C33.7652 16.4054 33.7655 16.4057 33.7563 16.4057C33.4283 16.4057 33.0637 16.6578 32.8188 16.9737C32.7562 16.8324 32.693 16.6927 32.6203 16.5589C32.2799 15.9303 31.9081 15.5412 31.4486 15.5403C31.058 15.5395 30.7228 15.8588 30.4367 16.2961L30.439 14.9634C30.439 14.6447 30.6972 14.3865 31.0159 14.3865ZM33.6121 14.9634C33.4528 14.9634 33.3236 15.0926 33.3236 15.2519C33.3236 15.4111 33.4528 15.5403 33.6121 15.5403C33.7713 15.5403 33.9005 15.4111 33.9005 15.2519C33.9005 15.0926 33.7713 14.9634 33.6121 14.9634ZM31.4486 16.1173C31.6165 16.1175 31.8715 16.3789 32.1155 16.8295C32.2124 17.0077 32.2993 17.2042 32.3772 17.3974C32.4239 17.5128 32.4599 17.6011 32.4761 17.6496C32.5548 17.8852 32.8745 17.9187 32.9991 17.7038C33.0115 17.6824 33.034 17.6415 33.0712 17.5867C33.1335 17.4944 33.2045 17.4009 33.2786 17.3161C33.4638 17.1038 33.6423 16.9826 33.7563 16.9826C33.8714 16.9855 34.0491 17.1064 34.234 17.3161C34.309 17.4012 34.3782 17.4944 34.4414 17.5867C34.4613 17.6155 34.4642 17.6291 34.4774 17.6496V17.848C34.4774 18.1668 34.2193 18.4249 33.9005 18.4249H31.0159C30.6972 18.4249 30.439 18.1668 30.439 17.848V17.6046C30.4572 17.5532 30.4814 17.4924 30.52 17.3974C30.5988 17.2042 30.6842 17.008 30.7817 16.8295C31.0277 16.378 31.281 16.117 31.4486 16.1173Z",fill:"#007BE5"}))),a.createElement("g",{clipPath:"url(#clip3_4378_11285)"},a.createElement("g",{filter:"url(#filter4_d_4378_11285)"},a.createElement("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),a.createElement("rect",{x:"40.8477",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),a.createElement("path",{d:"M38.7915 7.68945L56.229 25.127M56.229 7.68945L38.7915 25.127M44.6975 7.4082V25.4082M47.5099 7.4082V25.4082M50.3227 7.4082V25.4082M56.5103 13.5957L38.5103 13.5957M56.5103 16.4081L38.5103 16.4081M56.5103 19.2209L38.5103 19.2209M53.1353 16.4082C53.1353 19.5148 50.6169 22.0332 47.5103 22.0332C44.4037 22.0332 41.8853 19.5148 41.8853 16.4082C41.8853 13.3016 44.4037 10.7832 47.5103 10.7832C50.6169 10.7832 53.1353 13.3016 53.1353 16.4082ZM50.3228 16.4082C50.3228 17.9615 49.0636 19.2207 47.5103 19.2207C45.957 19.2207 44.6978 17.9615 44.6978 16.4082C44.6978 14.8549 45.957 13.5957 47.5103 13.5957C49.0636 13.5957 50.3228 14.8549 50.3228 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),a.createElement("g",{clipPath:"url(#clip4_4378_11285)"},a.createElement("path",{d:"M47.6765 15.2739C47.0718 13.8547 44.9556 14.0058 44.9556 15.8198C44.9556 17.6338 47.6765 19.1454 47.6765 19.1454C47.6765 19.1454 50.3974 17.6338 50.3974 15.8198C50.3974 14.0058 48.2811 13.8547 47.6765 15.2739Z",stroke:"#007BE5",strokeWidth:"0.605407",strokeLinecap:"round",strokeLinejoin:"round"})))),a.createElement("g",{clipPath:"url(#clip5_4378_11285)"},a.createElement("g",{filter:"url(#filter5_d_4378_11285)"},a.createElement("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),a.createElement("rect",{x:"55.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),a.createElement("path",{d:"M53.6885 7.68945L71.126 25.127M71.126 7.68945L53.6885 25.127M59.5945 7.4082V25.4082M62.4069 7.4082V25.4082M65.2197 7.4082V25.4082M71.4072 13.5957L53.4072 13.5957M71.4072 16.4081L53.4072 16.4081M71.4072 19.2209L53.4072 19.2209M68.0322 16.4082C68.0322 19.5148 65.5138 22.0332 62.4072 22.0332C59.3006 22.0332 56.7822 19.5148 56.7822 16.4082C56.7822 13.3016 59.3006 10.7832 62.4072 10.7832C65.5138 10.7832 68.0322 13.3016 68.0322 16.4082ZM65.2197 16.4082C65.2197 17.9615 63.9605 19.2207 62.4072 19.2207C60.8539 19.2207 59.5947 17.9615 59.5947 16.4082C59.5947 14.8549 60.8539 13.5957 62.4072 13.5957C63.9605 13.5957 65.2197 14.8549 65.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),a.createElement("path",{d:"M60.2761 16.3467V18.4809C60.2761 18.7755 60.515 19.0144 60.8097 19.0144H64.011C64.3056 19.0144 64.5445 18.7755 64.5445 18.4809V16.3467",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M60.8088 14.6122C60.8088 14.2439 61.1074 13.9453 61.4758 13.9453V13.9453C61.9914 13.9453 62.4095 14.3633 62.4095 14.879V15.2792H61.4758C61.1074 15.2792 60.8088 14.9806 60.8088 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),a.createElement("path",{d:"M64.0107 14.6122C64.0107 14.2439 63.7121 13.9453 63.3438 13.9453V13.9453C62.8281 13.9453 62.4101 14.3633 62.4101 14.879V15.2792H63.3438C63.7121 15.2792 64.0107 14.9806 64.0107 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),a.createElement("path",{d:"M60.009 15.2803H64.811V16.3474H60.009V15.2803Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M62.4099 16.3467V19.0144",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}))),a.createElement("g",{clipPath:"url(#clip6_4378_11285)"},a.createElement("g",{filter:"url(#filter6_d_4378_11285)"},a.createElement("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),a.createElement("rect",{x:"25.7964",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),a.createElement("path",{d:"M23.74 22.7412L41.1775 40.1787M41.1775 22.7412L23.74 40.1787M29.646 22.46V40.46M32.4584 22.46V40.46M35.2712 22.46V40.46M41.4587 28.6475L23.4587 28.6475M41.4587 31.4599L23.4587 31.4599M41.4587 34.2726L23.4587 34.2726M38.0837 31.46C38.0837 34.5666 35.5653 37.085 32.4587 37.085C29.3521 37.085 26.8337 34.5666 26.8337 31.46C26.8337 28.3534 29.3521 25.835 32.4587 25.835C35.5653 25.835 38.0837 28.3534 38.0837 31.46ZM35.2712 31.46C35.2712 33.0133 34.012 34.2725 32.4587 34.2725C30.9054 34.2725 29.6462 33.0133 29.6462 31.46C29.6462 29.9067 30.9054 28.6475 32.4587 28.6475C34.012 28.6475 35.2712 29.9067 35.2712 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),a.createElement("path",{d:"M32.3423 28.5566C31.3514 28.5566 30.6687 29.2395 30.6687 30.2303C30.6687 30.3656 30.6687 30.7798 30.6687 30.7882C30.6687 30.878 30.6233 30.9391 30.4682 31.0671C30.4506 31.0816 30.3768 31.145 30.3549 31.1631C30.0019 31.4549 29.8282 31.7282 29.8318 32.1829C29.8356 32.6426 30.2103 33.0144 30.6687 33.0197H31.5546C31.5546 33.0197 31.5055 33.1902 31.5055 33.2987C31.5055 33.7609 31.8801 34.1355 32.3423 34.1355C32.8045 34.1355 33.1792 33.7609 33.1792 33.2987C33.1792 33.1902 33.1323 33.0197 33.1323 33.0197H34.016C34.4734 33.0214 34.8534 32.6446 34.8528 32.1829C34.8523 31.7316 34.6782 31.4535 34.3298 31.1631C34.3069 31.1438 34.226 31.0822 34.2076 31.0671C34.0559 30.9405 34.016 30.8769 34.016 30.7882C34.016 30.4395 34.016 30.2303 34.016 30.2303C34.016 29.2395 33.3331 28.5566 32.3423 28.5566ZM32.3423 29.1145C33.0252 29.1145 33.4581 29.5474 33.4581 30.2303C33.4581 30.2303 33.4581 30.4395 33.4581 30.7882C33.4581 31.0844 33.5831 31.2713 33.8503 31.4942C33.8715 31.5118 33.961 31.5821 33.9811 31.5988C34.2149 31.7938 34.2946 31.9257 34.2949 32.1829C34.2952 32.3346 34.1652 32.4624 34.016 32.4618C33.9633 32.4616 33.1513 32.4616 32.3423 32.4618C31.5335 32.4621 30.7279 32.4624 30.6687 32.4618C30.513 32.4599 30.391 32.3377 30.3897 32.1829C30.3877 31.9263 30.4674 31.7941 30.7035 31.5988C30.7228 31.5829 30.8053 31.5109 30.8256 31.4942C31.097 31.2699 31.2266 31.0872 31.2266 30.7882C31.2266 30.7798 31.2266 30.3656 31.2266 30.2303C31.2266 29.5474 31.6596 29.1145 32.3423 29.1145ZM32.3423 33.0197C32.4963 33.0197 32.6213 33.1447 32.6213 33.2987C32.6213 33.4527 32.4963 33.5776 32.3423 33.5776C32.1884 33.5776 32.0634 33.4527 32.0634 33.2987C32.0634 33.1447 32.1884 33.0197 32.3423 33.0197Z",fill:"#007BE5"}))),a.createElement("g",{clipPath:"url(#clip7_4378_11285)"},a.createElement("g",{filter:"url(#filter7_d_4378_11285)"},a.createElement("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),a.createElement("rect",{x:"10.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),a.createElement("path",{d:"M8.68848 7.68945L26.126 25.127M26.126 7.68945L8.68848 25.127M14.5945 7.4082V25.4082M17.4069 7.4082V25.4082M20.2197 7.4082V25.4082M26.4072 13.5957L8.40723 13.5957M26.4072 16.4081L8.40723 16.4081M26.4072 19.2209L8.40723 19.2209M23.0322 16.4082C23.0322 19.5148 20.5138 22.0332 17.4072 22.0332C14.3006 22.0332 11.7822 19.5148 11.7822 16.4082C11.7822 13.3016 14.3006 10.7832 17.4072 10.7832C20.5138 10.7832 23.0322 13.3016 23.0322 16.4082ZM20.2197 16.4082C20.2197 17.9615 18.9605 19.2207 17.4072 19.2207C15.8539 19.2207 14.5947 17.9615 14.5947 16.4082C14.5947 14.8549 15.8539 13.5957 17.4072 13.5957C18.9605 13.5957 20.2197 14.8549 20.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),a.createElement("path",{d:"M18.1308 16.0168L17.0145 17.1331L16.4564 16.5749M15.061 17.6354V16.143C15.061 15.9939 15.061 15.9193 15.0792 15.8499C15.0952 15.7884 15.1218 15.7302 15.1575 15.6776C15.1978 15.6183 15.2538 15.5691 15.366 15.4709L16.706 14.2984C16.914 14.1164 17.018 14.0253 17.1352 13.9907C17.2385 13.9601 17.3486 13.9601 17.4519 13.9907C17.5692 14.0254 17.6734 14.1165 17.8817 14.2988L19.2212 15.4709C19.3335 15.5691 19.3895 15.6183 19.4298 15.6776C19.4654 15.7302 19.4918 15.7884 19.5079 15.8499C19.526 15.9193 19.5262 15.9939 19.5262 16.143V17.6364C19.5262 17.9484 19.5262 18.1045 19.4654 18.2238C19.4119 18.3288 19.3263 18.4141 19.2212 18.4677C19.102 18.5284 18.946 18.5284 18.634 18.5284H15.9532C15.6412 18.5284 15.485 18.5284 15.3657 18.4677C15.2607 18.4141 15.1754 18.3288 15.1219 18.2238C15.061 18.1044 15.061 17.948 15.061 17.6354Z",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"}))),a.createElement("g",{clipPath:"url(#clip8_4378_11285)"},a.createElement("g",{filter:"url(#filter8_d_4378_11285)"},a.createElement("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),a.createElement("rect",{x:"10.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),a.createElement("path",{d:"M8.68823 22.7412L26.1257 40.1787M26.1257 22.7412L8.68823 40.1787M14.5943 22.46V40.46M17.4066 22.46V40.46M20.2194 22.46V40.46M26.407 28.6475L8.40698 28.6475M26.407 31.4599L8.40698 31.4599M26.407 34.2726L8.40698 34.2726M23.032 31.46C23.032 34.5666 20.5136 37.085 17.407 37.085C14.3004 37.085 11.782 34.5666 11.782 31.46C11.782 28.3534 14.3004 25.835 17.407 25.835C20.5136 25.835 23.032 28.3534 23.032 31.46ZM20.2195 31.46C20.2195 33.0133 18.9603 34.2725 17.407 34.2725C15.8537 34.2725 14.5945 33.0133 14.5945 31.46C14.5945 29.9067 15.8537 28.6475 17.407 28.6475C18.9603 28.6475 20.2195 29.9067 20.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),a.createElement("path",{d:"M17.2926 28.5586C15.752 28.5586 14.5032 29.8074 14.5032 31.348C14.5032 32.8886 15.752 34.1374 17.2926 34.1374C18.8332 34.1374 20.082 32.8886 20.082 31.348C20.082 29.8074 18.8332 28.5586 17.2926 28.5586ZM17.2926 29.1165C17.6608 29.1165 18.0653 29.9622 18.1269 31.0682L16.4616 31.0716C16.523 29.9656 16.9244 29.1165 17.2926 29.1165ZM16.3076 29.3405C16.0678 29.8071 15.9394 30.4258 15.9085 31.0696L15.0772 31.0671C15.1604 30.307 15.6722 29.6693 16.3076 29.3405ZM18.2789 29.3419C18.9144 29.6707 19.4131 30.2905 19.5093 31.0716L18.6784 31.0691C18.6522 30.3996 18.504 29.811 18.2789 29.3419ZM15.0789 31.6281L15.9099 31.6211C15.9408 32.2649 16.07 32.8942 16.3088 33.3558C15.6415 33.0214 15.1749 32.3667 15.0789 31.6281ZM16.4572 31.6303L18.1224 31.6267C18.0611 32.7324 17.6608 33.5795 17.2926 33.5795C16.9244 33.5795 16.5185 32.7363 16.4572 31.6303ZM18.6798 31.6275L19.5071 31.625C19.4112 32.3639 18.9448 33.0239 18.2778 33.3528C18.5255 32.8406 18.6488 32.2713 18.6798 31.6275Z",fill:"#007BE5"})))),a.createElement("defs",null,a.createElement("pattern",{id:"pattern0_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},a.createElement("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),a.createElement("pattern",{id:"pattern1_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},a.createElement("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})),a.createElement("filter",{id:"filter0_dd_4378_11285",x:"4",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:"1"}),a.createElement("feGaussianBlur",{stdDeviation:"1.5"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"0.25"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11285",result:"effect2_dropShadow_4378_11285"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11285",result:"shape"})),a.createElement("pattern",{id:"pattern2_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},a.createElement("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),a.createElement("pattern",{id:"pattern3_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},a.createElement("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})),a.createElement("filter",{id:"filter1_d_4378_11285",x:"4.51214",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),a.createElement("filter",{id:"filter2_d_4378_11285",x:"19.4091",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),a.createElement("filter",{id:"filter3_d_4378_11285",x:"-10.5394",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),a.createElement("filter",{id:"filter4_d_4378_11285",x:"4.51239",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),a.createElement("filter",{id:"filter5_d_4378_11285",x:"19.4094",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),a.createElement("filter",{id:"filter6_d_4378_11285",x:"-10.5391",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),a.createElement("filter",{id:"filter7_d_4378_11285",x:"-25.5906",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),a.createElement("filter",{id:"filter8_d_4378_11285",x:"-25.5909",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),a.createElement("clipPath",{id:"clip0_4378_11285"},a.createElement("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),a.createElement("clipPath",{id:"clip1_4378_11285"},a.createElement("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),a.createElement("clipPath",{id:"clip2_4378_11285"},a.createElement("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),a.createElement("clipPath",{id:"clip3_4378_11285"},a.createElement("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),a.createElement("clipPath",{id:"clip4_4378_11285"},a.createElement("rect",{width:"7.25582",height:"7.25582",fill:"white",transform:"translate(44.0486 12.9473)"})),a.createElement("clipPath",{id:"clip5_4378_11285"},a.createElement("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),a.createElement("clipPath",{id:"clip6_4378_11285"},a.createElement("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),a.createElement("clipPath",{id:"clip7_4378_11285"},a.createElement("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),a.createElement("clipPath",{id:"clip8_4378_11285"},a.createElement("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"}))))}function ay(){return a.createElement("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern0_4378_11342)"}),a.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern1_4378_11342)"}),a.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"#F8D4C4"}),a.createElement("g",{filter:"url(#filter0_dd_4378_11342)"},a.createElement("g",{clipPath:"url(#clip0_4378_11342)"},a.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern2_4378_11342)"}),a.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern3_4378_11342)"}),a.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"#FFFBEB"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.9114 27.9895C23.8542 28.1061 23.6358 28.1415 23.4926 28.1662C22.3258 28.3713 17.2683 28.4774 16.7815 28.0637C16.3556 27.7102 16.5918 21.933 17.007 21.6996C17.5439 21.385 23.3996 21.3249 23.8076 21.6466C24.1047 21.8906 24.2908 27.1727 23.9114 27.9895ZM23.7181 21.7208C23.3924 21.4521 17.6728 21.6537 17.1573 21.9012C16.8817 22.6295 16.7028 27.2046 16.9712 27.8551C17.4079 28.1521 22.7589 28.1415 23.6931 27.8551C24.0582 26.9889 23.9222 21.8906 23.7181 21.7208ZM38.1462 21.1021C38.2881 21.342 38.4798 21.5495 38.7086 21.7109C38.9375 21.8724 39.1984 21.9842 39.4741 22.0391C39.4825 22.0369 39.4914 22.0367 39.4999 22.0385C39.5085 22.0402 39.5165 22.0439 39.5234 22.0492C39.5303 22.0545 39.5359 22.0612 39.5397 22.069C39.5436 22.0767 39.5456 22.0852 39.5456 22.0939C39.5456 22.1025 39.5436 22.111 39.5397 22.1187C39.5359 22.1265 39.5303 22.1333 39.5234 22.1385C39.5165 22.1438 39.5085 22.1475 39.4999 22.1492C39.4914 22.151 39.4825 22.1508 39.4741 22.1487C38.8441 22.3113 38.0245 21.7456 38.0245 21.1233C38.0216 21.1074 38.0253 21.091 38.0347 21.0777C38.0441 21.0645 38.0585 21.0554 38.0746 21.0526C38.0907 21.0498 38.1073 21.0534 38.1208 21.0627C38.1342 21.072 38.1433 21.0862 38.1462 21.1021ZM41.0704 17.9378V18.2913C41.0704 18.3382 41.0516 18.3832 41.018 18.4163C40.9845 18.4495 40.9389 18.4681 40.8915 18.4681C40.8443 18.4672 40.7993 18.4483 40.7659 18.4153C40.7326 18.3824 40.7134 18.3379 40.7125 18.2913V17.9378C40.7125 17.8909 40.7314 17.8459 40.7649 17.8128C40.7985 17.7796 40.844 17.761 40.8915 17.761C40.9389 17.761 40.9845 17.7796 41.018 17.8128C41.0516 17.8459 41.0704 17.8909 41.0704 17.9378ZM37.5019 18.2736C37.5019 18.3205 37.4831 18.3655 37.4495 18.3986C37.4159 18.4318 37.3704 18.4504 37.3229 18.4504C37.2755 18.4504 37.23 18.4318 37.1964 18.3986C37.1628 18.3655 37.144 18.3205 37.144 18.2736V17.8352C37.144 17.7883 37.1628 17.7434 37.1964 17.7102C37.23 17.6771 37.2755 17.6584 37.3229 17.6584C37.3704 17.6584 37.4159 17.6771 37.4495 17.7102C37.4831 17.7434 37.5019 17.7883 37.5019 17.8352C37.5162 17.9873 37.5019 18.164 37.5019 18.2736Z",fill:"black"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7486 43.8508C16.7721 43.8114 16.8054 43.7785 16.8453 43.7553C17.1531 43.6068 18.8282 43.6811 19.1754 43.6952C19.1145 34.4214 24.0611 28.6371 31.2411 26.9789C32.5583 26.6749 32.5619 26.6536 32.5976 26.6749L32.841 26.0137C32.1538 25.9925 31.5919 25.4692 30.9619 25.5753C30.4859 25.6531 30.2461 26.0703 29.7772 26.2471C28.9826 26.544 27.5688 26.0879 27.1357 25.3419C26.9138 24.953 27.1106 24.55 26.971 24.2813C26.7205 24.0656 26.0082 23.7191 25.8042 23.4681C25.3854 22.9519 25.3675 21.7957 25.5572 21.1699C25.8997 20.4618 26.3662 19.819 26.9352 19.2713C27.5543 18.6821 28.1031 18.025 28.571 17.3126C29.1472 16.1777 29.1687 14.6079 29.6447 13.4234C30.1694 12.354 30.9817 11.4477 31.9928 10.8036C32.9802 10.1146 34.1708 9.76773 35.3787 9.81713C36.5062 9.88784 36.9465 10.3616 37.4726 10.5243C37.9988 10.6869 38.1097 10.5243 38.9652 10.8955C39.3048 11.0999 39.6073 11.3593 39.86 11.6627C39.9674 11.7759 39.9602 11.7829 40.1427 11.79C40.3393 11.7754 40.5367 11.7754 40.7333 11.79C41.0685 11.8635 41.389 11.9913 41.6818 12.1683C43.6755 13.3492 43.1386 15.7251 43.8902 17.4717C44.4021 18.6597 45.8266 19.8017 45.9483 21.0427C45.9914 21.6133 45.8672 22.1841 45.5904 22.6867C44.7206 24.1964 43.4715 23.012 42.8236 23.9348C42.6196 24.2247 42.4657 24.5075 42.0863 24.5641C41.6031 24.6277 40.9445 24.2494 40.5508 23.9701C40.4681 24.0654 40.3744 24.1508 40.2716 24.2247C39.9227 24.457 39.548 24.6492 39.1549 24.7975L40.064 26.0526C41.7677 25.8617 44.3842 26.4062 46.07 26.9188C46.1309 26.4945 46.6606 22.9908 47.0615 22.8211C47.6163 22.5806 53.4397 23.2489 53.7941 23.6272C54.0554 23.903 53.5865 29.1533 53.0782 29.9382C53.0031 30.0584 52.7454 30.062 52.6022 30.0655C53.4397 30.6312 54.2487 31.204 54.5386 31.4126C54.7641 30.6418 55.9488 26.5653 56.3855 25.897C56.5108 25.7026 56.6253 25.7061 57.2016 25.897C57.53 24.2782 57.9458 22.6778 58.4471 21.1028C58.2592 20.7975 58.109 20.4711 57.9997 20.1305C57.8663 19.591 57.8468 19.0301 57.9425 18.4829C57.5058 18.6278 54.8965 19.335 54.4741 19.1299C54.3607 19.0499 54.2766 18.9358 54.2343 18.8046C53.7726 17.8076 52.9816 14.4028 52.9207 13.3244C52.8957 13.1864 52.9197 13.044 52.9888 12.9214C53.4075 12.49 59.0413 10.8884 59.5173 11.1006C59.8073 11.2314 60.5911 13.7735 60.6734 14.074C61.3571 16.3403 61.0099 15.8418 61.3893 15.9726C61.826 16.1246 62.2018 17.0333 62.3557 17.454C62.5096 17.8748 62.6707 18.4405 62.4881 18.7728C62.5623 18.908 62.5921 19.0625 62.5735 19.2152C62.5549 19.3678 62.4888 19.5109 62.3843 19.6249C62.4982 19.7502 62.5724 19.9057 62.5978 20.0722C62.6232 20.2387 62.5988 20.4089 62.5275 20.5618C62.4237 20.8836 61.7759 21.0957 61.4537 21.1876C61.7081 21.8646 61.9196 22.5566 62.0873 23.2595C62.3728 24.3502 62.601 25.4548 62.7709 26.5688C62.8768 27.1101 62.9117 27.6627 62.8747 28.2128L63.4617 28.4745C63.4843 28.4847 63.5034 28.5012 63.5167 28.5219C63.5301 28.5426 63.5371 28.5666 63.5369 28.5912C63.5369 28.5912 63.4259 32.8763 61.9978 36.4366C60.2726 40.7465 57.4342 42.1891 53.114 40.5768C53.0751 40.9151 52.9908 41.2469 52.8635 41.5633C52.799 41.6764 52.5807 41.6976 52.434 41.7118C51.1633 41.7529 49.8913 41.7139 48.6256 41.5951L47.5518 48.3127C47.8418 49.14 51.1311 58.5659 51.0846 59.4428C51.0846 59.5347 51.0488 59.6054 50.8949 59.6761C49.9464 60.111 40.9588 61.2707 40.6188 60.3019C40.5329 60.065 40.3253 58.5553 40.2859 58.269L35.2284 57.7174L30.4071 58.0321C30.3552 58.5089 30.2691 58.9815 30.1494 59.4463C30.1065 59.5524 30.0564 59.609 29.9311 59.5983C29.455 59.5524 26.9173 59.0998 26.2158 58.969C23.5242 58.467 23.585 58.4245 23.6638 58.1629C23.8535 57.5442 25.6145 52.7181 26.3017 50.4659C25.2964 50.5719 24.2825 50.5719 23.2772 50.4659C23.2663 50.5042 23.2459 50.5391 23.2178 50.5676C23.1896 50.596 23.1547 50.617 23.1162 50.6285C22.4612 50.8654 16.609 50.5366 16.1294 50.0628C15.6963 49.6845 16.4229 44.3882 16.7486 43.8508ZM59.5102 11.2526C59.4708 11.1925 59.4851 11.1677 59.1702 11.2137C57.8566 11.3975 53.5614 12.7658 53.1892 13.0876C53.1176 13.8972 54.1806 18.3415 54.5994 18.8789C54.9037 18.9814 56.9224 18.4723 57.2338 18.391C59.6032 17.7793 59.5102 17.6838 60.0507 17.5601C60.3298 17.4646 60.3585 17.4611 60.3513 17.4222C60.3504 17.4135 60.3463 17.4053 60.3396 17.3995C60.333 17.3936 60.3244 17.3903 60.3155 17.3904C59.9934 17.3904 59.1308 17.3656 58.9196 17.1181C58.873 17.0678 58.8382 17.0079 58.8177 16.9428C58.7973 16.8776 58.7916 16.8088 58.8012 16.7413C58.8108 16.6737 58.8353 16.6091 58.8731 16.552C58.9109 16.4949 58.961 16.4468 59.0198 16.411C59.4798 16.229 59.9606 16.1031 60.4515 16.0362C60.5983 16.008 60.7772 15.9585 60.9562 15.9373C60.7092 14.8341 59.8932 11.8395 59.5102 11.2526ZM62.5848 28.0962V27.5482C62.5526 26.8764 62.2268 25.1121 62.1302 24.6277C61.9727 23.8428 61.9369 23.6661 61.4788 21.9619C61.4788 21.9159 61.2032 21.1558 61.2032 21.1558C61.1982 21.1426 61.1962 21.1285 61.1972 21.1145C61.1982 21.1004 61.2022 21.0868 61.209 21.0744C61.2158 21.062 61.2252 21.0512 61.2365 21.0427C61.2478 21.0342 61.2609 21.0281 61.2748 21.025C61.3141 21.025 62.2447 20.7987 62.3485 20.5052C62.4523 20.2118 62.4738 19.8582 62.2125 19.7027C62.2029 19.6958 62.1951 19.6867 62.1897 19.6763C62.1843 19.6658 62.1815 19.6543 62.1815 19.6426C62.1815 19.6308 62.1843 19.6193 62.1897 19.6088C62.1951 19.5984 62.2029 19.5893 62.2125 19.5825C62.3269 19.4897 62.4039 19.3595 62.4295 19.2155C62.4551 19.0716 62.4277 18.9233 62.3521 18.7976C62.2698 18.6314 62.7101 18.7127 62.1875 17.5212C62.055 17.2277 61.6076 16.3262 61.3034 16.2272C61.034 16.2012 60.7621 16.2313 60.5052 16.3156C60.0566 16.3854 59.6156 16.4966 59.188 16.6479C59.1609 16.6623 59.1374 16.6828 59.1195 16.7076C59.1016 16.7325 59.0898 16.7611 59.085 16.7912C59.0801 16.8213 59.0824 16.8521 59.0916 16.8813C59.1008 16.9104 59.1166 16.937 59.1379 16.959C59.2952 17.0471 59.4675 17.1058 59.6462 17.1323C60.7737 17.3515 60.5732 17.1075 60.72 17.4858C61.1507 17.4609 61.5813 17.5372 61.9763 17.7086C62.1302 17.7404 62.0658 17.8394 61.9548 17.8217C61.4753 17.6665 60.9624 17.6409 60.4694 17.7475C60.1834 17.7991 59.9038 17.8809 59.6355 17.9914C59.3921 18.0891 59.176 18.2431 59.0055 18.4405C58.9751 18.5153 58.9637 18.5963 58.9724 18.6765C58.9812 18.7566 59.0097 18.8334 59.0556 18.9001C59.1415 19.0309 59.5567 18.9425 59.7142 18.9001C59.929 18.8364 60.1545 18.7834 60.3656 18.7162C60.6627 18.6243 60.6305 18.5996 60.7236 18.6066C61.0518 18.6526 61.3729 18.7393 61.6792 18.8647C61.6879 18.8657 61.6962 18.8686 61.7036 18.8733C61.7109 18.8779 61.7171 18.8841 61.7216 18.8915C61.7262 18.8989 61.7289 18.9071 61.7297 18.9157C61.7305 18.9243 61.7293 18.9329 61.7263 18.941C61.7232 18.949 61.7183 18.9563 61.7119 18.9622C61.7055 18.9681 61.6979 18.9725 61.6896 18.975C61.6812 18.9775 61.6724 18.9781 61.6638 18.9768C61.6552 18.9755 61.647 18.9722 61.6398 18.9673C61.3657 18.8909 61.0855 18.8377 60.8023 18.8082C60.6412 18.8082 60.745 18.8082 60.3406 18.9673C60.158 19.0344 59.9826 19.0875 59.7894 19.1511C59.665 19.1932 59.5367 19.2228 59.4064 19.2395C59.1773 19.4516 59.0127 19.9466 59.3205 20.035C59.4414 20.0556 59.5658 20.0409 59.6784 19.9926C60.4981 19.7274 59.9433 19.5365 61.7222 19.8971C61.7367 19.8989 61.75 19.9061 61.7594 19.9173C61.7687 19.9285 61.7733 19.9428 61.7723 19.9572C61.7723 20.0492 61.7114 19.9926 60.7271 19.9572C60.6081 19.9454 60.4882 19.9454 60.3692 19.9572C60.0614 20.1128 59.6032 20.378 59.2489 20.2754C58.8158 20.1375 58.8301 19.6638 59.1093 19.3173C59.2095 19.1971 59.2203 19.2324 59.1344 19.2183C59.0715 19.2116 59.0108 19.1921 58.956 19.161C58.9012 19.13 58.8534 19.0881 58.8158 19.038C58.731 18.9225 58.6836 18.7843 58.6798 18.6417C58.676 18.4991 58.7159 18.3587 58.7943 18.2389L58.193 18.4157C58.074 18.9633 58.0838 19.5306 58.2216 20.0739C58.26 20.2065 58.3103 20.3355 58.372 20.4593C58.6333 21.0038 58.7299 21.0214 58.6977 21.124C58.2003 22.7215 57.7905 24.3443 57.47 25.9854C58.8194 26.4521 61.2927 27.5269 62.5848 28.0962ZM34.262 52.665C32.7301 52.7287 29.4371 52.8454 27.9267 52.7994C28.0305 53.2449 28.0949 53.5277 28.1128 53.5914C28.8323 53.5914 33.4817 52.7959 34.262 52.665ZM27.3469 52.4847C28.3061 52.7075 40.7584 52.2266 41.825 51.7776C41.714 50.9856 40.6689 46.5343 40.4577 45.6257C39.5183 45.9097 38.541 46.0528 37.5585 46.0499C37.2006 46.2338 36.61 46.552 36.2557 46.7182C36.295 47.0187 36.3917 47.7293 36.1769 47.9415C35.9622 48.1536 31.0192 49.9462 26.6847 50.4482C26.8595 51.1408 27.0808 51.8211 27.3469 52.4847ZM40.5723 43.9745C40.7371 43.9251 40.8895 43.842 41.0197 43.7306C41.1127 43.6316 41.0805 43.3311 41.0197 43.1896C40.9864 43.1209 40.9273 43.0676 40.855 43.0411C40.7676 43.0036 40.6745 42.9809 40.5794 42.974C40.551 42.9733 40.5234 42.9641 40.5005 42.9476C40.4775 42.931 40.4602 42.9079 40.4508 42.8814C40.4415 42.8549 40.4406 42.8262 40.4482 42.7991C40.4558 42.7721 40.4716 42.7479 40.4935 42.73C40.7029 42.5558 40.8487 42.3186 40.9087 42.0547C40.9087 41.8603 40.8335 41.6587 40.5186 41.4819C40.1606 41.5102 39.0869 42.3871 38.5893 41.8815C38.0918 41.3759 38.6788 40.1915 38.124 40.0925C37.5693 39.9935 37.2901 41.641 37.1934 41.8214C36.8713 42.4401 36.0051 42.882 35.5112 43.3912C35.8095 44.445 36.0484 45.5144 36.227 46.5944C36.9429 46.2161 37.4726 45.8873 37.5263 45.8873C38.2744 45.8625 40.2823 45.6575 40.8049 45.1307C40.8978 45.0598 40.9615 44.9578 40.9839 44.844C41.0063 44.7301 40.9859 44.6121 40.9266 44.512C40.8885 44.4455 40.8372 44.3874 40.7756 44.3412C40.7141 44.295 40.6437 44.2617 40.5687 44.2432C40.538 44.2358 40.5108 44.2184 40.4915 44.1937C40.4721 44.1691 40.4618 44.1387 40.4622 44.1075C40.4627 44.0763 40.4738 44.0462 40.4937 44.022C40.5137 43.9979 40.5414 43.9811 40.5723 43.9745ZM36.585 32.201C37.2499 32.1382 37.9179 32.1122 38.5858 32.1232C38.6717 32.1232 38.7433 32.1656 38.7683 32.247C38.8292 32.4732 39.8421 39.8273 39.8922 40.1879C40.107 36.6523 40.3289 32.9293 40.4935 30.1999C39.2479 32.1621 39.1406 32.3566 38.9437 32.2187C38.28 31.6795 37.6523 31.0985 37.0646 30.4792C36.9572 30.8716 36.7854 31.5116 36.585 32.201ZM33.3099 30.96C33.5533 30.6064 33.7931 30.2529 33.8826 30.1221L32.7265 27.2476L33.3099 30.96ZM32.476 26.9011C31.1222 27.1769 29.8022 27.5953 28.5388 28.1492C28.5924 28.3154 29.2832 30.4014 30.1101 32.8904C30.4895 32.8445 32.6621 32.5828 33.3314 32.5121L32.476 26.9011ZM33.9399 30.5145L33.3743 31.356L33.5533 32.4874L34.1081 32.4167C34.0258 31.6494 33.9685 30.9211 33.9399 30.5145ZM24.0575 34.2446C24.062 34.7049 24.1075 35.1639 24.1935 35.6164C25.4212 35.3053 36.1304 32.7031 37.2185 33.3147C37.7625 33.6258 39.5522 40.8809 39.724 41.535L39.8528 41.4713C39.2873 37.5433 38.5357 32.3919 38.5357 32.3778C37.3151 32.2399 25.5572 33.5551 24.0575 34.2446ZM30.3033 41.6375C31.1051 41.5845 34.2871 41.4289 34.9564 41.8673C35.0602 41.938 35.1031 41.9522 35.4718 43.2603C35.9478 42.7618 36.746 42.2916 37.0145 41.7365C37.1362 41.4925 37.333 39.7106 38.167 39.8485C39.2909 40.0359 37.8556 42.3234 39.5164 41.6163C39.409 41.1673 37.648 33.6789 37.1576 33.4031C36.1196 32.8197 24.7984 35.6659 23.3667 36.0654C23.449 36.9281 24.5013 41.5314 24.6946 42.3729C26.5483 42.0211 28.421 41.7755 30.3033 41.6375ZM35.8154 16.906C35.615 17.0404 35.6221 17.3621 35.6579 17.5954C35.9085 19.1759 37.512 20.134 38.6251 18.6208C38.8793 18.2672 39.0761 17.1429 38.9043 16.8954C38.7898 16.7504 37.8663 16.7434 37.6802 16.7434C37.3366 16.7469 35.9944 16.7999 35.8297 16.906H35.8154ZM40.0783 17.1606C40.0783 17.8253 40.3038 18.9284 40.9016 19.2466C41.8644 19.7416 42.8415 18.9567 42.8666 17.9349C42.9033 17.5618 42.8852 17.1855 42.8129 16.8176L42.7771 16.7999C42.8344 16.7009 40.3181 16.6691 40.0926 16.8919C40.085 16.9813 40.085 17.0712 40.0926 17.1606H40.0783ZM38.8327 24.8576C38.2135 25.0343 37.2149 24.9495 36.7353 24.4651C36.7252 24.4546 36.7196 24.4407 36.7196 24.4262C36.7196 24.4118 36.7252 24.3978 36.7353 24.3873C36.8176 24.2883 36.7353 24.4793 37.6659 24.6171C38.5965 24.755 39.1585 24.6171 40.0998 24.0126C40.5325 23.6199 40.8565 23.1246 41.0411 22.5736C41.4265 21.641 41.6679 20.6566 41.757 19.6532C41.4201 19.7077 41.0744 19.6518 40.7727 19.4941C40.4798 19.3249 40.2529 19.0634 40.1284 18.7516C40.2492 19.1252 40.3484 19.5053 40.4255 19.89C40.4423 19.9393 40.4448 19.9922 40.4328 20.0428C40.4208 20.0934 40.3947 20.1397 40.3575 20.1764C40.11 20.3259 39.8186 20.3882 39.5307 20.3532C39.5222 20.3554 39.5134 20.3556 39.5048 20.3538C39.4963 20.352 39.4883 20.3484 39.4814 20.3431C39.4745 20.3378 39.4689 20.331 39.4651 20.3233C39.4612 20.3155 39.4592 20.307 39.4592 20.2984C39.4592 20.2898 39.4612 20.2813 39.4651 20.2735C39.4689 20.2658 39.4745 20.259 39.4814 20.2537C39.4883 20.2484 39.4963 20.2448 39.5048 20.243C39.5134 20.2413 39.5222 20.2415 39.5307 20.2436C39.743 20.2203 39.948 20.1528 40.132 20.0456C40.2143 19.989 40.1785 20.0244 40.1535 19.9077C40.1284 19.7911 39.6631 18.1046 39.6381 17.9985C39.5271 17.9985 39.1048 17.9419 39.1048 17.8394C39.1048 17.7369 39.4412 17.7086 39.5665 17.7157C39.5665 17.6697 39.545 17.6308 39.5343 17.5954C39.5286 17.5814 39.5288 17.5657 39.5348 17.5517C39.5409 17.5378 39.5522 17.5268 39.5665 17.5212C39.5807 17.5156 39.5966 17.5158 39.6107 17.5217C39.6248 17.5277 39.636 17.539 39.6416 17.553C39.7669 17.7934 39.681 17.705 39.8492 17.7475C39.7847 17.4206 39.7847 17.0844 39.8492 16.7575C40.0533 16.4464 41.281 16.5171 41.6818 16.5418C41.4778 15.3574 40.6832 14.774 40.1964 13.8265C40.0601 13.6066 39.8783 13.4174 39.6631 13.2714C39.5557 13.2431 39.3446 13.5083 39.2157 13.5719C39.0869 13.6356 38.9652 13.9856 38.8578 14.1058C38.5202 14.4855 38.1311 14.8175 37.7017 15.0922C37.3438 15.3433 36.7854 15.3822 36.542 15.7039C36.4392 15.9775 36.3894 16.2677 36.3953 16.5595C36.857 16.5312 38.7826 16.5029 39.0117 16.8282C39.2193 17.0899 39.1298 18.2849 38.8256 18.7445C38.0596 19.89 36.882 19.9608 35.9622 18.9284C35.8633 18.8065 35.7792 18.6736 35.7116 18.5324C35.0244 19.5931 34.4839 20.2259 34.4589 21.4705C34.4302 23.0473 34.8812 25.6601 33.1524 25.989L32.8554 26.7986C34.2871 30.3554 34.2119 30.1327 34.2119 30.168C34.2119 30.2034 34.2799 31.2287 34.4052 32.4025C35.0924 32.3318 35.7331 32.2717 36.3022 32.2257C36.3451 32.0808 36.8785 30.2069 36.8677 30.168C36.814 29.9913 37.0825 29.6448 37.2901 29.3372C38.0686 28.2238 38.9186 27.1609 39.8349 26.1551L38.8327 24.8576ZM40.0926 26.2506C40.0318 26.3425 37.4547 29.1427 37.1397 30.1716C37.7188 30.8056 38.3445 31.3965 39.0117 31.9394C39.2515 31.6282 39.8994 30.6029 40.515 29.6448C40.6259 27.7956 40.7011 26.5087 40.719 26.24C40.5186 26.2258 40.2931 26.2364 40.107 26.2506H40.0926ZM52.8742 29.7862C53.2823 29.0791 53.8478 24.4828 53.7153 23.7757C53.7153 23.712 53.7153 23.6908 53.4147 23.6095C52.1333 23.2807 47.6377 22.9024 47.1653 23.0615C46.8074 23.7509 46.0235 28.2517 46.2096 28.9447C46.5747 29.2346 51.8219 29.9665 52.8885 29.7862H52.8742ZM52.6237 41.4183C53.0353 40.6193 53.3395 35.4962 53.1355 35.3017C52.8313 35.0118 47.1187 34.7643 46.5783 34.9729C46.2204 35.7154 45.7121 40.2763 45.9233 40.895C46.4101 41.2557 51.779 41.6092 52.638 41.4183H52.6237ZM44.4522 35.4926C44.1945 35.4255 42.3977 34.9729 42.1829 34.8456C42.029 34.7572 41.8536 35.0436 44.8638 26.8835C44.5059 26.5582 41.3776 26.141 40.8837 26.293C40.8837 26.4875 40.4148 34.7396 40.0461 41.3617C40.2215 41.2769 40.4756 41.1461 40.6367 41.2345C41.3096 41.588 41.3525 42.1749 40.855 42.7477C40.9479 42.7702 41.0342 42.8139 41.107 42.8753C41.1797 42.9367 41.2368 43.0141 41.2738 43.1012C41.3312 43.234 41.3556 43.3783 41.345 43.5222C41.3344 43.6661 41.2891 43.8055 41.2129 43.9286C41.1295 44.0075 41.0341 44.0731 40.9302 44.123C41.0371 44.1938 41.1215 44.2931 41.1736 44.4094C41.2205 44.5096 41.2484 44.6175 41.2559 44.7276L44.4522 35.4926ZM35.5434 57.4947L40.2179 58.0073C40.1964 57.8376 39.6703 53.7399 39.5021 52.3504C38.5285 52.4352 37.3545 52.5095 36.0982 52.5766C35.8906 55.1258 35.5255 56.8865 35.5577 57.4947H35.5434ZM35.2964 57.4664C35.2463 56.6603 35.9192 52.6191 35.9228 52.5837L35.5649 52.6014C34.3479 52.8241 31.2125 53.3722 30.8724 53.4287C30.7579 54.5672 30.4716 57.2189 30.4036 57.7634C35.7402 57.424 35.164 57.4522 35.3143 57.4664H35.2964ZM16.3048 49.9002C16.6627 50.183 21.9207 50.6568 23.0052 50.4235C23.424 49.6209 23.7211 44.5013 23.517 44.3069C23.2092 44.0134 17.4967 43.773 16.9634 43.9781C16.6269 44.717 16.1079 49.2956 16.3191 49.9002H16.3048Z",fill:"black"}))),a.createElement("defs",null,a.createElement("pattern",{id:"pattern0_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},a.createElement("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),a.createElement("pattern",{id:"pattern1_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},a.createElement("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})),a.createElement("filter",{id:"filter0_dd_4378_11342",x:"3.99829",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:"1"}),a.createElement("feGaussianBlur",{stdDeviation:"1.5"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11342"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"0.25"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11342",result:"effect2_dropShadow_4378_11342"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11342",result:"shape"})),a.createElement("pattern",{id:"pattern2_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},a.createElement("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),a.createElement("pattern",{id:"pattern3_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},a.createElement("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})),a.createElement("clipPath",{id:"clip0_4378_11342"},a.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"white"})),a.createElement("image",{id:"image0_4378_11342",width:"1200",height:"687"}),a.createElement("image",{id:"image1_4378_11342",width:"1200",height:"600"})))}function aE({type:e}){let{navigateToVisualAssets:t}=(0,w.wV)(),n=(0,et.sN)(),r=a.useCallback(e=>{n("visualAssetPacks",e)},[n]),l=a.useCallback(()=>{r(t(e))},[t,r,e]);return a.createElement("div",{className:"asset_panel_visual_asset_packs--assetPanelRow--zIB-D"},a.createElement("button",{onClick:l,className:"asset_panel_visual_asset_packs--assetPackContainer--hci-7"},a.createElement(af,{type:e})))}function af({type:e}){let t=e===w.G3.IconSets?a.createElement(ag,null):a.createElement(ay,null),n=e===w.G3.IconSets?(0,d.t)("design_systems.assets_panel.icon_sets"):(0,d.t)("design_systems.assets_panel.illustrations");return a.createElement("div",{className:"asset_panel_visual_asset_packs--assetPack--cBQV4"},t,a.createElement("h3",{className:"asset_panel_visual_asset_packs--title--NDdZn ellipsis--ellipsis--Tjyfa"},n))}let ab=(0,F.jz)(q.RU)+1,av=(0,F.jz)(q.nT),aC=16/9;function aS({sidebarWidth:e,minCardWidth:t=180,previewPadding:n=ab,widthToHeightRatio:r=aC,rowPadding:l=av}){let i=e-2*l,s=a.useMemo(()=>tN({elementMinSize:t,spaceAvailable:i,gap:0}),[t,i]),o=a.useMemo(()=>tA({numElements:s,spaceAvailable:i,gap:0}),[s,i]),c=a.useMemo(()=>o-2*n,[o,n]),d=a.useMemo(()=>tx({width:c,widthToHeightRatio:r}),[c,r]);return a.useMemo(()=>({cardWidth:o,previewWidth:c,previewHeight:d,numColumns:s}),[o,c,d,s])}var aw=n(285011);function ak(){let e=(0,p.tS)(),t=(0,p._G)(),n=a.useMemo(()=>({fileKey:e??"",libraryKey:t??(0,td.l)("")}),[e,t]),{getLibrary:r}=(0,el.G)(),{libraries:l,presets:i,siteLibrary:s,librariesForConnectedProject:o}=(0,aw.g)(),c=a.useMemo(()=>r(n),[r,n]),d=a.useMemo(()=>!c||(c.type===V.yW.DESIGN?0===c.numComponents&&0===c.numTemplates:0===c.numResponsiveSets),[c]),u=0===l.length,m=0===i.length,_=0===o.length;return a.useMemo(()=>d&&u&&m&&_&&"disabled"===s.status,[d,u,m,_,s])}let aT="asset_panel_libraries--row--nHi0j",aI="asset_panel_libraries--libraryPrimaryButton--hs6a7",aN=(0,F.jz)(q.YJ),aA=(0,F.jz)(q.RQ),ax=(0,F.jz)(q.ce),aM=(0,F.jz)(q.Kv),aP=(0,F.jz)(q.PK),aR=(0,F.jz)(q.vr);function aL({width:e,hideScrollbar:t,localAssets:n}){let{libraries:r,presets:l,siteLibrary:i,librariesForConnectedProject:s}=(0,aw.g)(),o=(0,ec.md)(eG.xL),c=a.useMemo(()=>l.filter(e=>!o.includes(e.fileKey)),[l,o]),d=a.useMemo(()=>l.filter(e=>o.includes(e.fileKey)),[l,o]);return ak()?a.createElement("div",{style:{width:e}},a.createElement(n9.od,null)):a.createElement(aO,{localAssets:n,subscribedLibraries:r,librariesForConnectedProject:s,visualAssetLibraries:d,presetLibraries:c,siteLibrary:i,hideScrollbar:t,width:e})}function aO({localAssets:e,subscribedLibraries:t,presetLibraries:n,visualAssetLibraries:r,siteLibrary:l,librariesForConnectedProject:i,width:o,hideScrollbar:c}){let{librariesScrollTop:u,handleScrollLibraries:p}=t9(),m=!!(0,g.GM)()(),{currentView:_}=(0,w.wV)(),[y]=(0,ea.MA)(),E=m?ea.$H.LIST:y,{cardWidth:f,previewHeight:b,numColumns:v}=aS({sidebarWidth:o}),C=E===ea.$H.GRID?v:1,S="grid"===E?aN+b+2:aM,k=t.length>0,T=e.numComponents+e.numTemplates>0,I=n.length>0,N=(0,s.kc)().fc_general&&i.length>0,A=N&&(k||T||"disabled"!==l.status),x=(0,at.n)(),M=I&&(N||k||T||"disabled"!==l.status),P=a.useMemo(()=>{let o=[];if("disabled"!==l.status&&(0,s.kc)().ds_sts_kit){let e=l.data;o.push({element:a.createElement("div",{className:aT},e?a.createElement(ap,{library:e,keyboardSection:V.gP.SITE_KIT,rowIndex:0,cardWidth:f,previewHeight:b}):a.createElement(a_,{previewHeight:b,cardWidth:f,isList:y===ea.$H.LIST})),key:"site kit",keys:["site kit"],height:S}),(T||k)&&(o.push({element:a.createElement(ei.cG,null),key:"kits_divider",height:aA}),o.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.dropdown_type_all_libraries")}),key:"all_libraries_header",height:ax}))}let c=[];T&&c.push(e),k&&c.push(...t);for(let e=0;e<c.length;e+=C){let t=c.slice(e,e+C);o.push({element:a.createElement("div",{className:aT},t.map((t,n)=>a.createElement(ap,{key:t.libraryKey,library:t,keyboardSection:V.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:n,cardWidth:f,previewHeight:b}))),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:S})}if((0,s.kc)().fc_general){A&&(o.push({element:a.createElement(ei.cG,null),key:"connected_project_divider",height:aA}),o.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.available_from_connected_project",{hostPlanName:x?.hostPlanName??"Connected Project"})}),key:"connected_project_header",height:ax}));for(let e=0;e<i.length;e+=C){let t=i.slice(e,e+C);o.push({element:a.createElement("div",{className:aT},t.map((t,n)=>a.createElement(ap,{key:t.fileKey,library:t,keyboardSection:V.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:n,cardWidth:f,previewHeight:b}))),key:t.map(e=>e.fileKey).join("-"),keys:t.map(e=>e.fileKey),height:S})}}M&&(o.push({element:a.createElement(ei.cG,null),key:"presets_divider",height:aA}),o.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.ui_kits")}),key:"preset_libraries_header",height:ax}));for(let e=0;e<n.length;e+=C){let t=n.slice(e,e+C);o.push({element:a.createElement("div",{className:aT},t.map((t,n)=>a.createElement(ap,{key:t.libraryKey,library:t,keyboardSection:V.gP.PRESETS,rowIndex:e,columnIndex:n,cardWidth:f,previewHeight:b}))),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:S})}if(m){if(r.length>0)for(let e=0;e<r.length;e+=C){let t=r.slice(e,e+C);o.push({element:a.createElement("div",{className:aT},t.map((t,n)=>a.createElement(ap,{key:t.libraryKey,library:t,keyboardSection:V.gP.VISUAL_ASSETS,rowIndex:e,columnIndex:n,cardWidth:f,previewHeight:b}))),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:S})}o.push({element:a.createElement(ei.cG,null),key:"va_packs_divider",height:aA}),o.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.assets_from_community"),onboardingKey:h.Bs}),key:"visual_assets_header",height:ax}),o.push({element:a.createElement(aE,{type:w.G3.IconSets}),key:"visual_assets_icon_sets",height:aR}),o.push({element:a.createElement(aE,{type:w.G3.Illustrations}),key:"visual_assets_illustrations",height:aR})}return o.push(m?{element:a.createElement(aF,null),key:"browse_more_assets_button",height:aP}:{element:a.createElement(aD,null),key:"add_more_libraries_button",height:aP}),o},[l.status,l.data,T,k,M,m,f,b,y,S,e,t,C,n,r,i,x,A]);return a.createElement(to,{elements:P,hideScrollbar:c,initialScrollTop:u,onScroll:p,anchorScroll:_===w.S5.Libraries})}function aD(){let{onToggleLibraryModal:e}=(0,n7.u)({entrypoint:ae.r6.ASSETS_PANEL_ADD_MORE_LIBRARIES,modalType:"editor",initialTab:tm.Wv.RECOMMENDED});return a.createElement("div",{className:aI},a.createElement(n2.$n,{variant:"secondary",onClick:e,recordingKey:"assetsLibrary.addMoreLibraries"},(0,d.tx)("design_systems.assets_panel.add_more_libraries")))}function aF(){return a.createElement(n8.o3,{trackingEventName:"cmty_category",trackingProperties:{name:"visual_assets_browse_more_assets_clicked",text:"Browse more assets"},to:new n6.IE({categorySlug:n4.LJ.icons}).to,className:aI,target:"_blank"},a.createElement(n2.$n,{variant:"secondary",recordingKey:"assetsLibrary.browseMoreAssets"},(0,d.tx)("design_systems.assets_panel.browse_more_assets")))}var aK=n(434236);function aB({page:e,index:t}){let n=(0,et.sN)(),[l]=(0,ea.MA)(),{navigateToPage:i,libraryIdentifier:o,currentView:c}=(0,w.wV)(),d=a.useCallback(()=>{n("pageRow",i(e.id))},[n,i,e.id]),u=e.id,m=c!==w.S5.Pages,{keyboardNavigationItem:_,setKeyboardNavigationElement:h}=(0,G.M3)({path:[V.ON.CONTENTS,V.lM.PAGES,t],id:e.id,disabled:m}),{focusFirstItem:g,focusSearchBar:y}=(0,en.rl)();(0,en.C0)(_,c===w.S5.Pages&&0===t);let E=(0,en.MB)({onBoth:d,onKeyDown:g,onClick:y}),f=function(e,t){let n=(0,p.q5)(),l=(0,eu.wA)(),i=e?.libraryKey===n?.libraryKey,o=e&&!!t,c=(0,nB.bL)({libraryKey:e?.libraryKey,nodeId:t,disabled:!(0,s.kc)().dse_lk_go_to_source}),d=a.useMemo(()=>(0,s.kc)().dse_lk_go_to_source?c.data?.type==="team"?c.data.link:void 0:(0,nV.jN)({file:{key:e?.fileKey??"",editor_type:nU._Y.DESIGN},nodeId:t}),[e?.fileKey,t,c]),u=a.useCallback(()=>(0,nq.UN)().setCurrentPageAsync(t??""),[t]),m=a.useCallback(()=>{r.az.trackDefinedEvent("assets_panel.go_to_page",{libraryKey:e?.libraryKey??"",pageId:t,fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0,isLocal:i})},[i,e?.libraryKey,n?.key,n?.parentOrgId,n?.teamId,t]),_=a.useCallback(()=>{u(),m()},[u,m]),h=a.useCallback(()=>{r.az.trackDefinedEvent("assets_panel.open_page_context_menu",{libraryKey:e?.libraryKey??"",pageId:t,fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0})},[e?.libraryKey,n?.key,n?.parentOrgId,n?.teamId,t]),g=(0,O.fd)(e?.libraryKey);return a.useCallback(e=>{o&&!g&&(e.preventDefault(),e.stopPropagation(),l((0,nK.j7)({type:nJ,data:{libraryPageHref:d,pageId:t,isLocalLibrary:i,onClickLocalPage:_,onClickSubscribedPage:m,position:{top:e.clientY,left:e.clientX}}})),h())},[o,g,l,d,t,i,_,m,h])}(o,e.id),b=a.useMemo(()=>"list"===l?"icon":"preview",[l]);return a.createElement(ee,{keyPrefix:u,name:e.name,onClick:E,onContextMenu:f,previewAssetOrUrl:e.previewAsset,recordingKey:`assetsPage.${e.id}`,ref:h,disabled:m,variant:b})}var aG=n(134745);let aV="performance.ds_eco.asset_panel_pages_view_loading",aU=new aG.jk(aV,{});function aH({didFinishLoading:e}){let t=aU.stop();(0,r.sx)(aV,{elapsedMs:t,isNewAssetPanelFetch:!0,didFinishLoading:e},{forwardToDatadog:!0})}var az=n(463420);let aW=(0,F.jz)(q.Mj),aj=(0,F.jz)(q.$c),a$=(0,F.jz)(q.d5),aY=2*aW,aX=(0,F.jz)(q.Kd),aZ=(0,F.jz)(q.y4),aq=(0,F.jz)(q.Gd),aJ=(0,F.jz)(q.xP);function aQ({page:e,thumbWidth:t,thumbHeight:n,row:r,column:l}){let i=(0,et.sN)(),{navigateToPage:s,currentView:o}=(0,w.wV)(),d=a.useCallback(()=>{i("pageRow",s(e.id))},[i,s,e.id]),u=o!==w.S5.Pages,{keyboardNavigationItem:p,setKeyboardNavigationElement:m}=(0,G.M3)({path:[V.ON.CONTENTS,V.lM.PAGES,r],column:l,id:e.id,disabled:u}),{focusFirstItem:_,focusSearchBar:h}=(0,en.rl)();(0,en.C0)(p,o===w.S5.Pages&&0===r&&0===l);let g=(0,en.MB)({onBoth:d,onKeyDown:_,onClick:h}),{widthForCentering:y,textRef:E,iconRef:f}=function(e){let[t,n]=a.useState(void 0),r=a.useCallback(e=>n(e?.scrollWidth),[]),[l,i]=a.useState(void 0);return{textRef:r,iconRef:a.useCallback(e=>i(e?.scrollWidth),[]),widthForCentering:a.useMemo(()=>t&&l?Math.max(Math.min(e-(t+l)-1,l),0):-1,[l,t,e])}}(t),b=(0,V.AZ)(e)?e.embeds[0]?.thumbnail_url:e.previewAsset;return a.createElement(U.E,{className:"site_kit_pages--tile--GWdsc",onClick:g,ref:m,"aria-label":e.name,disabled:u},b?a.createElement(Y.V,{previewAssetOrUrl:b,type:"no-padding",height:n,width:t,keyPrefix:e.id}):a.createElement("div",{className:Z,style:{height:n,width:t}}),a.createElement("div",{className:c.cx.flex.flexColumn.itemsCenter.wFull.$,style:{width:t}},a.createElement("span",{className:"site_kit_pages--pageName--ARhz3 site_kit_pages--text--gyBIU"},y>0&&a.createElement("div",{className:c.cx.flexShrink0.$,style:{width:y}}),a.createElement(tC.G,{text:e.name,ref:E}),a.createElement("div",{className:"site_kit_pages--chevron--MPDzd",ref:f},a.createElement(az.k,null)))))}let a0=(0,F.jz)(q.RQ),a1=(0,F.jz)(q._q),a5=(0,F.jz)(q.HE);function a3({library:e,width:t,hideScrollbar:n,isLoading:r}){!function({isLoading:e}){let{currentView:t}=(0,w.wV)(),n=(0,em.ZC)(t);a.useEffect(()=>(n===w.S5.Libraries&&t===w.S5.Pages&&aU.start(),t===w.S5.Pages&&!e&&aU.isRunning&&aH({didFinishLoading:!0}),()=>{n===w.S5.Pages&&t!==w.S5.Pages&&aU.isRunning&&aH({didFinishLoading:!1})}),[e,t,n])}({isLoading:r});let[l]=(0,ea.MA)(),{pagesScrollTop:i,handleScrollPages:s}=t9({libraryIdentifier:e?{fileKey:e.fileKey,libraryKey:e.libraryKey}:void 0}),o=a.useMemo(()=>e?Array.from(e.pages):[],[e]),c=(0,O.E_)(e?.fileKey??""),{thumbWidth:d,thumbHeight:u,numColumns:p}=function(){let{width:e}=e3(),t=a.useMemo(()=>e-aY,[e]),n=Math.max(Math.min(3,tN({elementMinSize:98,gap:aX,spaceAvailable:t})),2),r=tA({numElements:n,gap:aX,spaceAvailable:t})-2*aq;return{thumbWidth:r,thumbHeight:r,numColumns:n}}(),m=a.useMemo(()=>{if(e?.type===V.yW.SITE&&"grid"===l)return function(e,t,n,r){let l=Array.from(e.pages),i=[],s=n+2*aq+aZ+aJ;for(let e=0;e<l.length;e+=r){let o=0===e?"site_kit_pages--virtualRowFirst--pNAgS site_kit_pages--virtualRow--F7pf9":"site_kit_pages--virtualRow--F7pf9",c=l.slice(e,e+r),d=[],u=c.map(([e])=>e);c.forEach(([r,l],i)=>{l&&d.push(a.createElement(aQ,{key:r,page:l,row:e,column:i,thumbWidth:t,thumbHeight:n}))}),i.push({element:a.createElement("div",{className:o,style:{gap:aX},role:"row"},d),key:u.join("-"),keys:u,height:s+(0===e?0:aW)})}return i.length>0&&(i.unshift({element:a.createElement(ei.hK,{height:aj}),key:"spacer-top",height:aj}),i.push({element:a.createElement(ei.hK,{height:a$}),key:"spacer-bottom",height:a$})),i}(e,d,u,p);let t=[];return o.forEach(([e,n],r)=>{t.push({element:a.createElement(aB,{page:n,index:r}),height:"list"===l?a5:a1,key:e}),0===r&&(0,K.dS)(n.name,{isPreset:c})&&t.push({element:a.createElement(ei.cG,null),key:"examples_divider",height:a0})}),t},[e,l,o,d,u,p,c]);return r?a.createElement("div",{className:"asset_panel_pages--loadingContainer--fyofJ",style:{width:t},"data-testid":"asset-panel-pages-spinner"},a.createElement(aK.k,null)):0===o.length?a.createElement("div",{style:{width:t}}):a.createElement(to,{elements:m,hideScrollbar:n,initialScrollTop:i,onScroll:s})}var a2=n(940788),a4=n(279159),a6=n(974880),a8=n(89865),a7=n.n(a8),a9=n(260803),re=n(686644);function rt(){let e=tV.Es().data?.assets,t=a.useMemo(()=>tj(),[]),n=(0,a9.o)(tm.PW.RESPONSIVE_SET),r=(0,ec.md)(tX),l=(0,re.TA)(),i=a.useMemo(()=>{if(!l)return[];let e=[...n,...r].filter(e=>e.lastAddedAtUserId[l]);return(0,tc.hR)(e,e=>-(e.lastAddedAtUserId[l]??0)),e},[n,r,l]);return a.useMemo(()=>{let n=a7()(e??[],"key"),a=a7()(t,"name");return i.map(e=>"key"in e?n[e.key]:a[e.name]).filter(a6.Gh)},[i,e,t])}let rn="asset_panel_recents--resultsWrapper--k79Vy",ra="asset_panel_recents--resultsWrapperList--peuzW",rr=(0,eE.fv)();function rl(){let{productComponents:e}=(0,a2.g5)(a4.$A.Design),t=rt(),{getLibrary:n}=(0,el.G)(),[r]=(0,ea.MA)(),l="list"===r,i=a.useCallback(e=>{let t=n(e);return t?.name||""},[n]),o=tV.Es().data?.library.name,c=tB(),{props:u,numColumns:p}=a.useMemo(()=>tG(c,r,B.rp.NORMAL),[c,r]),{componentSectionNameForTracking:m}=(0,et.zf)(),_=e.length>0,h=(0,s.kc)().ds_sts_kit&&t.length>0&&o;return a.createElement(ei.xU,null,h&&a.createElement(a.Fragment,null,a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.site_kit")}),a.createElement("div",{className:l?ra:rn},t.map((e,t)=>"embed"===e.type?a.createElement(tY,{embed:e,key:e.name,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,en.pg)([V.tM.SITE_KIT],t,p),thumbHeight:u.thumbHeight,thumbWidth:u.thumbWidth,libraryName:o}):a.createElement(ni,{key:`assetPanelRecents:siteKit:${(0,ed.V)(e)}`,asset:e,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,en.pg)([V.tM.SITE_KIT],t,p),thumbHeight:u.thumbHeight,thumbWidth:u.thumbWidth,libraryName:o})))),h&&_&&a.createElement("div",{className:"asset_panel_recents--buffer--URYGQ"}),_&&a.createElement(a.Fragment,null,h&&a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.dropdown_type_all_libraries")}),a.createElement("div",{className:l?ra:rn},e.map((e,t)=>a.createElement(eZ,{key:`assetPanelRecents:component:${(0,ed.V)(e)}`,asset:e,fileName:i({fileKey:rr(e),libraryKey:e.library_key}),sectionNameForTracking:m,sectionPosition:t,keyboardPosition:(0,en.pg)([V.tM.COMPONENTS],t,p),...u})))),a.createElement("div",{className:"asset_panel_recents--bottomPadding--9BTkl"}))}var ri=n(243742),rs=n(126049),ro=n(846995),rc=n(322027),rd=n(365320),ru=n(691537),rp=n(649792),rm=n(790566),r_=n(52833),rh=n(7091),rg=n(214449),ry=n(844882),rE=n(175501),rf=n(546619);function rb(e,{enabled:t=!0}={}){let{hubFileIds:n,fileKeys:r}=a.useMemo(()=>{let t=Array.from(e),{pass:n,fail:a}=(0,rE.j)(t,u.wJ);return{hubFileIds:n,fileKeys:a}},[e]),l=a.useMemo(()=>r.map(e=>({fileKey:e})),[r]),i=a.useMemo(()=>n.map(e=>({hubFileId:e})),[n]),s=(0,ry.p)(rf.NSA,l,{enabled:t&&l.length>0}),o=(0,ry.p)(rf.a9b,i,{enabled:t&&i.length>0});return{isLoading:a.useMemo(()=>s.some(e=>"loading"===e.result.status)||o.some(e=>"loading"===e.result.status),[s,o]),libraryNameByResourceId:a.useMemo(()=>{let e={};for(let t of s)"loaded"===t.result.status&&t.result.data.file&&(e[t.args.fileKey]=t.result.data.file.name);for(let t of o)"loaded"===t.result.status&&t.result.data.hubFile?.currentHubFileVersion&&(e[t.args.hubFileId]=t.result.data.hubFile.currentHubFileVersion.name);return e},[s,o])}}let rv=function({isLoading:e,children:t}){return e?a.createElement("div",{className:"maybe_loading--loadingContainer--Wfq03"},a.createElement(aK.k,null)):a.createElement(a.Fragment,null,t)};var rC=n(268853),rS=n(237798);let rw=new(n(188098)).KH({keys:[{name:"name",weight:.6},{name:"containingFrame.name",weight:.1},{name:"containingFrame.pageName",weight:.1},{name:"description",weight:.05}],threshold:.3,tokenize:!0,shouldSort:!0});function rk(){var e;let t=(0,tV.Es)(),n=t.data?.assets,r=a.useMemo(()=>tj(),[]),l=a.useMemo(()=>n?[...n,...r]:void 0,[n,r]),{searchOptions:s}=(0,eu.d4)(rm.UQ),o=s&&[eN.I.SITE_KIT,eN.I.ALL].includes(s?.type),c=(0,P.$)(l),d=(0,eu.d4)(rm.q5),u=(0,em.ZC)(d),[p,m]=a.useState([]),[_,h]=a.useState(!1);return a.useLayoutEffect(()=>{(async function(){if(c&&rw.set(l??[]),!d||0===rw.list().length){m([]);return}u||h(!0);let e=[];try{e=(await rw.search(d)).map(e=>e.item)}catch(e){(0,rS.x1)(rC.e.DESIGN_SYSTEMS_ECOSYSTEM,"error in site kit search",{message:e.message},{reportAsSentryError:!0})}m(e),h(!1)})()},[l,u,d,c]),e=p.length,a.useEffect(()=>{(0,nn.hw)(e)},[e]),(0,i.h)(()=>()=>(0,nn.hw)(0)),{results:o?p:[],loading:_,query:d}}let rT="asset_panel_search_results--empty--72Hqc",rI=(0,F.jz)(q.ce),rN=(0,F.jz)(q.GH),rA=(0,F.jz)(q.RX),rx="Search keywords and filter results by specific libraries, templates, and components.",rM=(0,eE.fv)(),rP=({moreResults:e,query:t,assetType:n,showMoreDefault:r})=>{let l=!!(0,g.GM)()(),[i,o]=a.useState(!1),c=r||i||l,u=a.useCallback(()=>o(!0),[]);a.useEffect(()=>o(!1),[t]);let{visualAssetsType:p}=(0,w.wV)(),m=l&&!!p,_=rb(a.useMemo(()=>new Set(e.map(e=>rM(e))),[e]),{enabled:!(0,s.kc)().dse_lk_asset_panel}),h=a.useMemo(()=>e.map(e=>e.library_key),[e]),{data:y}=(0,rp.U)(h,{enabled:(0,s.kc)().dse_lk_asset_panel}),E=a.useCallback(e=>(0,s.kc)().dse_lk_asset_panel?y?.[e.library_key]??"":_.isLoading?"":_.libraryNameByResourceId[rM(e)]??"",[_,y]),[f]=(0,ea.MA)(),b=tB(),v="templates"===n,{props:C,numColumns:S}=a.useMemo(()=>tG(b,f,B.rp.NORMAL,v),[b,f,v]),{componentSectionNameForTracking:k,templateSectionNameForTracking:T}=(0,et.zf)({moreSearchResults:!0}),I=a.useMemo(()=>ts(e,S,`${n}:moreResults`,C,v?T:k,[v?V.tM.TEMPLATES:V.tM.COMPONENTS,1],{getFileName:E}),[e,S,n,C,v,T,k,E]);return a.useMemo(()=>{if(0===e.length)return[];let t=[];return m||t.push({element:a.createElement("div",{className:l?"asset_panel_search_results--visualAssetsShowMoreText--sxfrf asset_panel_search_results--visualAssetsShowMore--MJbt7":"asset_panel_search_results--showMoreText--mEcU5 asset_panel_search_results--showMore--yo9-j"},c&&(0,d.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!c&&a.createElement("button",{className:"asset_panel_search_results--showMoreLink--3-Ww3 asset_panel_search_results--showMore--yo9-j blue_link--blueLink--9rlnd",onClick:u},(0,d.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:e.length}))),key:`${n}:showMoreText`,height:l?rA:rN}),c&&t.push(...I),t},[n,e.length,c,u,I,m,l])},rR=(0,eE.fv)();function rL({components:e,moreComponents:t,templates:n,moreTemplates:r,siteKitAssets:l,query:i,getLibraryNameFromIdentifier:o}){let c=rV(e),u=rV(t),p=(0,s.kc)().dse_editor_templates_v1,m=c.length+u.length>0,_=n.length+r.length>0,h=l.length>0,g=a.useCallback(e=>o({fileKey:rR(e),libraryKey:e.library_key}),[o]),[y]=(0,ea.MA)(),E=tB(),{props:f,numColumns:b}=a.useMemo(()=>tG(E,y,B.rp.NORMAL),[E,y]),{componentSectionNameForTracking:v,templateSectionNameForTracking:C}=(0,et.zf)(),S=a.useMemo(()=>ts(c,b,"components",f,v,[V.tM.COMPONENTS,0],{getFileName:g}),[c,b,f,v,g]),{props:w,numColumns:k}=a.useMemo(()=>tG(E,y,B.rp.NORMAL),[E,y]),T=a.useMemo(()=>ts(n,k,"templates",w,C,[V.tM.TEMPLATES,0],{getFileName:g}),[n,k,w,C,g]),I=rP({moreResults:u,query:i,assetType:"components",showMoreDefault:0===c.length&&u.length>0}),N=rP({moreResults:r,query:i,assetType:"templates"}),A=(0,tV.Es)(),x=a.useMemo(()=>(0,s.kc)().ds_sts_kit?ny(l,b,f.thumbWidth,f.thumbHeight,y,"assets","Site kit search results",[V.tM.SITE_KIT],{libraryName:A.data?.library.name}):[],[y,b,f.thumbHeight,f.thumbWidth,l,A.data?.library.name]),M=a.useMemo(()=>{let e=[];return h&&(e.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.site_kit"),numResults:l.length}),key:"sitesHeader",height:rI}),e.push(...x)),p&&_&&(e.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.templates")}),key:"templatesHeader",height:rI}),e.push(...T),e.push(...N)),m&&(_?e.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.components")}),key:"componentsHeader",height:rI}):h&&e.push({element:a.createElement(ei.X3,{title:(0,d.t)("design_systems.assets_panel.dropdown_type_all_libraries"),numResults:c.length}),key:"componentsHeader",height:rI}),e.push(...S),e.push(...I)),e},[h,p,_,m,l.length,x,T,N,S,I,c.length]);return a.createElement(to,{elements:M,anchorScroll:!0})}let rO=(0,eE.fv)();function rD(){return(0,w._m)()?a.createElement(rK,null):a.createElement(rF,null)}function rF(){let{query:e,normalizedSearchResults:t,unsubscribedSearchResults:n,isLoading:r}=(0,eu.d4)(rm.UQ),l=rk(),i=(0,rg.U)(),{libraryIdentifier:o}=(0,w.wV)(),{getLibrary:c}=(0,el.G)(),u=rb(a.useMemo(()=>new Set(t.map(e=>rO(e))),[t]),{enabled:!(0,s.kc)().dse_lk_asset_panel}),p=a.useMemo(()=>t.map(e=>e.library_key),[t]),{data:m,status:_}=(0,rp.U)(p,{enabled:(0,s.kc)().dse_lk_asset_panel}),h=rB(e),g=u.isLoading||"loading"===_,y=g&&h,E=a.useCallback(e=>(0,s.kc)().dse_lk_asset_panel?m?.[e.libraryKey]??c(e)?.name??"":u.libraryNameByResourceId[e.fileKey]??c(e)?.name??"",[m,u.libraryNameByResourceId,c]),f=a.useMemo(()=>o?c(o)?.name:void 0,[c,o]),[b,v]=a.useMemo(()=>(0,rm._2)(t.filter(e=>E({fileKey:rO(e),libraryKey:e.library_key}))),[t,E]),[C,S]=a.useMemo(()=>(0,rm._2)(n),[n]),k=v.length+S.length>0,T=b.length+C.length>0,I=l.results.length>0,N=y||r||i||l.loading;return rG({query:e,isLoading:N,isLoadingBreakdown:{isLibraryNamesLoadingWithTimeout:y,isSearchLoading:r,isSubscribedComponentsLoading:i},additionalLogData:{isLibraryNamesLoading:g,isLibraryNamesLoadingTimerActive:h}}),e?a.createElement(rv,{isLoading:N},k||T||I?a.createElement(rL,{components:v,moreComponents:S,templates:b,moreTemplates:C,siteKitAssets:l.results,query:e,getLibraryNameFromIdentifier:E}):a.createElement("div",{className:rT},f?(0,d.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:e,libraryName:f}):(0,d.tx)("design_systems.assets_panel.no_results_for_query",{searchQuery:e}))):a.createElement("div",{className:rT},rx)}function rK(){let{results:e,loading:t,query:n}=rk(),{libraryIdentifier:r}=(0,w.wV)(),[l]=(0,ea.MA)(),{getLibrary:i}=(0,el.G)(),s=a.useMemo(()=>r?i(r)?.name:void 0,[i,r]),{width:o}=e3(),{tileHeight:c,tileWidth:u,numColumns:p}=function(e){let[t]=(0,ea.MA)(),n=e-tP,r=Math.min(a.useMemo(()=>tN({elementMinSize:120,gap:tM,spaceAvailable:n}),[n]),3),l=a.useMemo(()=>tA({numElements:r,gap:tM,spaceAvailable:n}),[r,n]),i=a.useMemo(()=>tx({width:l,widthToHeightRatio:1,maxHeight:void 0}),[l]);return"list"===t?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:l,tileHeight:i,numColumns:r}}(o),m=a.useMemo(()=>ny(e,p,u,c,l,"assets","Site kit search results",[V.tM.COMPONENTS],{includesFirstTile:!0}),[l,p,e,c,u]);return n?a.createElement(rv,{isLoading:t},e.length>0?a.createElement(to,{elements:m,anchorScroll:!0}):a.createElement("div",{className:rT},(0,d.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:n,libraryName:s}))):a.createElement("div",{className:rT},rx)}let rB=e=>{let t=(0,em.ZC)(e),{isActive:n,start:r}=(0,rd.Z)(ro.lQ);return a.useEffect(()=>{e!==t&&r(1e4)},[e,t,r]),n},rG=({isLoading:e,isLoadingBreakdown:t,additionalLogData:n,query:l})=>{let i=(0,em.ZC)(e),s=(0,em.ZC)(l),[o,c]=a.useState(null),d=(0,re.iZ)(),u=(0,ri.DP)().version,_=(0,e0.tM)(),h=(0,em.ZC)(_),g=(0,m.je)(),y=(0,eu.d4)(e=>e.fileVersion),E=(0,eu.d4)(e=>e.loadingState),f=(0,p.q5)(),b=f?.key,v=(0,r_.oh)(rc.fi),C=a.useCallback(a=>{if(!o)return;let l=Date.now()-o;if(l<5e3)return;let i=g.data?.map(e=>{let t=ru.Mb(e.libraryKey);return{libraryKey:e.libraryKey,isLoading:!r_.D2(E,t)}}),s=f&&null!=y&&(0,rh.yD)(f.key)||null,c=!(null!=s&&(0,r_.D2)(E,s));r.az.trackDefinedEvent("assets_panel.search_long_loading",{...t,...n,fileKey:b,userId:d?.id,uiThemeVersion:u,queryId:_??h??void 0,loadingTimeMS:l,isLoading:e,queryCancelled:a,isLoadingSubscribedComponentsAndStateGroups:c,isLoadingRecentlyUsedItems:v,subscribedLibariesLoading:JSON.stringify(i)})},[g,y,E,f,o,e,t,v,b,n,d?.id,u,_,h]),S=(0,rs.A)(C,100,{leading:!0,trailing:!1}),w=a.useRef(C);a.useEffect(()=>{w.current=C},[C]);let{start:k,cancel:T}=(0,rd.Z)(()=>S(!1)),I=a.useCallback(()=>{C(!0),c(Date.now()),k(5e3)},[C,k]);a.useEffect(()=>{e&&!i?I():!e&&i&&(T(),C(!1),c(null))},[e,i,I,C,T]),a.useEffect(()=>{l!==s&&I()},[l,s,I]),a.useEffect(()=>()=>{w.current(!0)},[])},rV=e=>{let{visualAssetsType:t}=(0,w.wV)(),n=!!(0,g.GM)()(),r=(0,ec.md)(eG.dm),l=(0,ec.md)(eG.O2),i=n&&!!t;return a.useMemo(()=>i?e.filter(e=>e.hub_file_id&&(t===w.G3.IconSets?r.includes(e.hub_file_id):l.includes(e.hub_file_id))):e,[e,t,r,l,i])};var rU=n(730206);function rH({libraryIdentifier:e,numComponents:t,size:n}){let{focusSearchBar:r}=(0,en.rl)(),{navigateToLibrary:l}=(0,w.wV)(),i=(0,et.sN)(),s=a.useCallback(()=>{i("visualAssetMoreTile",l(e))},[e,i,l]),o=a.useCallback(e=>{e.stopPropagation(),s(),r()},[r,s]),c=t-11,d=c>=1e3?(c/1e3).toFixed(1)+"k":c.toString();return a.createElement("button",{onClick:o,className:"asset_panel_visual_asset_more_tile--tile--r9fF-",style:{width:n,height:n}},a.createElement("div",{className:"asset_panel_visual_asset_more_tile--moreText--QNS99 text--fontPos13--xW8hS text--_fontBase--QdLsd"},"+",d))}function rz({libraryIdentifier:e,sectionIndex:t}){let{width:n}=e3(),r=(0,ec.md)(eG.Rs),{getLibrary:l}=(0,el.G)(),i=l(e),s=i?.type===V.yW.DESIGN?i.numComponents:0,o=a.useMemo(()=>{if(i?.type===V.yW.DESIGN)return Array.from(i.pages.values())},[i]),c=[];if(o?.[0]?.components&&i?.fileKey){let e=r?.[i?.fileKey]?.asset_panel_component_ids||[];if(e.length>=11){let t=[];o.forEach(n=>{if(n.components){let a=t2(n.components).filter(t=>"component_key"in t&&e.includes(t.component_key||""));t.push(...a)}});let n=t.reduce((e,t)=>("component_key"in t&&t.component_key&&(e[t.component_key||""]=t),e),{});c=e.map(e=>n[e]).filter(e=>!!e)}else c=t2(o[0].components).slice(0,11)}let d=(0,B.PI)(c,!0),u=(n-24-24)/4,p={showName:!1,noBackground:!0};return c.length?a.createElement("div",{className:"asset_panel_visual_asset_components--container--qLYh4"},[0,1,2].map(n=>a.createElement("div",{className:"asset_panel_visual_asset_components--row--leYBr",key:n},c.slice(4*n,(n+1)*4).map((e,r)=>a.createElement(eZ,{asset:e,fileName:void 0,key:`$visualAssetsPanel:component:${(0,ed.V)(e)}`,sourceForTracking:"visual-assets-panel",sectionNameForTracking:"Visual assets panel",thumbLayout:d,thumbHeight:u,isFirstTile:!1,sectionPosition:n*r,sectionDepth:r,keyboardPosition:{path:[t,n],column:r},thumbWidth:u,viewMode:eR.Bk.Grid,displayType:"grid",libraryItemTileProps:p,disableClickPropagation:!0,hideInlineName:!0,isVisualAsset:!0})),2===n&&a.createElement(rH,{libraryIdentifier:e,numComponents:s,size:u})))):null}function rW({library:e,sectionIndex:t}){let{navigateToLibrary:n}=(0,w.wV)(),r=(0,p.q5)(),[l,i]=a.useState(!1),s=(0,et.sN)(),o=a.useCallback(()=>{s("visualAssetLibraryCard",n(e))},[e,s,n]),c=a.useMemo(()=>{let t=e.fileKey===r?.key?"localLibrary":e.fileKey;return e_.Pt("assetsLibrary",t)},[r?.key,e.fileKey]);return a.createElement($.GG,{className:j()("asset_panel_visual_asset_library--library--ta4FR",{"asset_panel_visual_asset_library--hovered--r37Mn":l}),"aria-label":e.name,onClick:o,style:{width:"100%"},recordingKey:c},a.createElement("div",{className:"asset_panel_visual_asset_library--libraryCard--ljr--"},a.createElement(rz,{libraryIdentifier:e,sectionIndex:t}),a.createElement(rj,{library:e,setHovered:i})))}function rj({library:e,setHovered:t}){let n=(0,ec.md)(eG.Rs),r=n?.[e.fileKey]?.author_name||e.authorName;return a.createElement("div",{className:"asset_panel_visual_asset_library--libraryFooter--WtYtC",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)},a.createElement("div",{className:"asset_panel_visual_asset_library--libraryNameAndAuthor---pya2"},a.createElement("div",{className:"asset_panel_visual_asset_library--nameAndIconForList--Opwld"},a.createElement("h3",{className:"asset_panel_visual_asset_library--libraryName--y8FNs ellipsis--ellipsis--Tjyfa"},e.name),a.createElement("div",{className:"asset_panel_visual_asset_library--libraryIcon--FWTh-"},a.createElement(eC.P,{resourceId:e.fileKey,libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"}))),r&&a.createElement("div",{className:"asset_panel_visual_asset_library--libraryStats--NtW2u ellipsis--ellipsis--Tjyfa"},(0,d.tx)("community.by_publisher",{publisher:r}))))}var r$=n(203618);function rY({width:e}){let{visualAssetsType:t}=(0,w.wV)(),n=(0,em.qd)(t),r=t??n,[l]=(0,ea.MA)(),i="list"===l,s=(0,rU.lY)(),o=s.length>0,c=(0,ec.md)(eG.dm),d=(0,ec.md)(eG.O2),{cardWidth:u,previewHeight:p}=aS({sidebarWidth:e}),m=s.filter(e=>r===w.G3.IconSets?c.includes(e.library_file_key):d.includes(e.library_file_key));return a.createElement(ei.xU,null,o&&a.createElement(a.Fragment,null,a.createElement("div",{className:j()("asset_panel_visual_assets--list--APKhG",{"asset_panel_visual_assets--gridGap--DCeF2":!i})},m.map((e,t)=>{let n=(0,r$.x)(e);return i?a.createElement(ap,{key:e.library_file_key,library:n,keyboardSection:V.gP.VISUAL_ASSETS,rowIndex:t,columnIndex:0,cardWidth:u,previewHeight:p,hideUnsubscribe:!0}):a.createElement(rW,{key:e.library_file_key,library:n,sectionIndex:t})}))),a.createElement("div",{className:"asset_panel_visual_assets--bottomPadding--OULyc"}))}var rX=n(744918);let rZ=(e,t,n)=>e===w.S5.Libraries?0:n?e===w.S5.VisualAssets?1:e===w.S5.Pages||t?2:3:e===w.S5.Pages||t?1:2;function rq({assetPanelItemsByFileKey:e,assetPanelItemsByLibraryKey:t,width:n}){let{libraryIdentifier:l,pageId:i,currentView:o,isNavigatingVisualAssets:c}=(0,w.wV)(),{previousLibraryIdentifier:d}=(0,w.RR)(),u=rJ(),m=!!(0,g.GM)()(),{getPage:_,getLibrary:h}=(0,el.G)(),y=(0,rg.q)()(l?.fileKey,l?.libraryKey);(0,D.Y)(e,t),rQ(),(0,R.S)();let E=a.useMemo(()=>h(l??d),[h,l,d]),f=a.useMemo(()=>_(l,i),[_,l,i]),b=rZ(o,u,m&&c),{libraries:v,presets:C,librariesForConnectedProject:S}=(0,aw.g)(),{localAssets:k}=(0,s.kc)().dse_lk_asset_panel?t:e;return!function(e,t,n,l){let i=(0,p.q5)(),[s,o]=(0,ec.fp)(rX.GT),c=t.length+n.length+l.length;e.numComponents+e.numTemplates>0&&(c+=1),a.useEffect(()=>{if(!s){o(!0);let e=rX._o.stop();e&&(0,r.sx)(rX.YS,{elapsedMs:e,fileKey:i?.key,teamId:i?.teamId,orgId:i?.parentOrgId,isUi3RedesignedAssetPanel:!0,numLibraries:c,numComponents:0,numComponentsShown:0,numSectionsShown:c},{forwardToDatadog:!0})}},[s,o,c,i])}(k,v,C,S),a.createElement(a.Fragment,null,a.createElement(n3,null),o===w.S5.Search?a.createElement(rD,null):o===w.S5.Recents?a.createElement(rl,null):a.createElement(nE,{index:b,width:n},a.createElement(aL,{width:n,hideScrollbar:0!==b,localAssets:k}),m&&c&&a.createElement(rY,{width:n}),!u&&a.createElement(a3,{library:E,width:n,isLoading:y,hideScrollbar:1!==b}),a.createElement(nw,{page:f,width:n})))}let rJ=()=>{let{getLibrary:e}=(0,el.G)(),{libraryIdentifier:t}=(0,w.wV)(),n=(0,rg.q)()(t?.fileKey,t?.libraryKey),a=e(t);return!!a&&!n&&!!(0,w.Cg)(a)},rQ=()=>{let{libraryIdentifier:e}=(0,w.wV)(),t=(0,L.R)(),n=(0,P.$)(e?.libraryKey),r=(0,O.fd)(e?.libraryKey);a.useEffect(()=>{r&&n&&t({updateSource:"ui3_library_expand"})},[n,r,t])};var r0=n(727466),r1=n(755020),r5=n(900956),r3=n.n(r5),r2=n(731173),r4=n(345202),r6=n(876560);let r8="asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P",r7="asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862";function r9({stubs:e}){let{collapsibleStubs:t,lastStub:n,numHiddenStubs:r,breadcrumbRef:l,ellipsisRef:i,stubRefs:s}=le(e),o=a.useCallback(()=>i.current?{top:i.current.getBoundingClientRect().bottom,left:i.current.getBoundingClientRect().left}:{top:0,left:0},[i]),d=r===t.length;return a.createElement("div",{className:c.cx.flex.itemsCenter.overflowHidden.flexShrink1.flexGrow1.$,style:nF.sx.add({flexBasis:"content"}).$,ref:l,role:"navigation"},a.createElement(la,{shouldEllipsize:d}),r>0&&a.createElement(ln,{allStubs:t,numHiddenStubs:r,getDropdownTarget:o,ref:i}),t.map((e,t)=>t<r?null:a.createElement(lr,{key:t,i:t,name:e,ref:e=>s.current[t]=e})),e.length>0?a.createElement(ll,{name:n,firstSlash:0===t.length,shouldEllipsize:d}):null)}let le=e=>{let[t,n]=a.useMemo(()=>0===e.length?[[],void 0]:[e.slice(0,-1),e[e.length-1]],[e]),[r,l]=a.useState([]),i=a.useRef([]);a.useEffect(function(){i.current.length>t.length&&(i.current=i.current.slice(0,t.length)),r.length>t.length&&l(e=>e.slice(0,t.length))},[t,r.length,e.length]);let s=a.useRef(null),o=a.useRef(null),{width:c}=e3();return a.useLayoutEffect(function(){let e=s.current;if(!e)return;let t=e.children,n=e.offsetWidth-r3()(Array.from(t).map(e=>e.scrollWidth));if(n<0){let e=i.current[r.length];e&&l(t=>[...t,e.scrollWidth])}else if(0===n)return;else if(r.length>0){let e=r.length-1;n>r[e]-(o.current&&1===r.length?o.current.scrollWidth:0)&&l(e=>e.slice(0,-1))}},[r,i,e,c]),{collapsibleStubs:t,lastStub:n,numHiddenStubs:r.length,breadcrumbRef:s,ellipsisRef:o,stubRefs:i}},lt="asset-panel-ellipsis-menu",ln=a.forwardRef(({numHiddenStubs:e,allStubs:t,getDropdownTarget:n},r)=>{let l=(0,et.sN)(),i=(0,r4.Um)(),s=i?.type===lt,o=(0,eu.wA)(),d=a.useCallback(()=>o((0,nK.oB)()),[o]),u=a.useCallback(()=>o((0,nK.j7)({type:lt,data:{position:n()}})),[o,n]),{isCurrentlySkippingPage:p,isCurrentlySkippingFirstFolder:m,navigateBackToPathIndex:_}=(0,w.wV)(),h=a.useMemo(()=>t.slice(0,e),[t,e]),g=a.useMemo(()=>h.join(" / "),[h]),y=a.useMemo(()=>{if(s)return i.data?.position},[i?.data?.position,s]),E=a.useCallback(e=>{l("breadcrumb",_(ls(e,p,m)))},[m,p,l,_]),{focusBackButton:f,focusSearchBar:b}=(0,en.rl)(),v=(0,en.NR)({onBoth:e=>()=>{E(e)},onKeyDown:()=>()=>{setTimeout(()=>f(),0)},onClick:()=>b}),{setKeyboardNavigationElement:C}=(0,G.M3)({path:[V.ON.BREADCRUMB],column:V.Yv.ELLIPSIS}),S=j()(r8,{"asset_panel_collapsible_breadcrumb--dropdownOpen--YMRPh":s});return a.createElement("div",null,a.createElement("div",{ref:r,className:c.cx.flex.itemsCenter.$},a.createElement(li,null),a.createElement("button",{ref:C,className:S,onClick:u,"data-tooltip-type":r6.Ib.TEXT,"data-tooltip":g,"aria-label":g,"aria-haspopup":"listbox","aria-expanded":s},"\u2026")),s&&tg.createPortal(a.createElement(nD.X3,{className:r2.Dm,positionAbsolute:!0,style:y,id:"asset-panel-ellipsis-menu",hideDropdown:d,autofocusPrevElementOnEsc:!0},h.map((e,t)=>a.createElement(nD.c$,{key:e,onClick:v(t)},e))),document.body))});function la({shouldEllipsize:e}){let t=(0,p._G)(),{allLibrariesByKey:n,allLibrariesByLibraryKey:r}=(0,aw.g)(),l=function(){let e=(0,rU.lY)(),t=(0,a.useMemo)(()=>e.map(e=>(0,r$.x)(e)).filter(nL.Vq),[e]);return(0,a.useMemo)(()=>{let e=new Map;return t.forEach(t=>e.set(t.fileKey,t)),e},[t])}(),{currentView:i,libraryIdentifier:o,visualAssetsType:u,navigateToLibrary:m,isCurrentlySkippingPage:_,isCurrentlySkippingFirstFolder:h,folderPath:g}=(0,w.wV)(),{setLastNavAction:y}=(0,t8.ZX)(),{focusBackButton:E,focusSearchBar:f}=(0,en.rl)(),b=a.useMemo(()=>o?o.libraryKey===t?(0,d.t)("design_systems.assets_panel.created_in_this_file"):l.has(o.fileKey)?l.get(o.fileKey)?.name:(0,s.kc)().dse_lk_asset_panel?r.get(o.libraryKey)?.name:n.get(o.fileKey)?.name:void 0,[o,t,l,n,r]),v=(0,et.sN)(),C=i===w.S5.Libraries,S=i===w.S5.Pages,k=i===w.S5.Recents,T=i===w.S5.VisualAssets,I=a.useMemo(()=>!!S||!!_&&(!g||!!h&&1===g.length),[g,h,_,S]),N=a.useCallback(e=>{let t=m(e);y(t8.r6.Back),v("breadcrumb",t)},[v,m,y]),A=(0,en.MB)({onBoth:()=>N(o??{fileKey:"",libraryKey:(0,td.l)("")}),onKeyDown:E,onClick:f}),{setKeyboardNavigationElement:x}=(0,G.M3)({path:[V.ON.BREADCRUMB],column:V.Yv.LIBRARY}),M=j()(S?r7:"asset_panel_collapsible_breadcrumb--libraryStub--PU1iu asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",{"asset_panel_collapsible_breadcrumb--ellipsized--vFJ6x ellipsis--ellipsis--Tjyfa":e}),P=(0,tV.HR)();return C?a.createElement("div",{className:"asset_panel_collapsible_breadcrumb--allLibraries--6vL0- asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",style:{marginLeft:3}},P&&(0,s.kc)().ds_sts_kit?(0,d.tx)("design_systems.assets_panel.kits"):(0,d.tx)("design_systems.assets_panel.dropdown_type_all_libraries")):k?a.createElement("div",{className:r7,style:{marginLeft:3}},(0,d.tx)("design_systems.assets_panel.dropdown_type_recents")):T?a.createElement("div",{className:r7,style:{marginLeft:3}},u===w.G3.IconSets?(0,d.tx)("design_systems.assets_panel.icon_sets"):(0,d.tx)("design_systems.assets_panel.illustrations")):a.createElement("div",{className:c.cx.flex.overflowHidden.$},a.createElement("button",{onClick:A,className:M,disabled:I,ref:x,type:"button"},b))}let lr=a.forwardRef(({name:e,i:t},n)=>{let{isCurrentlySkippingPage:r,isCurrentlySkippingFirstFolder:l,navigateBackToPathIndex:i}=(0,w.wV)(),s=(0,et.sN)(),o=a.useCallback(e=>{s("breadcrumb",i(e))},[s,i]),d=a.useMemo(()=>ls(t,r,l),[t,l,r]),{setKeyboardNavigationElement:u}=(0,G.M3)({path:[V.ON.BREADCRUMB],column:V.Yv.STUBS+t}),{focusBackButton:p,focusSearchBar:m}=(0,en.rl)(),_=(0,en.MB)({onBoth:()=>o(d),onKeyDown:p,onClick:m});return e?a.createElement("div",{ref:n,className:c.cx.flex.itemsCenter.$},a.createElement(li,null),a.createElement("button",{ref:u,onClick:_,className:r8},e)):null});function ll({name:e,shouldEllipsize:t}){let n=a.useRef(null),{pageId:r,folderPath:l}=(0,w.wV)(),{width:i}=e3(),[s,o]=a.useState(!1);return(a.useEffect(()=>{o(!!(0,ey._C)({text:e??"",textRef:n}))},[e,i]),a.useEffect(()=>{setTimeout(()=>o(!!(0,ey._C)({text:"",textRef:n})),0)},[r,l]),e)?a.createElement("div",{className:c.cx.noWrap.flex.itemsCenter.if(t,c.cx.overflowHidden).$},a.createElement(li,null),a.createElement("div",{"data-tooltip-type":r6.Ib.TEXT,"data-tooltip":s?e:void 0,ref:n,className:c.cx.mx4.px2.if(t,c.cx.overflowHidden.pre.ellipsis).$,"aria-current":"location"},e)):null}function li(){return a.createElement("div",{className:"asset_panel_collapsible_breadcrumb--breadcrumbSlash--XWfHn","aria-hidden":!0}," / ")}let ls=(e,t,n)=>{let a=e;return t&&a++,n&&a++,a-1};var lo=n(782683),lc=n(882316),ld=n(415684),lu=n(719900),lp=n(469991),lm=n(485234);let l_="asset_panel_search--libraryChip--1nfYR asset_panel_search--horizontalFlex---CG1k",lh="asset_panel_search--libraryChipRemove--kJiJn",lg="asset_panel_search--libraryChipText--3TsfE ellipsis--ellipsis--Tjyfa";function ly({libraryName:e}){let t=(0,eu.wA)(),{currentView:n,startSearch:l,onBack:i,libraryIdentifier:s,visualAssetsType:o}=(0,w.wV)(),c=n===w.S5.Search,u=(0,w._m)(),{inputRef:m,focusSearchBar:_}=(0,en.rl)(),h=(0,eu.d4)(e=>e.leftPanel.shouldFocusSearchBar),{query:g}=(0,eu.d4)(rm.UQ),y=(0,p.tS)(),E=a.useCallback(()=>{c&&i()},[c,i]),f=a.useMemo(()=>s?s?.fileKey===y?{type:eN.I.LOCAL}:u?{type:eN.I.SITE_KIT}:{type:eN.I.FILE,fileKey:s?.fileKey}:{type:eN.I.ALL},[u,s,y]),b=a.useCallback(e=>{t(lp.ku({query:e,searchOptions:f,entryPoint:"asset_panel",versionForTracking:3})),""===e?E():c||l()},[t,c,E,f,l]),v=a.useRef(void 0),C=(0,nr.Nv)(!0);a.useEffect(()=>{c&&(g&&v.current!==s?.fileKey&&(r.az.trackDefinedEvent("asset_search.misc_feature_usage",{aiResultsEnabled:C,entryPoint:"asset-panel",featureSlug:"library-filter-usage"}),t(lp.gP({searchOptions:f}))),v.current=s?.fileKey)},[t,c,s?.fileKey,g,f,C]);let S=a.useCallback(()=>{""===g&&E()},[E,g]),k=a.useCallback(()=>{b(""),_(),E()},[b,_,E]),T=(0,eu.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);a.useEffect(()=>{let e=e=>{(lu.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===ld.Uz.KEY_2:e.altKey&&e.keyCode===ld.Uz.KEY_2)&&T!==ty.m1T.TEXT&&(_(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[T,_]);let I=a.useMemo(()=>e?(0,d.t)("design_systems.assets_panel.search_library"):o?o===w.G3.IconSets?(0,d.t)("design_systems.assets_panel.search_all_icon_sets"):(0,d.t)("design_systems.assets_panel.search_all_illustrations"):(0,d.t)("design_systems.assets_panel.search_all_libraries"),[e,o]);return a.createElement("div",{className:"asset_panel_search--container--u0qoH asset_panel_search--horizontalFlex---CG1k"},a.createElement(lo.h,null),a.createElement(lm.E1,{path:[V.ON.HEADER,V.my.SEARCH_AND_FILTER],column:V.Wy.SEARCH,isNewAssetsPanel:!0,query:g,onChange:b,onFocus:ro.lQ,onBlur:S,onClearSearch:k,forwardedRef:m,isVisible:!0,entryPointForTracking:"editor:assets_panel",autofocus:h,recordingKey:"componentsLibrarySearch",placeholder:I,selectOnFocus:!0}))}function lE({library:e}){let{navigateToTop:t}=(0,w.wV)(),{focusSearchBar:n}=(0,en.rl)(),r=(0,et.sN)(),l=a.useCallback(()=>{r("searchFilterChip",t()),n()},[n,r,t]),{setKeyboardNavigationElement:i}=(0,G.M3)({path:[V.ON.HEADER,V.my.LIBRARY_SEARCH_CHIP]});return e?a.createElement("div",{className:l_,"data-testid":"asset-panel-search-chip"},a.createElement("span",{className:lg},e.name),(0,s.kc)().dse_fpl_wave_1?a.createElement(U.E,{className:lh,onClick:l,recordingKey:"asset-panel-search-chip","aria-label":(0,d.t)("design_systems.assets_panel.search_chip_label"),ref:i},a.createElement(lc.f,null)):a.createElement($.GG,{className:lh,onClick:l,recordingKey:"asset-panel-search-chip","aria-label":(0,d.t)("design_systems.assets_panel.search_chip_label"),forwardedRef:i},a.createElement(lc.f,null))):null}function lf({visualAssetsType:e}){let{navigateToTop:t}=(0,w.wV)(),{focusSearchBar:n}=(0,en.rl)(),r=(0,et.sN)(),l=a.useCallback(()=>{r("visualAssetsSearchFilterChip",t()),n()},[n,r,t]),{setKeyboardNavigationElement:i}=(0,G.M3)({path:[V.ON.HEADER,V.my.LIBRARY_SEARCH_CHIP]});return e?a.createElement("div",{className:l_,"data-testid":"asset-panel-visual-assets-search-chip"},a.createElement("span",{className:lg},e===w.G3.IconSets?(0,d.tx)("design_systems.assets_panel.icon_sets"):(0,d.tx)("design_systems.assets_panel.illustrations")),a.createElement(U.E,{className:lh,onClick:l,recordingKey:"asset-panel-visual-assets-search-chip",ref:i},a.createElement(lc.f,null))):null}var lb=n(187134),lv=n(309782),lC=n(221768),lS=n(18991),lw=n(343427),lk=n(270133),lT=n(555644),lI=n(296463),lN=n(749315),lA=n(55777);let lx="assets-panel-settings";function lM({includeFolderSetting:e=!0}){let t=a.useRef(null),{setKeyboardNavigationElement:n}=(0,G.M3)({path:[V.ON.HEADER,V.my.SEARCH_AND_FILTER],column:V.Wy.SETTINGS}),l=(0,p.tS)(),i=(0,r4.Um)(),s=i?.type===lx,o=(0,eu.wA)(),c=a.useCallback(()=>{s?o((0,nK.oB)()):(o((0,nK.j7)({type:lx,data:{position:{top:t.current?.getBoundingClientRect().bottom,left:t.current?.getBoundingClientRect().left}}})),r.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:l??void 0,assetsPanelVersion:3}))},[o,l,s]),u=a.useMemo(()=>{if(s)return i.data?.position},[i?.data?.position,s]);return a.createElement(a.Fragment,null,a.createElement(lb.o,{eventListeners:s?["onMouseDown"]:[]},a.createElement(lv.d,{onClick:c,toggled:s,ref:(0,lT.A)(t,n),"aria-label":(0,d.t)("design_systems.assets_panel.settings_label"),"aria-expanded":s,"aria-haspopup":"listbox",htmlAttributes:{"data-testid":"asset-panel-settings-button"}},a.createElement(lC.A,null))),s&&a.createElement(lP,{position:u,includeFolderSetting:e,buttonRef:t}))}function lP({position:e,includeFolderSetting:t,buttonRef:n}){let l=(0,eu.wA)(),i=a.useCallback(()=>{l((0,nK.oB)())},[l]),o=(0,et.R2)("number"==typeof e?.top?e.top:void 0),{productComponents:u,templates:m}=(0,a2.g5)(a4.$A.Design),_=rt(),[h]=(0,ea.ye)(),{currentView:y,libraryIdentifier:E}=(0,w.wV)(),{getLibrary:f}=(0,el.G)(),b=(0,p.tS)(),v=(0,p._G)(),[C]=(0,ea.MA)(),S=!!(0,g.GM)()()&&y===w.S5.Libraries,k=S?ea.$H.LIST:C,T=a.useMemo(()=>y!==w.S5.Search&&(u.length>0||m.length>0||_.length>0),[y,u.length,m.length,_.length]),I=a.useMemo(()=>b&&v?f({fileKey:b,libraryKey:v}):void 0,[f,b,v]),N=I?.type===V.yW.DESIGN&&(I.numComponents>0||I.numTemplates>0),{libraries:A,presets:x,siteLibrary:M,librariesForConnectedProject:P}=(0,aw.g)(),R=(0,at.n)(),{goToLibrary:L,goToAll:O,goToRecents:D,changeAssetsView:F,toggleShowFolders:K}=function(e){let t=(0,p.q5)(),n=(0,et.sN)(),{navigateToLibrary:l,navigateToTop:i,navigateToRecents:s}=(0,w.wV)(),{setLastNavAction:o}=(0,t8.ZX)(),[,c]=(0,ea.MA)(),[,d]=(0,ea.ye)(),{focusSearchBar:u}=(0,en.rl)(),m=a.useCallback(e=>{n("settingsMenu",e)},[n]),_=a.useCallback(e=>{m(l(e)),u()},[u,l,m]),h=a.useCallback(()=>{m(i()),u()},[u,i,m]),g=a.useCallback(()=>{m(s()),u()},[u,s,m]),y=a.useCallback(()=>e.current?.focus(),[e]),E=a.useCallback(e=>{r.az.trackDefinedEvent("assets_panel.view_mode_changed",{viewMode:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),c(e),o(t8.r6.ToggleView)},[t?.key,t?.parentOrgId,t?.teamId,c,o]),f=(0,en.NR)({onBoth:e=>()=>E(e),onKeyDown:()=>y}),b=a.useCallback(e=>{r.az.trackDefinedEvent("assets_panel.folder_toggle",{showFolders:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),d(e)},[t?.key,t?.parentOrgId,t?.teamId,d]);return{goToLibrary:_,goToAll:h,goToRecents:g,changeAssetsView:f,toggleShowFolders:(0,en.NR)({onBoth:e=>()=>b(e),onKeyDown:()=>y})}}(n),B=a.useMemo(()=>{let e=[];return e.push(lR({text:(0,d.t)("design_systems.assets_panel.dropdown_type_all_libraries"),checked:y===w.S5.Libraries||y===w.S5.Search&&!E,onClick:O})),T&&e.push(lR({text:(0,d.t)("design_systems.assets_panel.dropdown_type_recents"),checked:y===w.S5.Recents&&u.length>0,onClick:D})),N&&e.push(lR({text:I.name,checked:y!==w.S5.Recents&&E?.libraryKey===I.libraryKey,onClick:()=>L({fileKey:I.fileKey,libraryKey:I.libraryKey})})),(A.length>0||x.length>0||M.data)&&e.push(a.createElement(nD.wv,null)),M.data&&e.push(lR({text:M.data.name,checked:y!==w.S5.Recents&&E?.libraryKey===M.data.libraryKey,isPreset:!0,onClick:()=>L({fileKey:M.data.fileKey,libraryKey:M.data.libraryKey})})),e.push(...A.map(({name:e,fileKey:t,libraryKey:n})=>lR({text:e,isApproved:(0,lN.sF)(n),checked:y!==w.S5.Recents&&E?.libraryKey===n,onClick:()=>L({fileKey:t,libraryKey:n})}))),e.push(...x.map(({name:e,fileKey:t,libraryKey:n})=>lR({text:e,isApproved:(0,lN.sF)(n),isPreset:!0,checked:y!==w.S5.Recents&&E?.libraryKey===n,onClick:()=>L({fileKey:t,libraryKey:n})}))),(0,s.kc)().fc_general&&P.length>0&&(e.push(a.createElement(nD.wv,null)),e.push(a.createElement("div",{className:j()(c.cx.textBodyMedium.$,"asset_panel_settings--optionSubtitle--9d2Ib")},(0,d.t)("design_systems.assets_panel.available_from_connected_project",{hostPlanName:R?.hostPlanName??"Connected Project"}))),e.push(...P.map(({name:e,fileKey:t,libraryKey:n})=>lR({text:e,isApproved:(0,lN.sF)(n),checked:y!==w.S5.Recents&&E?.libraryKey===n,onClick:()=>L({fileKey:t,libraryKey:n})})))),e.push(a.createElement(nD.wv,null)),S||(e.push(lR({text:(0,d.t)("design_systems.assets_panel.view_toggle_grid"),checked:k===ea.$H.GRID,onClick:F(ea.$H.GRID),icon:a.createElement(lS.t,null)})),e.push(lR({text:(0,d.t)("design_systems.assets_panel.view_toggle_list"),checked:k===ea.$H.LIST,onClick:F(ea.$H.LIST),icon:a.createElement(lw.Z,null)}))),t&&e.push(lR({text:(0,d.t)("design_systems.assets_panel.view_toggle_show_folders"),checked:h,onClick:K(!h),icon:a.createElement(lk.e,null)})),e},[k,F,E,y,S,O,L,D,N,T,t,I?.fileKey,I?.libraryKey,I?.name,x,u.length,h,M.data,A,K,P,R]),G=a.useMemo(()=>({...e,maxHeight:o}),[o,e]);return tg.createPortal(a.createElement(nD.X3,{className:j()(r2.Dm,"asset_panel_settings--dropdown--gs7K3"),positionAbsolute:!0,style:G,id:lx,hideDropdown:i,autofocusPrevElementOnEsc:!0},B),document.body)}function lR({text:e,isApproved:t,isPreset:n,checked:r,onClick:l,icon:i}){return a.createElement(nD.MM,{className:"asset_panel_settings--dropdownOption--kJ-6M",checked:!!r,onClick:l,key:e},a.createElement("div",{className:"asset_panel_settings--optionContentContainer--iAJ6X"},a.createElement("div",{className:"asset_panel_settings--optionContent---2nCX ellipsis--ellipsis--Tjyfa"},i?a.createElement("div",{className:"asset_panel_settings--optionWithLeftIconContainer--QP3Gm"},i,a.createElement("span",null,e)):e),a.createElement("div",{className:"asset_panel_settings--optionRightIcon--zi-2v"},t?a.createElement(lI.FX,null):n?a.createElement("div",{className:c.cx.ml2.$},a.createElement(lA.E,{hubFileId:void 0})):null)))}function lL(){let{getPage:e,getLibrary:t}=(0,el.G)(),{libraryIdentifier:n,pageId:r}=(0,w.wV)(),l=a.useMemo(()=>e(n,r),[e,n,r]),i=a.useMemo(()=>t(n),[t,n]);return a.createElement("div",{className:"asset_panel_header--assetPanelHeader--ZWb-Q"},a.createElement(lO,{library:i}),a.createElement(lD,{page:l}))}function lO({library:e}){let{currentView:t,visualAssetsType:n}=(0,w.wV)();return a.createElement("div",{className:c.cx.grid.gap4.itemsCenter.ml8.$,style:nF.sx.add({gridTemplateColumns:"1fr auto",gridTemplateRows:"32px",gridAutoRows:"auto"}).$},a.createElement("div",{style:nF.sx.add({gridRow:1,gridColumn:1}).$},a.createElement(ly,{libraryName:e?.name})),a.createElement("div",{style:nF.sx.flex.itemsCenter.add({gridRow:1,gridColumn:2}).$},a.createElement(lM,{includeFolderSetting:[w.S5.Libraries,w.S5.Pages,w.S5.Assets].includes(t)})),t===w.S5.Search&&e&&a.createElement("div",{style:nF.sx.flex.minW0.add({gridRow:2,gridColumn:1}).$},a.createElement(lE,{library:e})),t===w.S5.Search&&n&&a.createElement("div",{style:nF.sx.flex.minW0.add({gridRow:2,gridColumn:1}).$},a.createElement(lf,{visualAssetsType:n})))}function lD({page:e}){let{currentView:t,folderPath:n,onBack:r,libraryIdentifier:l,isCurrentlySkippingPage:i,isCurrentlySkippingFirstFolder:s}=(0,w.wV)(),o=(0,et.sN)(),c=(0,eu.d4)(e=>e.modalShown),u=(0,eu.wA)(),{setBackButtonKeyboardItem:p,focusSearchBar:m}=(0,en.rl)(),_=a.useCallback(()=>{o("backButton",r()),c?.type===eM.V&&u(eQ.AS())},[r,o,c?.type,u]),h=a.useCallback(()=>{t===w.S5.Recents?l||m():t===w.S5.Pages?m():t===w.S5.Assets&&i&&!n&&m()},[t,m,n,i,l]),g=(0,en.MB)({onBoth:_,onKeyDown:h,onClick:m}),y=a.useMemo(()=>{if(t===w.S5.Search||t===w.S5.Recents)return[];let a=e?.name&&!i?[e.name]:[],r=n??[];return[...a,...s?r.slice(1):r]},[t,n,i,s,e?.name]),E=ak(),f=t!==w.S5.Libraries&&t!==w.S5.Search;return E?null:a.createElement(a.Fragment,null,t!==w.S5.Search&&a.createElement("div",{className:"asset_panel_header--breadcrumbWrapper--NC2Ps asset_panel_header--horizontalFlex--k99PA"},f&&a.createElement(r0.K,{"aria-label":(0,d.t)("design_systems.assets_panel.back"),onClick:g,ref:p,recordingKey:"assetsPanelBack"},a.createElement(r1.C,null)),a.createElement(r9,{stubs:y})))}var lF=n(937648),lK=n(933717);let lB=e=>a.useCallback(t=>{t()||e()},[e]);var lG=n(458806),lV=n(475231),lU=n(573545),lH=n(41453),lz=n(939501),lW=n(169348),lj=n(436735),l$=n(186810),lY=n(418520);let lX={localAssets:{name:"",fileKey:"",libraryKey:(0,td.l)(""),thumbnailShouldCover:!1,thumbnailUrl:"",numComponents:0,numTemplates:0,type:V.yW.DESIGN,libraryType:"team",pages:new Map},libraries:new Map,presets:new Map,siteKit:null,allLibrariesUnsorted:new Map};var lZ=n(10748);function lq({width:e}){let{assetPanelItemsByFileKey:t,assetPanelItemsByLibraryKey:n}=function(e){(0,l$.K)();let{subscribedFileDataByKey:t,subscribedFileDataByLibraryKey:n,hubFilesById:r,hubFilesByLibraryKey:l}=function(){let e=(0,eu.d4)(e=>e.hubFiles),t=a.useMemo(()=>a7()(Object.values(e),e=>(0,td.l)(e.library_key??"")),[e]),n=(0,m.je)(),r=a.useMemo(()=>{let e={};if(!n.data)return{};for(let t of n.data){if("community"===t.libraryType)continue;let n={key:t.fileKey,name:t.name,library_key:t.libraryKey,thumbnail_guid:t.thumbnailGuid,thumbnail_url:t.thumbnailUrl??"",thumbnail_url_override:t.thumbnailUrlOverride};e[(0,td.l)(t.libraryKey)]=n}return e},[n]);return a.useMemo(()=>({subscribedFileDataByLibraryKey:r,subscribedFileDataByKey:(0,eR.Y5)(r),hubFilesByLibraryKey:t,hubFilesById:e}),[e,t,r])}(),i=(0,eu.d4)(p.tB),o=(0,eu.d4)(ek.e_),c=(0,eu.d4)(ek.MH),d=(0,eu.d4)(ek.dM),u=(0,eu.d4)(ek.h3),_=(0,eu.d4)(lH.P),h=(0,lz.Ck)(),g=(0,ev.Fl)(),y=(0,ec.md)(eG.xL),E=(0,ec.md)(eG.lj),f=a.useMemo(()=>i?.teamId?_[i.teamId]:null,[i?.teamId,_]),b=a.useMemo(()=>!!f&&(0,lU.w5)(f),[f]),v=a.useMemo(()=>(0,eR.Sg)(c,d),[c,d]),C=a.useMemo(()=>(0,eR.ND)(u),[u]),S=(0,eR.UY)(o,t),w=(0,eR.$1)({library:o,fileDataByLibraryKey:n}),k=(0,lj.Lm)(),T=(0,eR.jl)(k,t),I=(0,eR.Tk)(o,r,y),N=(0,eR.oV)({library:o,hubFilesByLibraryKey:l,visualAssetLibraryKeys:E}),A=a.useMemo(()=>h()?I:null,[h,I]),x=a.useMemo(()=>h()?N:null,[h,N]);(0,lW.jP)(A,x);let{url:M,shouldCover:P}=(0,lY.t)(),R=(0,tV.Nn)(),L=(0,tV.fi)(),O=(0,tV.Bv)(),D=(0,ec.md)(eB.TG);return a.useMemo(()=>({assetPanelItemsByFileKey:e?lX:function({localComponentsInfo:e,localTemplatesInfo:t,localThumbnailUrl:n,localThumbnailShouldCover:a,subscribedComponentsInfo:r,subscribedTemplatesInfo:l,subscribedCommunityComponentsInfo:i,subscribedCommunityTemplatesInfo:o,canPublish:c,openFileKey:d,openFileLibraryKey:u,approvedLibraryKeysByResourceType:p,siteKitAssetData:m,siteKitThumbnailComponents:_,siteKitSortingFn:h}){let{fileKeyToSubscribedItems:g,subscribedFiles:y}=r,E=[...y],f={};if((0,s.kc)().dse_editor_templates_v1&&l)for(let e of(f=l.fileKeyToSubscribedItems,l.subscribedFiles))E.find(t=>t.key===e.key)||E.push(e);let b=function(e,t,n,a){let r=new Map;for(let l of(0,et.uo)(e,a)){let e=l.key,a=t[e]??[],i=n[e]??[],s=t0(a,i,{isPreset:!1}),o={name:l.name,fileKey:e,libraryKey:(0,td.l)(l.library_key??""),pages:s,numComponents:a.length,numTemplates:i.length,thumbnailUrl:l.thumbnail_url_override??l.thumbnail_url,thumbnailShouldCover:!!l.thumbnail_guid,type:V.yW.DESIGN,libraryType:"team"};r.set(e,o)}return r}(E,g,f,p),v=function(e,t){if(!e&&!t)return new Map;let{hubFileIdToSubscribedItems:n,subscribedHubFiles:a}=e??{hubFileIdToSubscribedItems:{},subscribedHubFiles:[]},{hubFileIdToSubscribedItems:r,subscribedHubFiles:l}=t??{hubFileIdToSubscribedItems:{},subscribedHubFiles:[]},i=[...a,...l],s=new Map;for(let e of(0,et.LH)(i)){let t=e.id,a=n[t]??[],l=r[t]??[],i=t0(a,l,{isPreset:!0});if(a.length+l.length>0){let n={name:(0,tp.oA)(e),fileKey:t,libraryKey:(0,td.l)(e.library_key??""),pages:i,numComponents:a.length,numTemplates:l.length,thumbnailUrl:e.thumbnail_url,thumbnailShouldCover:!0,type:V.yW.DESIGN,libraryType:"community"};s.set(t,n)}}return s}(i,(0,s.kc)().dse_editor_templates_v1?o:void 0),C=t3(e,t,n,a,c,d,u),S=new Map([...b,...v]);S.set(C.fileKey,C);let w=m?(0,th.P)(m,(0,tV.Fj)()):null,k=w?{...w.library,pages:t1(w.assets,_,h)}:null;return k&&S.set(k.fileKey,k),{localAssets:C,libraries:b,presets:v,siteKit:k,allLibrariesUnsorted:S}}({localComponentsInfo:v,localTemplatesInfo:C,localThumbnailUrl:M,localThumbnailShouldCover:P,subscribedComponentsInfo:S,subscribedTemplatesInfo:T,subscribedCommunityComponentsInfo:A??void 0,subscribedCommunityTemplatesInfo:void 0,canPublish:b,openFileKey:i?.key??"",openFileLibraryKey:(0,td.l)(i?.libraryKey??""),approvedLibraryKeysByResourceType:g,siteKitAssetData:R?.data??void 0,siteKitThumbnailComponents:L,siteKitSortingFn:O}),assetPanelItemsByLibraryKey:e?function({localComponentsInfo:e,localTemplatesInfo:t,localThumbnailUrl:n,localThumbnailShouldCover:a,subscribedComponentsInfo:r,subscribedCommunityComponentsInfo:l,canPublish:i,openFileKey:s,openFileLibraryKey:o,approvedLibraryKeysByResourceType:c,siteKitAssetData:d,siteKitThumbnailComponents:u,siteKitSortingFn:p,presetLibraryKeys:m}){let{libraryKeyToSubscribedItems:_,subscribedFiles:h}=r,g=function({subscribedFiles:e,libraryKeyToSubscribedComponents:t,approvedLibraryKeysByResourceType:n}){let a=new Map;for(let r of(0,et.uo)(e,n)){if(!r.library_key)continue;let e=(0,td.l)(r.library_key),n=t[e]??[],l=t0(n,[],{isPreset:!1}),i={name:r.name,fileKey:r.key,libraryKey:(0,td.l)(r.library_key??""),pages:l,numComponents:n.length,numTemplates:0,thumbnailUrl:r.thumbnail_url_override??r.thumbnail_url,thumbnailShouldCover:!!r.thumbnail_guid,type:V.yW.DESIGN,libraryType:"team"};a.set(e,i)}return a}({subscribedFiles:[...h],libraryKeyToSubscribedComponents:_,approvedLibraryKeysByResourceType:c}),y=function(e,t){if(!e)return new Map;let{libraryKeyToSubscribedItems:n,subscribedHubFiles:a}=e??{hubFileIdToSubscribedItems:{},subscribedHubFiles:[]},r=new Map;for(let e of(0,et.LH)(a)){if(!e.library_key)continue;let a=(0,td.l)(e.library_key),l=n[a]??[],i=t0(l,[],{isPreset:t.has(e.library_key)});if(l.length>0){let t={name:(0,tp.oA)(e),fileKey:e.id,libraryKey:(0,td.l)(e.library_key??""),pages:i,numComponents:l.length,numTemplates:0,thumbnailUrl:e.thumbnail_url,thumbnailShouldCover:!0,type:V.yW.DESIGN,libraryType:"community"};r.set(a,t)}}return r}(l,m),E=t3(e,t,n,a,i,s,o,m),f=new Map([...g,...y]);f.set(E.libraryKey,E);let b=d?(0,th.P)(d,(0,tV.Fj)()):null,v=b?{...b.library,pages:t1(b.assets,u,p)}:null;return v&&f.set(v.libraryKey,v),{localAssets:E,libraries:g,presets:y,siteKit:v,allLibrariesUnsorted:f}}({localComponentsInfo:v,localTemplatesInfo:C,localThumbnailUrl:M,localThumbnailShouldCover:P,subscribedComponentsInfo:w,subscribedCommunityComponentsInfo:x??void 0,canPublish:b,openFileKey:i?.key??"",openFileLibraryKey:(0,td.l)(i?.libraryKey??""),approvedLibraryKeysByResourceType:g,siteKitAssetData:R?.data??void 0,siteKitThumbnailComponents:L,siteKitSortingFn:O,presetLibraryKeys:D}):lX}),[e,v,C,M,P,S,T,A,b,i?.key,i?.libraryKey,g,R?.data,L,O,w,x,D])}(!!(0,s.kc)().dse_lk_asset_panel),o=function(e){let t=(0,re.iZ)(),n=(0,p.q5)(),r=(0,lV.jO)(),l=(0,v.f)("has_dismissed_component_sidebar_library_upsell_banner"),i=(0,eu.d4)(e=>e.isFreeUser),s=(0,eu.d4)(lH.P),o=n?.teamId?s[n.teamId]:null,c=(0,ry.Rs)(rf.GyZ,{teamId:n?.teamId??""},{enabled:!!n?.teamId}),d=n?.canEdit??!1,u=c?.data?.team?.canEdit??!1,m=e.numComponents>0||e.numTemplates>0;return a.useMemo(()=>!l&&i&&(!o||!(0,lU.w5)(o)&&u)&&d&&r&&m&&(0,lG.Hz)(t?.id),[l,i,o,u,d,r,m,t])}(((0,s.kc)().dse_lk_asset_panel?n:t).localAssets),c="loading"===(0,m.je)().status,d=a.useRef(null),_=l.wY(d)?.width||e,[h]=(0,ea.MA)(),g=(0,p.q5)();return(0,i.h)(()=>{(0,r.sx)("Component Sidebar Viewed",{viewMode:h,assetsPanelVersion:3,fileKey:g?.key,fileTeamId:g?.teamId??void 0,fileOrgId:g?.parentOrgId??void 0})}),a.createElement(lJ,{assetPanelItemsByFileKey:t,assetPanelItemsByLibraryKey:n,width:_},a.createElement("div",{className:lZ.k,"data-testid":"component-sidebar",translate:"no",ref:d},a.createElement("div",{className:lZ.k,style:{width:_}},a.createElement(lL,null),a.createElement(rv,{isLoading:c},a.createElement(rq,{assetPanelItemsByFileKey:t,assetPanelItemsByLibraryKey:n,width:_})),o&&a.createElement(M.V,null),a.createElement("div",{style:{left:`${_}px`,top:"240px"},className:lZ.b,"data-onboarding-key":u.RJ}),a.createElement(x,{width:_}))))}function lJ({children:e,width:t,assetPanelItemsByFileKey:n,assetPanelItemsByLibraryKey:r}){return a.createElement(t8.P3,null,a.createElement(el.K,{assetPanelItemsByFileKey:n,assetPanelItemsByLibraryKey:r},a.createElement(en.tM,{className:lZ.k},a.createElement(lQ,null,a.createElement(e2,{width:t},e)))))}function lQ({children:e}){return!function(){let{libraryIdentifier:e,pageId:t,folderPath:n,navigateToTop:r,navigateToPage:l,navigateToPath:i,navigateToLibrary:o,currentView:c,onBack:d}=(0,w.wV)(),u=(0,rg.q)(),p=u(e?.fileKey,e?.libraryKey),{getLibrary:m,getFolder:_}=(0,el.G)(),{setLastNavAction:h}=(0,t8.ZX)(),g=lB(r),{allLibrariesByKey:y,allLibrariesByLibraryKey:E}=(0,aw.g)(),f=(0,s.kc)().dse_lk_asset_panel?E:y,[b,v]=(0,ec.fp)(lK.Cl);a.useEffect(()=>{b&&f.size>0&&((0,et.hB)(()=>o({fileKey:b,libraryKey:(0,lF.$)(b)})),v(null))},[b,o,v,y,f.size]),(0,w.sH)(),a.useEffect(function(){if(c!==w.S5.Assets&&c!==w.S5.Pages)return;let a=m(e),o=(0,s.kc)().dse_lk_asset_panel?E.get(e.libraryKey):y.get(e.fileKey);if(!a){if(u(e.fileKey,e.libraryKey)&&o&&c!==w.S5.Assets)return;g(r);return}if(t){if(!a?.pages.get(t)){let e=(0,w.Cg)(a);e?g(()=>l(e.id)):g(d);return}if(n&&!_(e,t,n)){let a=n.slice(0,-1),r=_(e,t,a);for(;!r&&a.length>0;)r=_(e,t,a=a.slice(0,-1));if(!r)return g(()=>l(t));let s=parent?(0,w.xc)(r):void 0;return void(s?g(()=>i([...a,s.name])):(g(()=>i(a)),h(t8.r6.Back)))}}},[d,p,e,c,t,n,r,l,m,_,i,h,g,y,u,E]),a.useEffect(function(){let a=m(e);if(!a||p)return;let r=(0,w.Cg)(a);if(c===w.S5.Pages&&r)l(r.id);else if(c===w.S5.Assets){let a=_(e,t,n);if(!a)return;let r=(0,w.xc)(a);r&&i([...n??[],r.name])}},[p,c,n,_,m,e,l,i,d,t])}(),a.createElement(a.Fragment,null,e)}function l0(){return a.createElement("div",{className:c.cx.colorTextSecondary.my8.mx16.$},(0,d.tx)("design_systems.assets_panel.error"))}function l1({width:e}){return a.createElement(o.tH,{boundaryKey:"AssetPanelUI3",fallback:a.createElement(l0,null)},a.createElement(lq,{width:e}))}},541445:(e,t,n)=>{n.d(t,{X:()=>tT});var a=n(411855),r=n(188507),l=n(140593),i=n(3360),s=n(268853),o=n(922827),c=n(340818),d=n(83783),u=n(298455),p=n(629019),m=n.n(p),_=n(841563),h=n.n(_),g=n(126049),y=n(196302),E=n(689570),f=n(900011),b=n(474474),v=n(740941),C=n(415684),S=n(228026),w=n(719900),k=n(744952),T=n(248591),I=n(669260),N=n(462132),A=n(70067),x=n(688572),M=n(530313),P=n(819635),R=n(731173),L=n(856657),O=n(723789),D=n(178039),F=n(899356),K=n(334367),B=n(949824),G=n(720793),V=n(147984),U=n(232087),H=n(686644),z=n(985091),W=n(883296),j=n(1829);class ${constructor(e,t,n,a,r={}){this.component=e,this.onMouseDown=t,this.onMouseMove=n,this.onMouseUp=a,this.options=r,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=e=>{if(e.stopPropagation(),null===this.draggingID&&e.touches.length>0){let t=e.touches[0];if(this.draggingID=t.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.delayInMS){let n=!1;if(this.deferredDragStart=a=>{if(n)return!1;let r=a.clientX-t.clientX,l=a.clientY-t.clientY;return!(10>Math.sqrt(r*r+l*l))&&(n=!0,!this.options.delayInMS&&(this.onMouseDown(this.mouseEvent("mousedown",e,t)),!0))},this.options.delayInMS){let a=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==a||n||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t))}},this.onTouchMove=e=>{if(e.stopPropagation(),null!==this.draggingID){for(let t of e.touches)if(t.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(t))break;this.deferredDragStart=null}e.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",e,t));break}}},this.onTouchEndOrCancel=e=>{e.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",e,this.oldTouch)))}}mouseEvent(e,t,n){this.oldTouch=n;let a=new MouseEvent(e,{altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});return Object.defineProperty(a,"target",{value:t.target}),Object.defineProperty(a,"currentTarget",{value:t.currentTarget}),a}}var Y=n(545456),X=n(152824),Z=n(837287),q=n(819539),J=n(301929),Q=n(9063),ee=n(558134),et=n(56182),en=n(474983),ea=n(833957),er=n(659283),el=n(824280),ei=n(171946),es=n(579557),eo=n(135828),ec=n(79866),ed=n(117312),eu=n(271160),ep=n(47438),em=n(118256),e_=n(974666),eh=n(520239),eg=n(876560),ey=n(157599),eE=n(250165),ef=n(981702),eb=n(247435),ev=n(83661),eC=n(821550),eS=n(672998),ew=n(484248);function ek({modeNames:e}){let t=(0,O.GS)();if(0===e.length)return null;let n=1===e.length?e[0]:e[0]+" + "+(e.length-1);return a.createElement("div",{className:eS.Io,"data-testid":"variable-mode-pill","data-tooltip-type":eg.Ib.TEXT,"data-tooltip":(0,J.t)("variables.mode_pill.tooltip",{listOfModes:(0,eC.Yx)(e)})},!t&&a.createElement(ei.B,{className:eS.nW,svg:ew.A}),a.createElement("div",{className:eS.XW},n))}var eT=n(75557),eI=n(591032),eN=n(96796),eA=n(463420),ex=n(335758),eM=n(603275),eP=n(949207),eR=n(432023),eL=n(971068),eO=n(71676),eD=n(939967),eF=n(253099),eK=n(917925),eB=n(853993);function eG(){return a.createElement("div",{className:es.cx.flex.itemsCenter.justifyCenter.$},a.createElement("div",{className:eS.xE}))}class eV extends a.PureComponent{constructor(){super(...arguments),this.expandMouseDown=e=>{this.props.expandMouseDown(this.props.guid,e)}}renderNodeIndents(){let e=[];for(let t=0;t<this.props.level+1;t++){let n=`[${t}]`,r=-1!==this.props.isLastMaskedAtLevels.indexOf(n),l=-1!==this.props.isMaskedAtLevels.indexOf(n),i=t===this.props.level&&this.props.mask,s=t===this.props.level&&this.props.hasChildren,o=m()(eS.dK,{[eS.TY]:this.props.displayOrder===ex.k.DOM,[eS.co]:this.props.horizontalScrollEnabled}),c=i||l||r;(this.props.horizontalScrollEnabled||!c)&&e.push(a.createElement("span",{key:t,className:eS.pZ})),r?e.push(a.createElement(ei.B,{key:`${t}-mask`,svg:s?eK.A:eB.A,className:o})):l?e.push(a.createElement(ei.B,{key:`${t}-mask`,svg:s?eF.A:eD.A,className:o})):i&&e.push(a.createElement(ei.B,{key:`${t}-mask`,svg:s?eO.A:eL.A,className:o})),this.props.hasBullet&&t===this.props.level?e.push(a.createElement(eI.E,{key:"expand-caret",recordingKey:k.Pt(this.props,"expandCaret"),className:eS.OI,actionOnPointerDown:!0,onClick:this.expandMouseDown,htmlAttributes:{"data-testid":this.props.isMeasurementNode?void 0:"new-frame-bullet"}},a.createElement(eG,null))):s&&e.push(a.createElement(eI.E,{key:"expand-caret",recordingKey:k.Pt(this.props,"expandCaret"),className:m()(eS.GE,{[eS.Fq]:this.props.horizontalScrollEnabled}),actionOnPointerDown:!0,onClick:this.expandMouseDown},a.createElement(eM.U,{svg:this.props.isExpanded?eP.A:eR.A},this.props.isExpanded?a.createElement(eN.O,null):a.createElement(eA.k,null))))}return e}render(){return a.createElement("span",{className:eS.Wm},this.renderNodeIndents())}}eV.displayName="Indents";var eU=n(212521),eH=n(201140),ez=n(130735),eW=n(56014),ej=n(238472),e$=n(787337),eY=n(282046),eX=n(953696);class eZ extends k.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=k.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t,n;return this.props.locked?(e=e$.A,t=eY.A,n=a.createElement(eH.s,null)):this.props.isAncestorLocked?(e=ej.A,n=eW.v):(e=eX.A,n=a.createElement(ez.r,null)),a.createElement("div",{className:eS.hz,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation},a.createElement(eM.U,{svg:e,fallbackSvg:t},n))}}eZ.displayName="LockIcon";var eq=n(623846),eJ=n(263159);let eQ=(0,a.memo)(function(e){return(0,eJ.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,eJ.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H10v8h.5a.5.5 0 1 1 0 1h-2a.5.5 0 0 1 0-1H9V4h-.5a.5.5 0 0 1-.5-.5m3 2a.5.5 0 0 1 .5-.5h1A1.5 1.5 0 0 1 14 6.5v3a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 1 0-1h1a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 1-.5-.5M2.5 7a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 1 1 0 1h-4A1.5 1.5 0 0 1 2 9.5v-2a.5.5 0 0 1 .5-.5m2.515-3.56L4.7 4.7l-1.26.315c-.505.126-.505.844 0 .97L4.7 6.3l.315 1.26c.126.505.844.505.97 0L6.3 6.3l1.26-.315c.505-.126.505-.844 0-.97L6.3 4.7l-.315-1.26c-.126-.505-.844-.505-.97 0",clipRule:"evenodd"})})});var e0=n(448124),e1=n(975861);function e5({disabled:e}){let t=(0,a.useMemo)(()=>({"data-tooltip-type":eg.Ib.SPECIAL,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip":e1.S,"data-tooltip-ai-beta-text":(0,J.t)("fullscreen.context_menu.auto_rename_layers"),"data-tooltip-ai-beta-action":e0.JT.AUTO_RENAME_LAYERS}),[]);return a.createElement(eI.E,{className:eS.J0,onClick:()=>{(0,ec.Br)({source:o.uQ6.LAYERS_PANEL_ACTION_ROW,trackingDataSource:"layers_panel_action_row"})},htmlAttributes:e?void 0:t,disabled:e},a.createElement(eQ,null))}var e3=n(861726),e2=n(203910),e4=n(900607),e6=n(144919);class e8 extends k.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=k.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t;return this.props.isAncestorHidden&&this.props.visible?(e=ej.A,t=eW.v):(e=this.props.visible?e6.A:e4.A,t=this.props.visible?a.createElement(e3.l,null):a.createElement(e2.f,null)),a.createElement("div",{className:eS.yk,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation},a.createElement(eM.U,{svg:e},t))}}e8.displayName="VisibleIcon";var e7=n(132540),e9=n(207259),te=n(211254);let tt="layer-panel-onboarding-key";function tn(e){let t=(0,eT.cJ)(),n=(e.abbreviatedStateName||e.name).replace(/\n/," ");if(t&&e.isResponsiveSet&&e.isDefaultResponsiveSet&&(n=(0,J.t)("sites.panel.home")),e.shouldShowGuids){let t=o.Egt.getOverridePathForNode(e.guid);return`${n} (${e.guid}): [${t}]`}return n}function ta(e){let t=(0,u.UN)().get(e.guid),n=!!t&&t.isPrimaryResponsiveNode;return a.createElement("div",{className:es.cx.flex.$},n&&a.createElement("span",{className:es.cx.colorTextBrand.pr8.$},(0,J.t)("sites.panel.primary")))}function tr(e){let[t,n]=(0,a.useState)(null),[r,l]=(0,a.useState)(!1),i=(0,eT.cJ)(),s=(0,v.md)((0,eE.r8)(e.guid));(0,a.useEffect)(()=>{n(e.isRenaming?e.name:null)},[e.name,e.isRenaming]);let o=tn({abbreviatedStateName:e.abbreviatedStateName,guid:e.guid,shouldShowGuids:e.shouldShowGuids,name:e.name,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),c=k.rf(e.recordingKey,e.focusOnSingleClick?"click":"dblclick",()=>{eh.F.trackFromFullscreen("action_rename_selection",{source:"click"}),e.startRenaming(e.guid)}),d=(0,a.useRef)(null),u=(0,a.useCallback)(e=>{e&&(d.current=e,d.current.select())},[]),p=k.AF(e.recordingKey,"change",e=>{n(e.currentTarget?.value)}),_=k.v_(e.recordingKey,"keydown",t=>{if(!r){if(t.keyCode===C.Uz.ESCAPE)e.stopRenaming(!1);else if(t.keyCode===C.Uz.ENTER)e.stopRenaming(!0,d.current?.value,o);else{if(t.keyCode!==C.Uz.TAB)return(0,ed.jr)(t,ed.W0.NO),k.aH;t.preventDefault(),e.stopRenaming(!0,d.current?.value,o),t.shiftKey?e.prevNodeGuid&&e.startRenaming(e.prevNodeGuid):e.nextNodeGuid&&e.startRenaming(e.nextNodeGuid)}}}),h=k.iQ(e.recordingKey,"blur",()=>{e.stopRenaming(!0,d.current?.value,o)}),g=e.horizontalScrollEnabled&&!e.isFixedOnHScroll;return a.createElement(a.Fragment,null,!e.hideSvg&&a.createElement(eU.Bf,{guid:e.guid,navigateAndPanTo:e.navigateAndPanTo,isDefaultResponsiveSet:e.isDefaultResponsiveSet,disabled:e.disabled,locked:e.locked,hovered:e.hovered,outOfView:e.outOfView,scrollLeft:e.scrollLeft,horizontalScrollEnabled:e.horizontalScrollEnabled,useUI3Icon:e.useUI3Icons,panelType:e.panelType}),(e.isThumbnail||e.isFavicon||e.isSocialImage)&&a.createElement(ei.B,{"data-tooltip":e.isFavicon?(0,J.t)("fullscreen.object_row.favicon"):e.isSocialImage?(0,J.t)("fullscreen.object_row.social_image"):(0,J.t)("fullscreen.object_row.file_thumbnail"),"data-tooltip-show-above":!0,"data-tooltip-type":eg.Ib.TEXT,className:eS.V3,svg:te.A}),e.isRenaming&&a.createElement(ev.ks,{className:m()(eS.hF,e.inputTextOverridesClassName),innerRef:u,value:null!==t?t:e.name,onChange:p,onKeyDown:_,onBlur:h,onCompositionStart:()=>l(!0),onCompositionEnd:()=>l(!1),spellCheck:!1,autoCorrect:"off",autoCapitalize:"off"}),!e.isRenaming&&a.createElement("span",{className:m()(eS.qg,e.staticTextOverridesClassName,{[es.cx.justifyBetween.$]:i,[es.cx.eventsAuto.$]:e.isFixedOnHScroll}),onDoubleClick:e.focusOnSingleClick?void 0:c,onClick:e.focusOnSingleClick?c:void 0,dir:"auto"},e.horizontalScrollEnabled&&a.createElement("div",{className:eS.Xv,ref:e.layerNamePlaceholderRef},o),a.createElement("div",{className:m()(eS._k,{[eS.r]:!g||e.isHovered}),ref:e.layerNameRef},s&&"pending"!==s.state?s.name:o),e.explicitVariableModeNames&&e.explicitVariableModeNames.length>0&&a.createElement("div",{className:eS.pS},a.createElement(ek,{modeNames:e.explicitVariableModeNames})),!e.isHovered&&i&&a.createElement(ta,{guid:e.guid})))}let tl=a.memo(function(e){var t;let n=(0,a.useRef)(null),[r,l]=(0,a.useState)(null),[i,s]=(0,a.useState)(null),c=(0,a.useCallback)(e=>{s(e)},[]),p=(0,a.useCallback)(e=>{l(e)},[]),_=(0,v.md)(en.eC),h=(t=e.guid,(0,v.md)(en.Fj).has(t)),g=(0,O.GS)(),y=(0,ef._j)()&&g,[f,C]=(0,a.useState)(!1),[S,w]=(0,a.useState)(!1),T=(0,j.Fk)((e,t)=>e.get(t)?.name??"",e.guid),I=tn({abbreviatedStateName:e.abbreviatedStateName,name:T,shouldShowGuids:e.shouldShowGuids,guid:e.guid,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),N=(0,a.useCallback)(()=>{let e=n.current;return!!e&&e.scrollWidth>e.offsetWidth},[]),A=(0,a.useCallback)(()=>{C(N())},[C,N]);(0,a.useEffect)(()=>{A()},[A]);let{onContextMenu:x}=e,M=(0,k.rf)(e.recordingKey,"contextmenu",(0,a.useCallback)(t=>{x&&x(e.guid,t)},[x,e.guid])),{onMouseEnter:P}=e,R=(0,a.useCallback)(t=>{A(),w(!0),P&&P(e.guid,t)},[P,e.guid,A]),L=(0,a.useCallback)(()=>{w(!1)},[]),{lockMouseDown:D}=e,F=(0,a.useCallback)(t=>{D&&D(e.guid,t)},[D,e.guid]),{visibleMouseDown:K}=e,B=(0,a.useCallback)(t=>{K&&K(e.guid,t)},[K,e.guid]),{onDragStartCallback:G}=e,V=(0,a.useCallback)(t=>{t.dataTransfer.effectAllowed="none",null!=G&&G(e.guid,t)},[G,e.guid]),{onDragOverCallback:U}=e,H=(0,a.useCallback)(t=>{null!=U&&U(e.guid,t)},[U,e.guid]),{onDragDropCallback:z}=e,W=(0,a.useCallback)(t=>{null!=z&&z(e.guid,t)},[z,e.guid]),{onDragEnterCallback:$}=e,Y=(0,a.useCallback)(t=>{null!=$&&$(e.guid,t)},[$,e.guid]),{onDragLeaveCallback:X}=e,Z=(0,a.useCallback)(t=>{null!=X&&X(e.guid,t)},[X,e.guid]),q=(0,a.useCallback)(()=>(0,e_.pr)(e.nodeMemoryUsage,e.rootMemoryUsage,!0),[e.nodeMemoryUsage,e.rootMemoryUsage]),J=!e.visible||e.isAncestorHidden&&e.panelType!==ef.g$.CodeComponent,Q=e.locked||e.isAncestorLocked,ee=(0,b.kc)().ui3_left_panel_selection_height,et=(e.level+3)*(0,E.jz)(e9.indentWidthWithMargin)+((0,E.jz)(e9.scrollBarYWidth)+(0,E.jz)(e9.trackPadding))>e.panelWidth+e.scrollLeft,ea=0===e.level,er=(0,ec.A0)(o.uQ6.LAYERS_PANEL_ACTION_ROW),el=(0,u.UN)().get(e.guid),ei=er&&ea&&S&&el&&(0,ec.sq)(el),ed=v.md(eE.r8(e.guid))?.state==="pending",eu={transform:`translate3d(0px, ${e.top}px, 0)`,height:eq.FL,"--row-actions-width":ei?e7.gdM:e7.yj4},ep=e.fixed&&0!==e.panelWidth,em="FRAME"===e.nodeType,eh=m()({[eS.nM]:!0,[eS.M4]:ea,[eS.Gt]:em&&!(0,eW.R)(e)&&!e.resizeToFit&&!e.isStateGroup,[eS.Os]:em&&!(0,eW.R)(e)&&e.resizeToFit,[eS.t$]:em&&(0,eW.R)(e),[eS.DT]:e.isStateGroup,[eS.a6]:(0,d.MT)(e.nodeType),[eS.uW]:"SECTION"===e.nodeType,[eS.HR]:"SYMBOL"===e.nodeType,[eS.rS]:"CODE_COMPONENT"===e.nodeType,[eS.bY]:"CODE_INSTANCE"===e.nodeType,[eS.$L]:"CODE_LAYER"===e.nodeType,[eS.xG]:"MODULE"===e.nodeType,[eS.KJ]:"INSTANCE"===e.nodeType,[eS.iE]:e.isStamp,[eS.Zt]:"HIGHLIGHT"===e.nodeType,[eS.HL]:"WIDGET"===e.nodeType||e.isWidgetSublayer,[eS.j3]:e.isDescendantOfSymbol,[eS.cb]:e.isDescendantOfInstance,[eS.vp]:e.isDescendantOfModule,[eS.dK]:e.mask,[eS.i9]:(0,ef.qW)(e.panelType),[eS.Zu]:!!ep,[eS.lh]:!!e.layerAbove,[eS.yo]:e.isHovered,[eS.wH]:e.isSelected,[eS.ct]:e.isAncestorSelected,[eS.r9]:J,[eS.xt]:Q,[eS.sz]:e.hasChildren&&e.isExpanded,[eS.uC]:ee&&e.isLayerAboveSelected&&e.isLayerBelowSelected,[eS.ow]:ee&&e.isLayerAboveSelected&&!e.isLayerBelowSelected,[eS.sc]:ee&&e.isLayerBelowSelected&&!e.isLayerAboveSelected}),ev=e.versionHistory?.activeId&&"current_version"===e.versionHistory.activeId,eC=e.showMemoryUsage&&e.showInFileMemoryPercentage&&!e.isRenaming&&ev,{registerWidth:ew}=(0,eb.gz)(),ek=!!y&&!!ep;(0,a.useEffect)(()=>{if(y&&i&&r){if(ek||!i||!r)return;let t=()=>{let t=i.getBoundingClientRect().right-r.getBoundingClientRect().left+(0,E.jz)(e9.rowActionsWidth);ew(e.guid,t)};t();let n=new ResizeObserver(t);return n.observe(i),n.observe(r),()=>{n.disconnect()}}},[y,ek,i,r,e.guid,ew]);let eT=a.createElement(a.Fragment,null,ei&&a.createElement(e5,{disabled:ed}),a.createElement(eZ,{recordingKey:k.Pt(e,"lockIcon"),locked:e.locked,isAncestorLocked:e.isAncestorLocked,onMouseDown:F}),a.createElement(e8,{recordingKey:k.Pt(e,"visibleIcon"),visible:e.visible,isAncestorHidden:e.isAncestorHidden,onMouseDown:B})),eI=!e.hideRowActions&&!e.isRenaming&&!e.isReadOnly&&!e.isDragging&&!et;function eN(t=!1){return a.createElement(a.Fragment,null,a.createElement(eV,{guid:e.guid,mask:e.mask,level:e.level,hasChildren:e.hasChildren,isExpanded:e.isExpanded,displayOrder:e.displayOrder,isMaskedAtLevels:e.isMaskedAtLevels,isLastMaskedAtLevels:e.isLastMaskedAtLevels,dispatch:e.dispatch,expandMouseDown:e.expandMouseDown,currentPage:e.currentPage,recordingKey:t?void 0:k.Pt(e,"indents"),hasBullet:h,disabled:J,locked:Q,hovered:e.isHovered,outOfView:et,scrollLeft:e.scrollLeft,horizontalScrollEnabled:y,isMeasurementNode:t}),a.createElement(tr,{...e,layerNameRef:n,layerNamePlaceholderRef:c,disabled:J,locked:Q,hovered:e.isHovered,outOfView:et,scrollLeft:e.scrollLeft,horizontalScrollEnabled:y,useUI3Icons:g,name:T,isFixedOnHScroll:ek,recordingKey:t?void 0:e.recordingKey}),eC&&a.createElement("span",{className:eS.HY,dir:"auto"},q()),eI&&a.createElement("div",{className:eS.cm},y?null:eT))}let eA=a.createElement("div",{className:eS.u4,"data-tooltip-type":eg.Ib.TEXT,"data-tooltip":f?I:null,"data-tooltip-max-lines":4,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,style:{width:ek?`${e.panelWidth}px`:`${e.panelWidth+e.scrollLeft}px`}},eN()),ex=a.createElement("div",{ref:p,className:eS.SA},a.createElement("div",{className:eS.u4},eN(!0)));return a.createElement("div",{className:eh,style:eu,onContextMenu:M,onMouseEnter:R,onMouseLeave:L,draggable:!1,onDragOver:H,onDrop:W,onDragStart:V,onDragEnter:Y,onDragLeave:Z,"data-testid":e.hasChildren?"layer-row-with-children":"layer-row","data-onboarding-key":e.guid===_&&e.isSelected&&(!e.isRowInView||e.isRowInView(e,r))?tt:void 0},eI&&y&&a.createElement("div",{className:eS.cm,style:eo.sx.absolute.wFull.eventsNone.$},a.createElement("div",{className:es.cx.wFull.$}),a.createElement("div",{className:eS.V0},a.createElement("div",{className:eS.Hz},eT))),a.createElement(ey.e,{condition:ek,wrapper:e=>a.createElement("div",{style:eo.sx.absolute.wFull.eventsNone.$},a.createElement("div",{className:eS.n4},a.createElement("div",null,e)))},a.createElement(a.Fragment,null,eA,y&&ex)))});tl.displayName="ObjectRow";let ti=a.memo(function(e){let t=(0,eu.Z)("prototype_sections_zoom"),n=a.useCallback(e=>{t((0,em.QZ)({nodeId:e,alwaysPan:!0}))},[t]),r=(0,ep.o3)(e.guid);return a.createElement(tl,{...e,explicitVariableModeNames:r,navigateAndPanTo:n})});var ts=n(618120),to=n(978760);function tc(){let{show:e,isShowing:t,complete:n,uniqueId:r}=(0,et.e)({overlay:to.xtb,priority:er.N.SECONDARY_MODAL}),l=ea.y.isApple(),i=a.useMemo(()=>a.createElement(q.S,{shortcut:l?"\u2303\u21E7A":"Ctrl+Alt+Shift+A"}),[l]);return(0,ee.E)(r,en.in,()=>{e({canShow:()=>!!(0,b.kc)().ce_al_show_msal_onboarding})}),a.createElement(el.rq,{isShowing:t,targetKey:tt,arrowPosition:ts.F_.LEFT_TITLE,trackingContextName:"MSAL Onboarding Overlay",title:a.createElement("p",{"data-testid":"msal-onboarding-title"},(0,J.tx)("fullscreen.msal_onboarding.header_with_shortcut",{msalShortcut:i})),description:(0,J.tx)("fullscreen.msal_onboarding.body"),primaryCta:{label:(0,J.tx)("general.got_it"),type:"button",onClick:n,variantOverride:"primary",ctaTrackingDescriptor:Q.c.GOT_IT},secondaryCta:{label:(0,J.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/5731482952599#suggest",ctaTrackingDescriptor:Q.c.LEARN_MORE},onClose:n,onTargetLost:n,emphasized:!0,disableHighlight:!0})}var td=n(102774),tu=n(550114),tp=n(989364),tm=n(716034);let t_=(0,n(897214).Wh)(()=>(0,tm.eU)(0));function th({guid:e,objectRow:t,setRowWidth:n}){let r=(0,a.useRef)(null),[l,i]=(0,a.useState)(),{rowWidthsCache:s}=(0,eb.gz)();return(0,a.useEffect)(()=>{if(!r.current||!e)return;let t=s[e];void 0!==t&&(t!==l?.width||e!==l?.guid)&&i({width:t,guid:e})}),(0,a.useEffect)(()=>{l?.guid===e&&n({guid:e,width:l.width})},[l,e,n]),a.createElement("div",{ref:r,className:es.cx.absolute.invisible.$},t)}var tg=n(668092);function ty(e){let{top:t,width:n,guid:r,level:l,onMouseEnter:i,recordingKey:s}=e,o=k.rf(s,"click",e=>{G.bd([r])}),c={transform:`translate3d(0px, ${t}px, 0)`,width:n,height:eq.FL},d={width:ef.iy*l*2,marginRight:1===l?ef.iy/2:0};return a.createElement("div",{className:"layer_expansion_row--layerExpansionRow--G8Twa object_row--row--HIYa5",style:c,onMouseDown:e=>e.stopPropagation(),onClick:o,onMouseEnter:i,role:"button",tabIndex:0},a.createElement("span",{className:"layer_expansion_row--layerExpansionIndent--Bg5Df object_row--indent--uZlad",style:d}),a.createElement("span",{className:"layer_expansion_row--iconWrapper--J3NJb object_row--iconWrapper--ivRSW"},a.createElement(ei.B,{svg:tg.A})),a.createElement("span",{className:"layer_expansion_row--rowText--yhMnt object_row--rowText--3qo7Q ellipsis--ellipsis--Tjyfa"},(0,J.tx)("design_systems.component_properties.see_all_layers")))}class tE extends k.o6{renderPlainIndents(e){let t=[];for(let n=0;n<e+1;n++)t.push(a.createElement("span",{key:n,className:eS.pZ}));return a.createElement("span",{className:eS.Wm},t)}render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:eq.nI},t=m()(eS.nM,eS.bV,{[eS.ct]:this.props.isParentSelected,[eS.j3]:this.props.isDescendantOfSymbol,[eS.cb]:this.props.isDescendantOfInstance});return a.createElement("div",{className:t,style:e},this.renderPlainIndents(this.props.level),this.props.sectionType===o.KjJ.FIXED?(0,J.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed"):(0,J.t)("fullscreen.properties_panel.scrolls"))}}tE.displayName="SectionRow";var tf=n(966966),tb=n(103212);let tv="objects_panel--dropTargetBox--4SX8i",tC=new S.V;function tS(e){return"object"===e.rowType?e.guid:"layer-expansion"===e.rowType?`expand-${e.containingPrimaryInstanceGUID}`:e.sectionId}class tw extends k.o6{constructor(e){super(e),this.state={scrollTop:0,scrollLeft:0,mouseDown:null,dropTarget:null,needsScrollLine:!1,rowToScrollToData:null},this.cachedAllRowData=[],this.topByGuid=Object.create(null),this.leftByGuid=Object.create(null),this.totalHeight=0,this.cachedAllObjectRowDataMap={},this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.rangeSelectAnchorNodeId=null,this.getScene=()=>this.props.sceneGraph||(0,u.UN)(),this.initializeRows=e=>{let t=this.getScene(),n=e.customRowBuilder?e.customRowBuilder():(0,tf.Sk)(t,e.topNodeFields,e.showImmutableFrameSublayers,e.temporarilyExpandedInstanceLayers,e.includeTopNode);this.topByGuid=n.topByGuid,this.leftByGuid=n.leftByGuid,this.sectionById=n.sectionById,this.totalHeight=n.totalHeight,this.cachedAllRowData=n.rowData,this.cachedAllObjectRowDataMap=n.rowData.filter(ef.N1).reduce((e,t)=>(e[t.guid]=t,e),{})},this.updateAllVisibleRowGuids=()=>{let e=[];for(let t of this.cachedAllRowData)(0,ef.N1)(t)&&e.push(t.guid);this.context.registerGuids(e)},this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=0,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.hasCrossedDragThreshold=!1,this.onLeftPanelCollapsedChange=e=>{if(!e){let e=this.getTopSelectedNodeId();e&&this.scrollToNode({nodeId:e})}},this.scrollToNodeIdAfterUpdate=null,this.scrollToNode=({nodeId:e,forStackInsertion:t})=>{let n=this.topByGuid[e],a=void 0!==n,r=!this.props.horizontalScrollEnabled||this.state.rowToScrollToData?.guid===e;if(!a||!r){let t=this.getScene().get(e);t&&t.parentGuid&&G.hq(t.parentGuid),this.scrollToNodeIdAfterUpdate=e;return}let l=!this.isVerticallyVisible(n,n+eq.FL),i=this.props.horizontalScrollEnabled&&this.shouldHorizontallyAutoscroll(e);(l||i)&&this.scrollNodeIntoView(e,{forStackInsertion:t})},this.recalculateLayout=()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1},this.recalculateRequested=!1,this.requestRecalculateLayout=()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)},this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.hasTrackedHScrollEvent=!1,this.onScroll=e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequestY&&(this.frameRequestY=requestAnimationFrame(this.setScrollTopState)),null!=this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50),this.props.onScroll(e),this.setNeedsScrollLine(e),v.zl.set(eE.uK,{autoScroll:!1})},this.onScrollLeftChanged=(e,t)=>{this.props.horizontalScrollEnabled&&(t||this.props.stopRenaming(!1),this.nextScrollLeft=e,null==this.frameRequestX&&(this.frameRequestX=requestAnimationFrame(this.setScrollLeftState)),this.hasTrackedHScrollEvent||((0,y.sx)("layers_horizontal_scroll"),this.hasTrackedHScrollEvent=!0))},this.doneScrolling=()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)},this.computeScrollDelta=e=>{let t=e/eq.FL;return eq.FL*t*t},this.frameRequestY=null,this.frameRequestX=null,this.nextScrollTop=0,this.nextScrollLeft=0,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequestY=null},this.setScrollLeftState=()=>{this.setState({scrollLeft:this.nextScrollLeft}),this.frameRequestX=null},this.isNodeSticky=e=>((0,T.xO)(s.e.FIGJAM,this.props),e.parentGuid===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=e=>{let t=this.getScene(),n=e.parentGuid?t.get(e.parentGuid):null;for(;n&&n.guid!==this.props.currentPage;){if(this.isNodeSticky(n))return!0;n=n.parentGuid?t.get(n.parentGuid):null}return!1},this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){let t;let n=this.state.scrollTop,a=(e,t,n)=>{if("object"!==e.rowType)return!1;let a=this.findStickyHeader(e,t,n);if(a){let t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=a:this.renderedVisibleRowProps.push(a)}return!!a},r=null;for(let l=0;l<e.length;l++)if(0===(t=e[l]).level){if(r&&a(r,r.top,t.top)||t.top>n)return;r=t}(0,l.KF)(!!r,"has at least one top level section"),a(r,r.top,Number.POSITIVE_INFINITY)}},this.scrollNodeIntoView=(e,t)=>{let n=t&&t.fromAIRename||!1,a=t&&t.forStackInsertion||!1;if(null==this.topByGuid[e]||this.props.horizontalScrollEnabled&&this.shouldHorizontallyAutoscroll(e)&&this.state.rowToScrollToData?.guid!==e||!this.scrollContainerEl||!this.scrollContainer)return;let r=this.topByGuid[e],l=this.state.scrollTop,i=this.scrollContainerHeight();if(this.stickyHeaderGuid===e){a&&this.scrollContainer.scrollTo(r-1);return}let s=this.getScene().get(e);if(!s)return;n||v.zl.set(eE.uK,{autoScroll:!1});let o=this.isAncestorSticky(s);if(o&&r<l+eq.FL?this.scrollContainer.scrollTo(r-eq.FL):!o&&r<l?this.scrollContainer.scrollTo(r):r+eq.FL>l+i&&this.scrollContainer.scrollTo(r-i/2),this.props.horizontalScrollEnabled&&this.shouldHorizontallyAutoscroll(e)&&this.state.rowToScrollToData?.guid===e&&this.state.rowToScrollToData?.width){let t=this.getNewHorizontalAutoscrollPosition(e,this.state.rowToScrollToData?.width);void 0!==t&&this.scrollContainer.scrollToLeft(t)}},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu){this.props.onRowContextMenu(e,t);return}let n=this.getScene().get(e);if(!n)return;(0,Y.sp)(this.getScene(),this.props.sceneGraphSelection,n.guid)||this.updateSelection(n.guid);let{clientX:a,clientY:r}=t;this.props.dispatch(P.j7({type:R.Rb,data:{clientX:a,clientY:r}}))},this.rowContainerMouseDown=k.cZ(this,"mousedown",e=>{let t=this.guidAtMousePosition(e.clientY);if(!t)return;if(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),(this.props.allowToggleSelection??!0)&&(0,C.Fo)(e)){this.toggleSelected(t);return}(0,b.kc)().version_diffing&&this.props.editModeType===o.m1T.COMPARE_CHANGES&&o.glU.setActiveChange(t)&&this.props.showViewChangesNotification(t);let n=(0,i.IL)(this.props.sceneGraphSelection),a=null;if(n?a=n:this.rangeSelectAnchorNodeId&&(0,Y.K3)(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)&&(a=this.rangeSelectAnchorNodeId),(this.props.allowSelectRange??!0)&&e.shiftKey&&a){G.GL(a,t),F.Y5.commit();return}(0,Y.sp)(this.getScene(),this.props.sceneGraphSelection,t)||(this.updateSelection(t),this.rangeSelectAnchorNodeId=t),(0,L.i)(e)||this.setState({mouseDown:new N.Mi(e.clientX,e.clientY)})},{recordMetadata:e=>{let t=this.guidAtMousePosition(e.clientY);return(0,l.KF)(!!t,"interaction test does not support rare case of no guid under mouse (empty layers panel?)"),{path:(0,ef.eT)(t,this.getScene()),clientX:e.clientX}},playbackMetadata:e=>{let t=this.topByGuid[(0,ef.g2)(e.path,this.getScene(),this.props.currentPage)]+eq.FL/2;return{clientY:this.clientY(t),clientX:e.clientX}}}),this.onMouseMove=e=>{if(this.scrollContainer&&this.scrollContainerEl&&this.state.mouseDown&&!this.props.renamingGuid){this.state.mouseDown.distanceTo({x:e.clientX,y:e.clientY})>3&&(this.hasCrossedDragThreshold=!0);let t=this.relativeY(e.clientY),n=this.state.scrollTop,a=this.scrollContainerHeight();if(a>0){if(t<n){this.scrollContainer.scrollTo(n-this.computeScrollDelta(n-t));return}if(t>n+a){this.scrollContainer.scrollTo(n+this.computeScrollDelta(t-n-a));return}}let r=(0,ef.OL)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ef.g$.Object,this.props.topNodeFields);this.state.dropTarget&&r&&this.state.dropTarget.index!==r.index&&f.H.trigger(o.JA.SNAP),(this.hasCrossedDragThreshold||!r)&&(this.expandDropTargetIfNeeded(r,t),this.setState({dropTarget:r}))}},this.onMouseUp=k.cZ(this,"mouseup",e=>{let t=this.getScene(),n=!1;if(this.hasCrossedDragThreshold=!1,this.state.mouseDown&&!this.props.renamingGuid){if(n=!0,3>=this.state.mouseDown.distanceTo(new N.Mi(e.clientX,e.clientY))){if(!(0,L.i)(e)){let t=this.guidAtMousePosition(e.clientY);t?this.updateSelection(t):n=!1}}else if(!this.props.isReadOnly){let n=(0,ef.OL)(t,this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ef.g$.Object,this.props.topNodeFields);if(!n)return;let{parentGuid:a,index:r,section:l}=n,i=t.get(a);if(!i||void 0===r)return;let s=e.altKey,d=(0,ef.Lc)(i,r);s?c.l7.user("duplicate-selection",()=>G.kH(i.guid,d,l)):c.l7.user("reparent-selection",()=>G.Yu(i.guid,d,l)),G.hq(i.guid),o.Egt.clearTemporarilyExpanded(),F.Y5.commit()}}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(n=!0,this.isDraggingToToggle=null,F.Y5.commit()),!n)return k.aH},{recordMetadata:e=>{let t=this.getScene(),n=this.guidAtMousePosition(e.clientY),a=this.relativeY(e.clientY);(0,l.KF)(!!n,"interaction test does not support rare case of no guid under mouse (empty layers panel?)");let r=this.topByGuid[n];return{path:(0,ef.eT)(n,t),treatAsEndOfClick:!!(this.state.mouseDown&&5>this.state.mouseDown.distanceTo(new N.Mi(e.clientX,e.clientY))),belowAll:a>r+eq.FL,clientX:e.clientX}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=this.topByGuid[(0,ef.g2)(e.path,this.getScene(),this.props.currentPage)]+eq.FL/2;return e.belowAll&&(t+=eq.FL),{clientY:this.clientY(t),clientX:e.clientX}}}}),this.setRowToScrollToData=e=>{this.setState({rowToScrollToData:e})},this.getNewHorizontalAutoscrollPosition=(e,t)=>{let n=this.leftByGuid[e];if(void 0===n)return;let a=n-16;return this.isOutOfViewLeft(e)?Math.max(0,a):this.isOutOfViewRight(e)&&t?t-n>this.props.width?a:t-this.props.width:void 0},this.onScrollContainerMouseDown=()=>{G.wr(),F.Y5.commit()},this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerEl=e?.getClipContainer()},this.containerMouseLeave=e=>{G.Uc(""),null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout)},this.expandMouseDown=(e,t)=>{let n=this.getScene().get(e);if(!n)return;t.stopPropagation(),(0,y.sx)("objects_panel_expand",{nonInteraction:0});let a=!n.isExpanded;t.altKey?G.sK(n.guid,a):(0,C.Fo)(t)&&!(0,i.Im)(this.props.sceneGraphSelection)?G.yF(n.guid,a):G.sq(n.guid,a),this.justToggledExpandedGuid=n.guid},this.isDraggingToToggle=null,this.lockMouseDown=(e,t)=>{let n=this.getScene().get(e);if(!n||this.props.isReadOnly)return;t.stopPropagation();let a=!n.locked;this.isDraggingToToggle={locked:a},c.l7.user("set-locked",()=>{G.tU(n.guid,a,t.altKey)})},this.visibleMouseDown=(e,t)=>{let n=this.getScene().get(e);if(!n||this.props.isReadOnly)return;t.stopPropagation();let a=!n.visible;this.isDraggingToToggle={visible:a},c.l7.user("set-visible",()=>{G.pr(n.guid,a,t.altKey)})},this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=(e,t)=>{let n=this.getScene().get(e);if(!n)return;let a=()=>{if(this.isDraggingToToggle){let{locked:e,visible:t}=this.isDraggingToToggle;null!=e&&c.l7.user("set-locked",()=>(function(e,t,n){if(!e)return;let a=!1;tI(e,n,e=>{a=a||e.locked!==t,e.locked=t}),a&&D.wt.reportAnyPropertyChange(["locked"])})(n,e,!1)),null!=t&&c.l7.user("set-visible",()=>(function(e,t,n){if(!e)return;let a=!1;tI(e,n,e=>{a=a||e.visible!==t,e.visible=t}),a&&D.wt.reportAnyPropertyChange(["visible"])})(n,t,!1))}this.state.mouseDown||G.Uc(n.guid)};w.Ay.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=a:a()},this.onDragDrop=(e,t)=>{this.onMouseUp(t.nativeEvent)},this.onDragOver=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.onDragEnter=(e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)},this.onDragLeave=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.renderedVisibleRowProps=[],this.touchAdapter=new $(this,this.rowContainerMouseDown,this.onMouseMove,this.onMouseUp,{delayInMS:500}),this.getIsRowInView=(e,t)=>{if(!this.scrollContainer)return!0;let n=this.scrollContainer.getClipContainer().getBoundingClientRect();if(!t)return!0;let a=t.getBoundingClientRect();return e.fixed&&0!==this.props.width||a.top>=n.top&&a.bottom<=n.bottom},this.recalculateLayout(),this.initializeRows(this.props),this.scrollContainerInnerRef=a.createRef()}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),F.Y5.fromFullscreen.on("scrollToNode",this.scrollToNode);let e=o.glU&&o.glU.getFirstSelectedNodeIdForCurrentPage();e&&this.scrollToNode({nodeId:e}),this.updateAllVisibleRowGuids(),this.props.scrollContainerInnerRef?.(this.scrollContainerInnerRef)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),F.Y5.fromFullscreen.removeListener("scrollToNode",this.scrollToNode)}updateSelection(e){this.props.onSelectionUpdated?this.props.onSelectionUpdated(e):((0,U.S)("panel"),G.tJ([e]),F.Y5.commit())}UNSAFE_componentWillUpdate(e,t){e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid&&(this.scrollToNodeIdAfterUpdate=e.renamingGuid);let n=this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter,a=this.props.customRowBuilder!==e.customRowBuilder;if((n||a||this.props.currentPage!==e.currentPage||this.props.showImmutableFrameSublayers!==e.showImmutableFrameSublayers||!h()(this.props.temporarilyExpandedInstanceLayers,e.temporarilyExpandedInstanceLayers)||!h()(this.props.temporarilyHoveredNodes,e.temporarilyHoveredNodes))&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,n){if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let t of this.renderedVisibleRowProps)if("object"===t.rowType&&this.scrollContainer&&(0,ef.U$)(t,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[t.guid]){e=!0;break}let t=null,n=null;for(let a of this.renderedVisibleRowProps)"object"===a.rowType&&this.scrollContainer&&(0,ef.U$)(a,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&((!e||this.props.sceneGraphSelection[a.guid])&&(null===t||t>a.top)&&(t=a.top,this.anchorNodeId=a.guid),(null===n||n>a.top)&&(n=a.top,this.topNodeDelta=this.topByGuid[a.guid]-a.top))}}}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),this.scrollContainer){if(this.updateAllVisibleRowGuids(),this.scrollToNodeIdAfterUpdate){this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate);let e=void 0!==this.topByGuid[this.scrollToNodeIdAfterUpdate],t=!this.props.horizontalScrollEnabled||this.state.rowToScrollToData?.guid===this.scrollToNodeIdAfterUpdate;e&&t&&(this.scrollToNodeIdAfterUpdate=null)}else if(this.scrollAfterNodeExpanded)null!=this.lastCollapsedScrollPosition&&this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{let e=this.scrollContainer.getScrollTop()+this.topNodeDelta,t=!1;for(let n of this.renderedVisibleRowProps)if("object"===n.rowType&&n.guid===this.anchorNodeId){t=(0,ef.U$)(n,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.anchorNodeId&&this.scrollNodeIntoView(this.anchorNodeId)}}}getTopSelectedNodeId(){let e;let t=Object.keys(this.props.sceneGraphSelection),n=1/0;for(let a of t){let t=this.topByGuid[a];t<n&&(n=t,e=a)}return e}findStickyHeader(e,t,n){let a=this.state.scrollTop,r=this.getScene().get(e.guid);if(!r||!e.hasChildren||!(e.isExpanded||e.isTemporarilyExpanded))return null;let l=t<=a&&n>a+eq.FL,i=n>a&&n<=a+eq.FL;return(this.scrollAfterNodeExpanded||l||i)&&this.isNodeSticky(r)?l?(this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}):i?{...e,top:n-eq.FL,layerAbove:!0}:this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid?(this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}):null:null}expandDropTargetIfNeeded(e,t){let n=null;if(e&&"sticky"!==e.parentTop){let a=this.getScene().get(e.parentGuid);(0,l.KF)(!!a,"parentGuid should point to a valid node");let r=t>e.parentTop+eq.FL/3&&t<e.parentTop+2*eq.FL/3;a.uiOrderedChildren.length&&r&&(n=a.guid)}this.lastExpansionTarget!==n&&(this.lastExpansionTarget&&null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),n&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&G.Ir(n,!0)},1e3)),this.lastExpansionTarget=n)}toggleSelected(e){this.props.sceneGraphSelection[e]?G.D$([e]):(G.Dh([e]),this.rangeSelectAnchorNodeId=e),F.Y5.commit()}relativeY(e){let t=(0,I.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=(0,I.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVerticallyVisible(e,t){if(!this.scrollContainerEl)return!0;let n=this.state.scrollTop,a=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return n<e&&t<a}isOutOfViewLeft(e){let t=this.leftByGuid[e];return void 0!==t&&t<this.state.scrollLeft-50}isOutOfViewRight(e){let t=this.leftByGuid[e];return void 0!==t&&t+(0,E.jz)(e9.indentWidth)>this.state.scrollLeft+this.props.width-50}shouldHorizontallyAutoscroll(e){return this.props.renamingGuid!==e&&(this.isOutOfViewLeft(e)||this.isOutOfViewRight(e))}guidAtMousePosition(e){return this.mouseOverStickyHeaderGuid(e)||(0,ef.GN)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){return this.scrollContainerEl&&e-this.scrollContainerEl.getBoundingClientRect().top<eq.FL?this.stickyHeaderGuid:null}computeStackOutlineHeight(e,t,n,a){return"sticky"===e?Math.min(t-n,a):Math.min(t-e,a-(e-n))}scrollContainerHeight(){return this.scrollContainerEl?this.scrollContainerEl.clientHeight:0}renderDropTarget(e){let t=null;if(null!=e.parentTop){let n=this.scrollContainerHeight(),r=e.bottomForCanvasStackReparenting,l=eq.FL,i="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid;r&&n&&(l=this.computeStackOutlineHeight(i?"sticky":e.parentTop,r,this.state.scrollTop,n)),t=i?a.createElement("div",{key:"drop-target-box","data-testid":"drop-target-box",className:tv,style:{position:"sticky",width:this.props.width,height:l,zIndex:tb.Wb}}):a.createElement("div",{key:"drop-target-box","data-testid":"drop-target-box",className:tv,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:l}})}let n=null;return null!=e.lineTop&&(n=a.createElement("div",{key:"drop-target-line","data-testid":"drop-target-line",className:"objects_panel--dropTargetLine--vmN9u",style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}})),[t,n]}onContextMenu(e){e.stopPropagation(),e.preventDefault()}hasAtLeastOneRefToHoveredDefId(e){if(!this.props.hoveredPropDef||!this.props.hoveredPropDef.nodeIDs?.length||!this.props.hoveredPropDef.defID)return!1;let t=e.containingSymbolId;if(!t||!this.props.hoveredPropDef.nodeIDs.includes(t))return!1;for(let t of Object.values(e.propRefs))if(t.isLinked&&t.explicitDefID===this.props.hoveredPropDef.defID)return!0;return!1}renderObjectRow(e,t,n,r){let l=t.getNode(e.guid);if(!l||!l.parentGuid)return null;let i=t.getAncestorInfo(l.parentGuid),s=t.getMaskInfo(e.guid),o=(0,Y.K3)(this.props.sceneGraphSelection,e.guid);if(!i||!s)return null;let c=(i.isAncestorSelected||o)&&!i.isAncestorHidden&&this.hasAtLeastOneRefToHoveredDefId(l),u=!!e.prevNodeGuid&&t.getAncestorInfo(e.prevNodeGuid).isAncestorSelected,p=(!!e.prevNodeGuid&&(0,Y.K3)(this.props.sceneGraphSelection,e.prevNodeGuid)||u)&&tf.OZ(this.cachedAllRowData)?.guid!==e.guid,m=!!e.nextNodeGuid&&(0,Y.K3)(this.props.sceneGraphSelection,e.nextNodeGuid)&&tf.w6(this.cachedAllRowData)?.guid!==e.guid;return a.createElement(ti,{key:tC.getKeyForId(e.guid),isReadOnly:this.props.isReadOnly,...e,renderResourceUse:this.props.renderResourceUse,showMemoryUsage:this.props.showMemoryUsage,showInFileMemoryPercentage:this.props.showInFileMemoryPercentage,nodeMemoryUsage:l.nodeMemoryUsage,rootMemoryUsage:l.rootMemoryUsage,isAncestorHidden:i.isAncestorHidden,isAncestorLocked:i.isAncestorLocked,isAncestorSelected:i.isAncestorSelected,isLayerAboveSelected:p,isLayerBelowSelected:m,displayOrder:i.childrenDisplayOrder,isMaskedAtLevels:s.isMaskedAtLevels,isLastMaskedAtLevels:s.isLastMaskedAtLevels,panelWidth:this.props.width,scrollLeft:this.state.scrollLeft,abbreviatedStateName:l.isState?l.stateAbbreviatedName:null,nodeType:l.type,isStamp:(0,d.GI)(l),visible:l.visible,mask:l.mask,locked:l.locked,resizeToFit:l.resizeToFit,stackMode:l.stackMode,isStateGroup:l.isStateGroup,isState:l.isState,scrollDirection:l.scrollDirection,booleanOperation:l.booleanOperation,isStaticImage:l.hasEnabledStaticImagePaint,isGIF:l.hasEnabledAnimatedPaint,cornerRadius:l.cornerRadius,objectsPanelThumbnailId:l.objectsPanelThumbnailId,isWidgetSublayer:!!l.isInWidget,hasChildren:l.isExpandable||e.hasChildren||(0,X.vo)(l,this.getScene()),isExpanded:e.isExpanded||e.isTemporarilyExpanded,isHovered:this.props.hoveredNode===e.guid||this.props.temporarilyHoveredNodes.includes(e.guid)||c,isSelected:o,isRenaming:this.props.renamingGuid===e.guid,isDragging:!!this.state.dropTarget,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,onContextMenu:this.rowContextMenu,expandMouseDown:this.expandMouseDown,lockMouseDown:this.lockMouseDown,visibleMouseDown:this.visibleMouseDown,onMouseEnter:this.rowMouseEnter,dispatch:this.props.dispatch,shouldShowGuids:this.props.shouldShowGuids,currentPage:this.props.currentPage,onDragDropCallback:this.onDragDrop,onDragOverCallback:this.onDragOver,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,isFavicon:this.props.faviconGuid===e.guid,isSocialImage:this.props.socialImageGuids?.split(",").includes(e.guid),isThumbnail:this.props.thumbnailGuid===e.guid,layerChangeStatus:l.nodeChangeStatus,versionHistory:this.props.versionHistory,userId:this.props.userId,hideRowActions:this.props.hideRowActions,isDefaultResponsiveSet:this.props.topNodeFields?.defaultResponsiveSetId===e.guid,isResponsiveSet:l.isResponsiveSet,panelType:this.props.panelType??ef.g$.Object,isRowInView:n,recordingKey:r?void 0:e.recordingKey})}renderLayerExpansionRow(e){let t=tC.getKeyForId(tS(e)),n=this.props.width+(this.props.horizontalScrollEnabled?this.state.scrollLeft:0);return a.createElement(ty,{key:t,top:e.top,width:n,guid:e.containingPrimaryInstanceGUID,level:e.level,onMouseEnter:()=>G.Uc(""),dispatch:this.props.dispatch,recordingKey:k.Pt(this.props,"layerExpansion",e.containingPrimaryInstanceGUID)})}renderSectionHeader(e){let t=this.sectionById[e.sectionId]&&(0,Y.sp)(this.getScene(),this.props.sceneGraphSelection,this.sectionById[e.sectionId].parentGuid),n=this.props.horizontalScrollEnabled?this.props.scrollWidth:this.props.width;return a.createElement(tE,{key:tC.getKeyForId(e.sectionId),...e,width:n,isParentSelected:t,dispatch:this.props.dispatch})}render(){let e=this.renderedVisibleRowProps,t=this.cachedAllRowData||[];for(let n of(this.renderedVisibleRowProps=(0,ef.Uw)(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t),e))(0,ef.Mq)(n,this.windowInnerHeight,this.state.scrollTop)||tC.freeKeyForId(tS(n));this.renderedVisibleRowProps.sort((e,t)=>tC.getKeyForId(tS(e))-tC.getKeyForId(tS(t)));let n=this.props.nodeInfoCache||new tf.nV(this.getScene(),this.props.sceneGraphSelection),r=[];for(let e of this.renderedVisibleRowProps)"object"===e.rowType?r.push(this.renderObjectRow(e,n,this.getIsRowInView)):"layer-expansion"===e.rowType?r.push(this.renderLayerExpansionRow(e)):r.push(this.renderSectionHeader(e));var l=null;if(this.scrollToNodeIdAfterUpdate){let e=this.cachedAllObjectRowDataMap[this.scrollToNodeIdAfterUpdate];void 0!==e&&(0,ef.N1)(e)&&(l=this.renderObjectRow(e,n,this.getIsRowInView,!0))}if(!this.props.hideCanvasDropTargets&&this.props.reparentIntoStackInfo&&this.props.sceneGraph){let e=this.props.reparentIntoStackInfo.indexInParent,t=this.props.reparentIntoStackInfo.parentGuid,n=this.props.sceneGraph.get(t);n&&r.push(...this.renderDropTarget((0,ef.Gs)(n,this.topByGuid,this.props.sceneGraph,this.totalHeight,e)))}else!this.props.isReadOnly&&this.state.dropTarget&&r.push(...this.renderDropTarget(this.state.dropTarget));let i=this.stickyHeaderGuid||!this.state.needsScrollLine?"objects_panel--scrollContainer--h6khG":"objects_panel--scrollContainerWithBorder--SR2sm objects_panel--scrollContainer--h6khG";return a.createElement(a.Fragment,null,a.createElement(th,{objectRow:l,setRowWidth:this.setRowToScrollToData,guid:this.scrollToNodeIdAfterUpdate}),a.createElement(ef.M3,{selection:this.props.sceneGraphSelection,getNode:function(e){return n.getNode(e)??null}}),a.createElement(x.P,{enableOverscroll:!0,recordingKey:k.Pt(this.props,"scrollContainer"),className:m()(i,{"objects_panel--hasPending--0IO3j":this.props.hasPending}),width:this.props.width,onScroll:this.onScroll,onScrollLeftChanged:this.onScrollLeftChanged,initialScrollTop:this.props.initialScrollTop,onMouseDown:this.onScrollContainerMouseDown,onContextMenu:this.onContextMenu,ref:this.scrollContainerRef,scrollContainerRef:this.scrollContainerInnerRef,horizontalScrollBarEnabled:this.props.horizontalScrollEnabled,minContentWidth:this.props.horizontalScrollEnabled?this.props.width:void 0,dataOnboardingKey:this.props.isUI3?void 0:td.m4},a.createElement(tp.jq,{onLeftPanelCollapsedChange:this.onLeftPanelCollapsedChange}),a.createElement(A.V,null,a.createElement("div",{className:m()("objects_panel--rowContainer--03VQD",{"objects_panel--horizontalScrollBarPadding--JfnK4":this.props.horizontalScrollEnabled}),style:{width:Math.max(this.props.scrollWidth??0,this.props.width),height:this.totalHeight},onMouseDown:this.rowContainerMouseDown,onTouchStart:this.touchAdapter.onTouchStart,onMouseLeave:this.containerMouseLeave,"data-testid":"objects-panel"},r))))}}function tk(e){let t=(0,r.wA)(),n=(0,z.J2)((0,K.UK)().showImmutableFrameSublayers),l=(0,z.ut)(o.Ez5?.uiState().reparentIntoStackInfo,null),i=(0,z.J2)(o.Ez5.uiState().renderResourceUse),s=(0,z.J2)(o.Ez5.uiState().showMemoryUsage),c=(0,z.J2)(o.Ez5.uiState().hoveredComponentPropDef),d=(0,z.J2)(o.Ez5.uiState().showInFileMemoryPercentage),u=(0,z.J2)(o.Ez5.canvasViewState().temporarilyHoveredNodes),p=(0,H.TA)(),m=(0,r.d4)(e=>e.mirror.sceneGraphSelection),_=(0,r.d4)(e=>e.mirror.objectsPanelRowRebuildCounter),h=(0,r.d4)(e=>e.mirror.appModel.hoveredNode),y=(0,r.d4)(e=>e.mirror.appModel.temporarilyExpandedInstanceLayers),E=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),f=(0,tu.ks)(),C=(0,M._I)(),S=(0,B.E)(),w=(0,W.H_)(),k=(0,j.wA)((e,t)=>{let n=e.get(t);return n?{guid:n.guid,children:n.uiOrderedChildren,defaultResponsiveSetId:n.defaultResponsiveSetId}:null},e.currentPage),T=(0,eb.el)();(0,ef.SV)();let[I,N]=(0,v.fp)(t_),A=(0,g.A)(N,200),x=(0,j.Fk)(e=>e.getCurrentPage()?.responsiveSetSettings?.faviconID),P=(0,j.dg)({deepEqual:!1,allowDeferral:(0,b.kc)().use_scene_selector_deferral},e=>{let t=e.getCurrentPage();return(0,b.kc)().derived_prop_slow_selectors?(t?t.socialImageGuidsOnPage:[]).join(","):[t?.responsiveSetSettings?.socialImageID,...t?.childrenNodes.map(e=>"RESPONSIVE_SET"===e.type&&e.responsiveSetSettings?.socialImageID)||[]].filter(e=>"string"==typeof e).join(",")}),R=(0,z.J2)((0,K.UK)().showGuids),L=(0,V._Z)().isLoading,O=(0,W.QS)(),D=(0,a.useMemo)(()=>(0,b.kc)().objects_panel_perf?new tf.nV(O,m):null,[O,m]);if(f&&!C)return null;let F=void 0===e.topNodeFields?k:e.topNodeFields;return a.createElement(a.Fragment,null,a.createElement(tw,{...e,hasPending:L,currentPage:e.currentPage,sceneGraphSelection:m,objectsPanelRowRebuildCounter:_,hoveredNode:h,temporarilyExpandedInstanceLayers:y,editModeType:E,sceneGraph:w,topNodeFields:F,recordingKey:e.recordingKey??"objectsPanel",showViewChangesNotification:S,hoveredPropDef:c,showImmutableFrameSublayers:n,reparentIntoStackInfo:l,temporarilyHoveredNodes:u,dispatch:t,renderResourceUse:i,showMemoryUsage:s,showInFileMemoryPercentage:d,userId:p??void 0,horizontalScrollEnabled:e.horizontalScrollEnabled,scrollWidth:e.horizontalScrollEnabled?T:void 0,initialScrollTop:I,onScroll:A,faviconGuid:x,socialImageGuids:P,shouldShowGuids:R,nodeInfoCache:D}),a.createElement(Z.p,{featureFlag:"auto_auto_layout"},a.createElement(tc,null)))}function tT(e){let t=(0,O.GS)(),n=(0,ef._j)()&&t;return a.createElement(eb.Rp,null,a.createElement(tk,{...e,horizontalScrollEnabled:n}))}function tI(e,t,n){if(n(e),t)for(let t of e.uiOrderedChildren)tI((0,u.UN)().get(t),!0,n)}tw.displayName="ObjectsPanelView",tw.contextType=eb.$V},459481:(e,t,n)=>{n.d(t,{I:()=>p});var a=n(411855),r=n(922827),l=n(445713),i=n(334071),s=n(513896),o=n(885669),c=n(633540),d=n(124402),u=n(525444);function p({activeTab:e,onCanvasSearch:t,recordingKey:n}){let p=(0,o.M)(),m=(0,l.Em)(),_=(0,l.cJ)(),h=e===r.xae.LAYERS,g=p&&(m||_)&&(e===r.xae.ASSETS||h);return a.createElement(d.y,{withBorder:!0},a.createElement(u.e,{activeTab:e,recordingKey:n}),a.createElement("div",{className:"ui3_tabs_row--iconContainer--a0sRl"},h&&a.createElement(i._,{onClick:t}),g&&a.createElement(s.b,{recordingKey:n,entrypoint:e===r.xae.ASSETS?c.r6.ASSETS_PANEL_BUTTON:c.r6.LAYERS_TAB_BUTTON,hideIfNoUpdates:e===r.xae.LAYERS})))}},491374:(e,t,n)=>{n.d(t,{v:()=>x});var a=n(411855),r=n(188507),l=n(447716),i=n(256296),s=n(243742),o=n(196302),c=n(474474),d=n(404911),u=n(744952),p=n(641860),m=n(462132),_=n(301929),h=n(761755),g=n(431305),y=n(731173),E=n(899356),f=n(118931),b=n(876560),v=n(567428),C=n(128556),S=n(294614),w=n(72955),k=n(83661),T=n(963989),I=n(125562),N=n(956617),A=n(46889);function x(e){let t=(0,a.useRef)(null),n=(0,s.DP)(),r=e=>E.Y5.updateSelectionProperties({backgroundEnabled:e}),o=e=>{E.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},c=(0,d.xx)(e=>{let t=(0,f.E7)(e.backgroundColor),n=(0,f.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||f.oV}),h=a.createElement(M,{backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,pickerShown:e.pickerShown,chitRowRef:t,recordingKey:e.recordingKey}),g=()=>a.createElement("span",{className:"background_panel--visible--2-4Ns"},a.createElement(N.B,{visible:e.backgroundEnabled,onChange:r,recordingKey:u.Pt(e,"visibleToggle")}));return a.createElement(p.k,{name:"background_panel"},a.createElement(k.Zk,null,a.createElement("div",null,a.createElement(k.fI,{className:"background_panel--panelTitleRow--uNINf"},a.createElement(k.xw,null,(0,_.tx)("fullscreen.properties_panel.page")),a.createElement(A.M,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===n.version?a.createElement(k.fI,{ref:t},h,g()):a.createElement(T.DE,{ref:t,label:null,input:h,icon:g()})),e.hasExports?"ui3"===n.version?a.createElement(T.Ad,{label:a.createElement(a.Fragment,null),input:a.createElement(l.S,{muted:!0,mixed:e.exportBackgroundDisabled===f.oV,checked:!1===e.exportBackgroundDisabled,onChange:o,recordingKey:u.Pt(e,"exportDisableCheckbox"),label:a.createElement(i.J,{htmlAttributes:{"data-tooltip":(0,_.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":b.Ib.TEXT}},(0,_.tx)("fullscreen.properties_panel.show_in_exports")),htmlAttributes:{"data-tooltip":(0,_.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":b.Ib.TEXT}})}):a.createElement(k.fI,{className:"background_panel--checkboxLabelRow--r-hmK"},a.createElement(C.t,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:e.exportBackgroundDisabled===f.oV?f.oV:!e.exportBackgroundDisabled,onChange:o,recordingKey:u.Pt(e,"exportDisableCheckbox")}),a.createElement(k.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},(0,_.tx)("fullscreen.properties_panel.show_in_exports"))):void 0,e.pickerShown?.id===y.k8&&a.createElement(S.h3,{disabledVariableIds:new Set,initialPosition:new m.Mi(e.pickerShown.initialX,e.pickerShown.initialY),color:(0,f.hS)(c(e))?(0,f.E7)(c(e)):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:(e,t)=>{let n=e.a;e.a=1,E.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:n,backgroundEnabled:!0},{shouldCommit:t})},recordingKey:u.Pt(e,"colorPicker")}),a.createElement(I.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}function M(e){let t=(0,r.wA)(),n=(0,d.xx)(e=>{let t=(0,f.E7)(e.backgroundColor),n=(0,f.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||f.oV}),l=a.useMemo(()=>(0,f.hS)(e.backgroundOpacity)&&"number"==typeof e.backgroundOpacity&&isNaN(e.backgroundOpacity)?0:e.backgroundOpacity,[e.backgroundOpacity]),i=(0,f.E7)(e.backgroundColor),s=(0,f.E7)(e.backgroundEnabled),u={color:i??void 0,opacity:(0,f.E7)(l)??void 0,type:"SOLID",blendMode:"NORMAL",visible:s??void 0};return a.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},a.createElement(w.y7,{recordingKey:e.recordingKey,togglePicker:()=>{if(e.pickerShown&&e.pickerShown.id===y.k8)t(h.XE());else{(0,c.kc)().ce_properties_panel_tracking&&(0,o.sx)("editor-background-panel-color-picker-show");let n=e.chitRowRef.current?(0,v.cn)(e.chitRowRef.current):{x:0,y:0};t(h.u1({id:y.k8,initialX:n.x,initialY:n.y})),t(g.sw())}},chitOverride:{color:n(e),opacity:l},paint:u,onChange:(t,n)=>{let a=!(0,r.bN)(t.color,e.backgroundColor),l=t.opacity!==e.backgroundOpacity;E.Y5.updateSelectionProperties({backgroundColor:a?t.color:void 0,backgroundOpacity:l?t.opacity:void 0,backgroundEnabled:0!==t.opacity},{shouldCommit:n})}}))}},396025:(e,t,n)=>{n.d(t,{J:()=>h,N:()=>_});var a=n(411855),r=n(986175),l=n(744952),i=n(145087),s=n(118931),o=n(786684),c=n(30231),d=n(395114);let u=new i.SU;class p extends c.c${}let m=c.l6;class _ extends a.PureComponent{render(){let e=this.props.includePassThrough?d.j4:d.r5;return a.createElement(m,{id:h(this.props.id),className:this.props.className,inputClassName:this.props.inputClassName,chevronClassName:this.props.chevronClassName,property:this.props.property,formatter:u,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,willShowDropdown:this.props.willShowDropdown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,dropdownWidth:this.props.isUI3?120:"auto",icon:this.props.isUI3?a.createElement(r.N,null):a.createElement(o.M,{value:(0,s.E7)(this.props.property),defaultBlendMode:this.props.includePassThrough?"PASS_THROUGH":"NORMAL"}),enablePreview:!0},e.map((e,t)=>"SELECT_DIVIDER"===e?a.createElement(c.sK,{key:t}):a.createElement(p,{key:t,value:e,recordingKey:l.Pt(this.props,e)})))}}function h(e){return`blend-mode-select-${e}`}_.displayName="BlendMode"},910764:(e,t,n)=>{n.d(t,{G$:()=>h,GV:()=>g,P5:()=>f,S2:()=>E,pt:()=>y});var a=n(411855),r=n(922827),l=n(659302),i=n(720793),s=n(118931),o=n(757700),c=n(139558),d=n(686644),u=n(985091),p=n(1829),m=n(222631),_=n(946482);function h(){let e=(0,c.p8)("showUi"),t=(0,c.p8)("isReadOnly");return!!(0,d.iZ)()&&e&&t}function g(){return(0,u.ut)(r.Ez5?.propertiesPanelState().shownPropertiesPanels,[])}function y(){let e=g();return!!(e[r.ibQ.TRANSFORM_ITEM]||e[r.ibQ.VECTOR_ITEM])}function E(){let e=(0,l.Xr)(m.b),t=(0,a.useRef)(null),n=(0,o.kl)("productComponentGUIDBackingInstances"),r=(0,s.E7)(n),i=(0,p.Fk)((e,t)=>{if(t){let n=e.get(t);return n?.simplifyInstancePanels??!1}return!1},r);(0,a.useEffect)(()=>{if(t.current!==r){t.current=r;let n=_.GR.DEFAULT_EXPANDED;null!==r&&i&&(n=_.GR.DEFAULT_SIMPLIFIED),e(n)}},[r,i,e])}function f({defaultTab:e,getActiveTab:t}){let n=(0,u.ut)((0,i.aY)(),e),r=(0,a.useMemo)(()=>t(n),[t,n]);return(0,a.useEffect)(()=>{r!==n&&i.aY()?.set(r)},[r,n]),r}},373996:(e,t,n)=>{n.d(t,{A:()=>S,y:()=>w});var a=n(411855),r=n(463033),l=n(447716),i=n(256296),s=n(309782),o=n(841368),c=n(298455),d=n(289883),u=n(846995),p=n(454475),m=n(579557),_=n(301929),h=n(786763),g=n(899356),y=n(345202),E=n(248172),f=n(83661),b=n(266489);let v={layout:"Include layout properties",rendering:"Include rendering properties",text:"Include text properties"},C={tailwind:"Use Tailwind",tailwindOnly:"Use Tailwind ONLY (lossy)",includeIDs:"Include IDs",includeNames:"Include names",excludeVectorData:"Exclude vector data",excludeImageData:"Exclude image data",normalizeRootXY:"Normalize root XY",normalizePxToRange01:"Normalize pixel values to 0-1",orderChildrenByXY:"Order children by XY",ignoreHugContentsOnEmptyFrames:"Ignore hug contents on empty frames",inlineVectorData:"Inline vector data",includeInstanceSublayers:"Include instance sublayers",onlyIncludeTopPaint:"Only include top paint",useDivTagsForFrames:"Use div tags for frames",topLevelComponentProps:"Deserialize top-level component props",strict:"Strict serialize/deserialize",includeTypescriptTypes:"Include TypeScript types"};function S(){let[e,t]=(0,a.useState)(""),[n,s]=(0,a.useState)({}),[o,p]=(0,a.useState)({}),[y,E]=(0,a.useState)(!1),[v,C]=(0,a.useState)({layout:!0,rendering:!0,text:!0}),S=(0,h.uQ)(),[k,T]=(0,a.useState)({tailwind:!1,tailwindOnly:!1,includeIDs:!1,includeNames:!1,excludeVectorData:!1,excludeImageData:!1,normalizeRootXY:!1,normalizePxToRange01:!1,orderChildrenByXY:!0,ignoreHugContentsOnEmptyFrames:!1,inlineVectorData:!0,includeInstanceSublayers:!1,onlyIncludeTopPaint:!1,useDivTagsForFrames:!1,topLevelComponentProps:!1,strict:!0,includeTypescriptTypes:!0}),I=(0,a.useCallback)(async e=>{let n=await (0,d.oy)(e,{...k,filterFunction:e=>e.visible,fieldGroups:Object.entries(v).filter(([e,t])=>t).map(([e])=>e)});t(n.jsxStr),s(n.componentInfoByJSXName),p(n.assetsByName)},[t,v,k]),N=(0,a.useCallback)(async()=>{if(!S)return;let e=(0,c.UN)().get(S);e&&(await I(e),g.Y5.triggerAction("commit"))},[S,I]);async function A(e){if(S)await (0,d.Go)({jsxStr:e,nodeId:S,options:{...k,assetsByName:o}});else if(!(await (0,d.LZ)(e,{...k,assetsByName:o})).node)throw Error("Couldn't parse jsx")}(0,a.useEffect)(()=>{if(y)return(0,c.UN)().onChange(()=>{N()},{allowDeferral:!1})},[y,N]),(0,a.useEffect)(()=>{N()},[N]);let x=Object.values(n).map(e=>e.typescriptType).filter(e=>null!==e).join("\n");return a.createElement(f.Zk,null,a.createElement(b.Wv,{titleTx:(0,_.tx)("fullscreen.properties_panel.jsx_debug.title")},a.createElement(w,{serializerOptions:k,setSerializerOptions:T,selectedFieldGroups:v,setSelectedFieldGroups:C,dropdownId:"JSX_DEBUG_SETTINGS_DROPDOWN"})),a.createElement("div",{className:m.cx.px16.$},a.createElement("div",null,a.createElement("textarea",{rows:15,value:e,style:{width:"100%"},onChange:e=>t(e.target.value)})),a.createElement("div",{style:{display:"flex",flexDirection:"row",gap:8,marginBottom:16}},a.createElement(r.$n,{onClick:()=>A(e)},S?"Update node":"Create node"),a.createElement(l.S,{checked:y,onChange:e=>E(e),label:a.createElement(i.J,null,"Live Update")})),Object.keys(n).length>0&&a.createElement("div",{style:{paddingBottom:16}},"Components:",a.createElement("div",null,a.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(n,null,2),onChange:u.lQ}))),x.length>0&&a.createElement("div",null,"Typescript definitions:",a.createElement("textarea",{rows:10,style:{width:"100%"},value:x})),Object.keys(o).length>0&&a.createElement("div",{style:{paddingBottom:16}},"Assets:",a.createElement("div",null,a.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(o,null,2),onChange:u.lQ})))))}function w({serializerOptions:e,setSerializerOptions:t,selectedFieldGroups:n,setSelectedFieldGroups:r,dropdownId:l}){let i=(0,y.BK)(l),c=a.useCallback(e=>{r&&r(t=>({...t,[e]:!t[e]}))},[r]),d=a.useCallback(e=>{t(t=>({...t,[e]:!t[e]}))},[t]),u=[...Object.entries(n??{}).map(([e,t])=>a.createElement(p.MM,{key:e,checked:t,onClick:()=>c(e)},v[e])),...n?[a.createElement(p.wv,{key:"separator"})]:[],...Object.entries(e).map(([e,t])=>a.createElement(p.MM,{key:e,checked:!!t,onClick:()=>d(e)},C[e]))],m=(0,a.useRef)(null),_=m.current?.getBoundingClientRect();return _||(_=new DOMRect(0,0,0,0)),a.createElement(a.Fragment,null,a.createElement(s.d,{toggled:i.showing,onClick:()=>i.toggle(),"aria-label":"JSX debug settings",ref:m},a.createElement(o.J,null)),i.showing&&a.createElement(E.Jz,{showPoint:!0,options:u,targetRect:_,hideDropdown:()=>i.hide()}))}},639800:(e,t,n)=>{n.d(t,{X:()=>eb});var a=n(411855),r=n(188507),l=n(309782),i=n(613023),s=n(841368),o=n(668e3),c=n(448639),d=n(922827),u=n(196302),p=n(532214),m=n(474474),_=n(744952),h=n(490311),g=n(301929),y=n(899356),E=n(118931),f=n(757700),b=n(961203),v=n(650947),C=n(876560),S=n(567428),w=n(676598),k=n(701035),T=n(513516),I=n(888943),N=n(516752),A=n(83661),x=n(256702),M=n(437950),P=n(469686),R=n(503067),L=n(547604),O=n(492323),D=n(266489),F=n(963989),K=n(125562),B=n(46889),G=n(839648),V=n(629019),U=n.n(V),H=n(47438),z=n(882230),W=n(832139),j=n(724927);let $=(0,T.Tn)();function Y(e){let t=a.useMemo(T.On,[]),{isDefReferencedBySelection:n,visibilityIsBoundToComponentProp:r}=(0,p.R)(e=>({isDefReferencedBySelection:!!t(e,c.RR.VISIBLE),visibilityIsBoundToComponentProp:$(e,(0,v.qd)(e),c.RR.VISIBLE)})),[l]=(0,f.lJ)("visible"),{consumedVariable:i}=(0,z.u3)(["VISIBLE"]),s=a.useRef(null),[o,d]=(0,W.ND)("binding-icon"),u=(0,W.$V)(),m=(0,H.u)(u),h=!!i&&!!m||r||n;return a.createElement("div",{className:j.RK},a.createElement(N.JQ,{ref:s,currentFieldValue:!!(0,E.gl)(l)||l,isActive:o,disabled:h,onPickerOpen:()=>d(s.current),recordingKey:_.Pt(e,"visibilityVariableBindingControl"),dataTestId:"visibility-variable-binding-control",openOnRightClick:!1,inputClassName:U()({"appearance_panel_visibility_binding_icon--iconButtonSelected--At-wP":o,"appearance_panel_visibility_binding_icon--iconButton--EALe5":!o&&!h,"appearance_panel_visibility_binding_icon--iconButtonDisabled--VnIWe":h}),tooltip:(0,g.t)("proto.apply_assignment_property")},a.createElement(G.u,null)))}var X=n(433975),Z=n(727466),q=n(404095),J=n(396025),Q=n(395114);function ee({blendModeSelectId:e,id:t,recordingKey:n}){let l=(0,r.wA)(),[i,s]=(0,Q.sL)(),o=(0,p.R)(e=>e.dropdownShown);return(o?.type===e||(0,Q.qg)(i,"PASS_THROUGH"))&&o?.type!==(0,J.J)(t)?null:a.createElement(F.DE,{label:(0,g.t)("fullscreen.properties_panel.appearance_panel.blend_mode"),input:a.createElement(J.N,{id:t,className:j.jK,inputClassName:j.Df,chevronClassName:j.ai,property:i,dispatch:l,dropdownShown:o,onChange:s,willShowDropdown:()=>((0,u.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:_.Pt(n,"blendMode"),isUI3:!0}),icon:a.createElement(Z.K,{htmlAttributes:{"data-tooltip":(0,g.t)("general.remove"),"data-tooltip-type":C.Ib.TEXT},"aria-label":(0,g.t)("general.remove"),onClick:()=>s("PASS_THROUGH"),actionOnPointerDown:!0},a.createElement(q.f,null))})}var et=n(416580),en=n(441907),ea=n(679781);function er(){let{consumedVariable:e,clearVariableConsumption:t}=(0,z.u3)(["VISIBLE"]),n=(0,W.$V)(),r=(0,H.u)(n),l=r?.name,i=!!e&&!!r,s=(0,H.BQ)(n);return i?a.createElement(F.DE,{appendedClassName:"component_bound_vibisility_row--row--Pss97",input:a.createElement(ea.P,{value:l||(0,g.t)("fullscreen.mixed"),variableId:n,isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!r&&(0,en.eF)(r),fullWidth:!0,varaiablePillContainerClassName:"component_bound_vibisility_row--ui3RowVariablePillContainer--ocnP8",thumbnailValue:"MIXED"!==s?s:void 0}),icon:a.createElement("div",{className:"component_bound_vibisility_row--detachVisibilityIcon--FcjEN"},a.createElement(Z.K,{onClick:()=>t(),"aria-label":(0,g.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,g.t)("variables.binding_ui.detach_variable_tooltip")}},a.createElement(et.U,null))),label:null}):null}var el=n(693861),ei=n(145087),es=n(769617),eo=n(345202),ec=n(786684),ed=n(30231),eu=n(75557);let ep=new ei.SU;class em extends ed.c${}function e_(e){return a.createElement(ed.l6,{...e,renderInput:({onMouseDown:e,props:t})=>a.createElement(Z.K,{recordingKey:(0,_.Pt)(t.recordingKey,"blendMode"),"aria-label":(0,g.t)("properties.dropdown.apply_blend_mode"),onClick:e,actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,g.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":C.Ib.TEXT}},a.createElement(ec.M,{value:t.property,defaultBlendMode:"PASS_THROUGH"}))})}function eh({blendModeRowId:e,id:t,recordingKey:n}){let[i,s]=(0,Q.sL)(),o=(0,r.wA)(),c=(0,eo.Um)(),d=(0,eu.cJ)(),p=!(0,Q.qg)(i,"PASS_THROUGH"),m=Q.j4.map((e,t)=>{let r="LINEAR_BURN"===e&&d;return"SELECT_DIVIDER"===e?a.createElement(ed.sK,{key:t}):a.createElement(em,{key:t,value:e,disabled:r,recordingKey:_.Pt(n,"blendMode",e)})});return p&&c?.type!==t||c?.type===(0,J.J)(e)?a.createElement(l.d,{"aria-label":(0,g.t)("properties.dropdown.remove_blend_mode"),toggled:!0,actionOnPointerDown:!0,onClick:()=>s("PASS_THROUGH"),htmlAttributes:{"data-tooltip":(0,g.t)("properties.dropdown.remove_blend_mode"),"data-tooltip-type":C.Ib.TEXT}},a.createElement(ec.M,{value:i,defaultBlendMode:"PASS_THROUGH"})):a.createElement(e_,{id:t,className:"selection_blend_mode_icon_button--container--Wv9Hd",dropdownClassName:"selection_blend_mode_icon_button--blendModeSelectDropdown--WcwN1 blend_mode_select--blendModeSelectDropdown--jlg6p",property:i,onChange:s,formatter:ep,dispatch:o,dropdownShown:c,onMouseDown:es.dG,minTop:6,recordingKey:_.Pt(n,"blendMode"),enablePreview:!0,dropdownAlignment:"right",disableSelectFocus:!0,willShowDropdown:()=>((0,u.sx)("editor-blend-mode-dropdown-show"),Promise.resolve())},m)}var eg=n(704349);let ey="layer-blend-mode",eE="layer-blend-mode-select",ef=["OPACITY"],eb=a.memo(function(e){let t=(0,P.Df)(),n=(0,P.Jo)(),G=(0,b.kG)("corner-smoothing"),[V]=(0,f.lJ)("rectangleCornerRadiiIndependent"),U=(0,f.kl)("visible"),H=!n.rectangleCornerRadii,z=t.cornerRadius,[j,$]=a.useState(null),[Z]=(0,f.lJ)("opacity"),q=t.rectangleCornerRadii,J=t.rectangleCornerRadii&&!!j,Q=!n.cornerRadius,et=Q||H,en=(0,a.useRef)(null),ea=a.useRef(null),el=(0,W.$H)(),ei=(0,f.kl)("handleMirroring"),es=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===d.m1T.VECTOR),eo=ei&&es,ec=a.useMemo(T.On,[]),{isDefReferencedBySelection:ed,selectedGUIDs:eu}=(0,p.R)(e=>({isDefReferencedBySelection:!!ec(e,c.RR.VISIBLE),selectedGUIDs:(0,v.qd)(e)})),ep=(0,w.Yc)(c.RR.VISIBLE,eu),em=(0,m.kc)().ds_variable_props_unified_ui&&(!ep||ed),e_=a.useCallback((e,t)=>{y.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!ed&&y.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[ed]),eb=(0,a.useCallback)(()=>{G.hide(),y.Y5.deselectProperty()},[G]),eC=(0,r.wA)(),eS=a.useCallback(()=>{(0,m.kc)().ce_properties_panel_tracking&&(0,u.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,E._W)(V,!1)}),!J&&en.current?$((0,S.cn)(en.current,parseInt(eg.Je,10))):$(null)},[V,J]),ew=(0,m.kc)().fpl_dialog_trigger?a.createElement(l.d,{actionOnPointerDown:!0,toggled:J,onClick:eS,"aria-label":(0,g.t)("fullscreen.properties_panel.transform_panel.independent_corners"),disabled:et,recordingKey:_.Pt(e,"rectangleCornerToolIndependentToggle")},a.createElement(i.Q,null)):a.createElement(A.YW,{selected:J,onClick:eS,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:_.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:et},a.createElement(i.Q,null)),ek=a.createElement(l.d,{recordingKey:_.Pt(e,"cornerSmoothingToggle"),"aria-label":(0,g.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),toggled:G.showing,disabled:Q,htmlAttributes:{onMouseDown:e=>{(0,x._)(G,en,e)},"data-tooltip":(0,g.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"data-tooltip-type":C.Ib.TEXT}},a.createElement(s.J,null)),eT=eo&&a.createElement(O.Cs,{handleMirroring:ei,recordingKey:_.Pt(e,"mirroring")});return a.useEffect(()=>{$(null)},[eu]),a.createElement(A.Zk,null,a.createElement(D.Wv,{titleTx:(0,g.tx)("fullscreen.appearance_panel.appearance")},!el&&!em&&a.createElement(w.yQ,{nodeField:c.RR.VISIBLE,defaultValue:U,guids:eu}),a.createElement(B.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),a.createElement(X.C,{recordingKey:e.recordingKey}),em&&a.createElement(Y,{recordingKey:e.recordingKey}),a.createElement(eh,{id:eE,blendModeRowId:ey,recordingKey:e.recordingKey})),a.createElement(F.fn,{ref:en,leftInput:a.createElement(N.sA,{recordingKey:_.Pt(e,"layerOpacityInputWrapper"),fields:ef,disabled:!1,resolvedType:d.rXF.FLOAT,currentFieldValue:(0,E.hS)(Z)?Z:void 0,inputRef:ea,hasBindingContextMenu:!0},a.createElement(I.Pd,{inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",ui3RightJustifyPercentSign:!1,noBorderOnHover:!0,isTokenizable:!0,value:Z,onValueChange:e_,mixedMathHandler:ev,dispatch:eC,recordingKey:_.Pt(e,"opacity"),forwardedRef:ea},a.createElement("div",{className:"appearance_panel--opacityIconContainer---kdX-"},a.createElement(o.N,null)))),rightInput:a.createElement(M.C,{recordingKey:e.recordingKey,disabled:!z||J||Q}),icon:z?q?a.createElement(h.E,{name:"independent_corner_radius_toggle"},ew):ek:null,leftLabel:(0,g.tx)("fullscreen.properties_panel.section_appearance.label_opacity"),rightLabel:(0,g.tx)("fullscreen.properties_panel.transform_panel.corner_radius")}),eT&&a.createElement(F.DE,{label:(0,g.tx)("fullscreen.properties_panel.section_vector.label_mirroring"),input:eT,icon:null}),(t.count||t.starInnerScale)&&a.createElement(O.cU,{countShown:t.count,countDisabled:!n.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!n.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&a.createElement(O.Je,{arcDataDisabled:!n.arcData,recordingKey:e.recordingKey}),a.createElement(ee,{id:ey,blendModeSelectId:eE,recordingKey:e.recordingKey}),!el&&a.createElement(k.L,{nodeField:c.RR.VISIBLE,currentValue:U}),a.createElement(K.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),a.createElement(er,null),J&&j&&a.createElement(L.$,{initialPosition:j,onClose:eS,recordingKey:_.Pt(e,"advanced")}),G.showing&&a.createElement(R.T,{initialPosition:G.initialPosition,onClose:eb,recordingKey:_.Pt(e,"advanced")}))}),ev=new el.b},433975:(e,t,n)=>{n.d(t,{C:()=>k});var a=n(411855),r=n(328177),l=n(77763),i=n(737834),s=n(448639),o=n(532214),c=n(744952),d=n(301929),u=n(899356),p=n(118931),m=n(757700),_=n(47438),h=n(650947),g=n(876560),y=n(513516),E=n(516752),f=n(86600),b=n(956617),v=n(882230),C=n(832139),S=n(724927);let w=(0,y.Tn)();function k(e){let t=a.useCallback(e=>{u.Y5.updateSelectionProperties({visible:e})},[]),n=a.useMemo(y.On,[]),{isDefReferencedBySelection:k,visibilityIsBoundToComponentProp:T}=(0,o.R)(e=>({isDefReferencedBySelection:!!n(e,s.RR.VISIBLE),visibilityIsBoundToComponentProp:w(e,(0,h.qd)(e),s.RR.VISIBLE)})),I=(0,_.SG)(["VISIBLE"]).data??[],[N]=(0,m.lJ)("visible"),{consumedVariable:A}=(0,v.u3)(["VISIBLE"]),x=a.useRef(null),[M,P]=(0,C.ND)("visibility-icon"),R=(0,C.$V)(),L=(0,_.u)(R),O=!!A&&!!L,D=O||T||k,F=!O&&!T&&I.length>0,K=N?(0,d.t)("fullscreen.properties_panel.tooltip_hide"):(0,d.t)("fullscreen.properties_panel.tooltip_show"),B=a.createElement("span",{className:S.RK},a.createElement(b.B,{disabled:D,visible:N,onChange:t,recordingKey:c.Pt(e,"visibleToggle")})),G=(0,f.R)();return a.createElement("div",{className:S.RK},a.createElement(E.JQ,{ref:x,currentFieldValue:!!(0,p.gl)(N)||N,isActive:M,disabled:!F,onPickerOpen:()=>P(x.current),recordingKey:c.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control",openOnRightClick:!0},G?a.createElement(r.f,{onIcon:a.createElement(l.j,null),offIcon:a.createElement(i._,null),checked:!D&&!N,mixed:!D&&(0,p.gl)(N),disabled:D,onChange:()=>t(N===p.oV||!N),recordingKey:c.Pt(e,"visibleToggle"),"aria-label":K,variant:"highlighted",htmlAttributes:{"data-test-id":"visibility-variable-control","data-tooltip":K,"data-tooltip-type":g.Ib.TEXT}}):B))}},832139:(e,t,n)=>{n.d(t,{$H:()=>E,$V:()=>b,ND:()=>f});var a=n(411855),r=n(448639),l=n(922827),i=n(340818),s=n(532214),o=n(474474),c=n(118931),d=n(47438),u=n(650947),p=n(225777),m=n(676598),_=n(328628),h=n(991161),g=n(882230),y=n(441907);function E(){let{consumedVariable:e}=(0,g.u3)(["VISIBLE"]),t=b(),n=(0,d.u)(t);return!!e&&!!n}function f(e){return(0,h.JV)(["VISIBLE"],l.rXF.BOOLEAN,void 0,{requestedTypes:[l.rXF.BOOLEAN,l.rXF.FLOAT,l.rXF.STRING],variableFilters:{[p.t.MUST_INCLUDE_ONE_OF]:{[l.rXF.STRING]:_.O4},[p.t.HIDE_IN_DEFAULT_VIEW]:{[l.rXF.FLOAT]:!0}},mapVariableIdToTypedValue:h.eT,metadata:e},void 0,function(){let e=(0,s.R)(e=>(0,u.qd)(e)),t=(0,m.Yc)(r.RR.VISIBLE,e),n=(0,o.kc)().ds_variable_props_unified_ui&&!t,c=a.useCallback(e=>{i.l7.user("add-prop-ref",()=>l.glU.addComponentPropRef(r.RR.VISIBLE,e.value.explicitDefId))},[]);return a.useMemo(()=>n?c:void 0,[n,c])}())}function b(){let e;let{consumedVariable:t}=(0,g.u3)(["VISIBLE"]);if(t){if((0,c.hS)(t)&&t.type===l.Z_n.ALIAS)e=t.value;else if((0,c.hS)(t)&&t.type===l.Z_n.EXPRESSION){for(let n of(0,y.Pr)(t))if(n.type===l.Z_n.ALIAS){e=n.value;break}}}return e}},693861:(e,t,n)=>{n.d(t,{b:()=>et,s:()=>ee});var a=n(411855),r=n(188507),l=n(727466),i=n(861726),s=n(416580),o=n(243742),c=n(448639),d=n(922827),u=n(340818),p=n(629019),m=n.n(p),_=n(196302),h=n(532214),g=n(474474),y=n(744952),E=n(641860),f=n(603275),b=n(301929),v=n(390816),C=n(178039),S=n(899356),w=n(118931),k=n(172328),T=n(47438),I=n(520239),N=n(650947),A=n(320012),x=n(876560),M=n(676598),P=n(701035),R=n(513516),L=n(157599),O=n(888943),D=n(516752),F=n(396025),K=n(740143),B=n(926325),G=n(83661),V=n(125562),U=n(882230),H=n(441907),z=n(679781),W=n(46889),j=n(433975),$=n(832139),Y=n(591551),X=n(114405),Z=n(724927),q=n(424148),J=n(144919);let Q=["OPACITY"];function ee(e){let{blendMode:t,opacity:n,visible:u}=e,p="ui3"===(0,o.DP)().version,k=a.useRef(null),ee=a.useMemo(R.On,[]),et=a.useMemo(R.Tn,[]),{dropdownShown:ea,isDefReferencedBySelection:er,selectedGUIDs:el,visibilityIsBoundToComponentProp:ei}=(0,h.R)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!ee(e,c.RR.VISIBLE),selectedGUIDs:(0,N.qd)(e),visibilityIsBoundToComponentProp:et(e,(0,N.qd)(e),c.RR.VISIBLE)})),es=(0,w.gl)(u),eo=(0,r.wA)(),ec=a.useCallback((e,t=A.zk.YES)=>{C.wt.shouldReportForShouldCommit(t)&&I.F.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),S.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),ed=a.useCallback((e,t)=>{S.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!er&&S.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[er]),eu=a.useRef(null),[,ep]=(0,$.ND)("layer-panel"),{clearVariableConsumption:em}=(0,U.u3)(["VISIBLE"]),{variableConsumptionMap:e_}=(0,U.R1)(),eh=(0,$.$V)(),eg=(0,T.u)(eh),ey=eg?.name,eE=(0,$.$H)();return a.createElement(E.k,{name:"layer_panel"},a.createElement(G.Zk,null,a.createElement(G.fI,{className:Y.LO},a.createElement(K.Tu,{isPanelBodyCollapsedAtom:null},a.createElement(G.xw,{isPanelBodyCollapsedAtom:null},(0,b.tx)("fullscreen.layer_panel.layer")),!eE&&a.createElement(M.yQ,{nodeField:c.RR.VISIBLE,defaultValue:u,guids:el}),a.createElement(W.M,{showLibrarySets:!1,recordingKey:"frameLevel"}))),a.createElement(K.JH,{isPanelBodyCollapsedAtom:null},a.createElement(G.fI,null,a.createElement(F.N,{id:"layer-blend-mode",className:Z.jK,inputClassName:Z.Df,chevronClassName:Z.ai,property:t,dispatch:eo,dropdownShown:ea,onChange:ec,willShowDropdown:()=>((0,_.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:y.Pt(e,"blendMode"),isUI3:p}),a.createElement(L.e,{condition:!0,wrapper:t=>a.createElement(D.sA,{recordingKey:y.Pt(e,"layerOpacityInputWrapper"),fields:Q,disabled:!1,resolvedType:d.rXF.FLOAT,currentFieldValue:(0,w.hS)(n)?n:void 0,inputClassName:m()({[Z.ke]:!0,[Z.TQ]:!0}),hideIcon:!0,inputRef:k,hasBindingContextMenu:!0},t)},a.createElement(O.Pd,{isTokenizable:!0,value:n,onValueChange:ed,mixedMathHandler:en,dispatch:eo,recordingKey:y.Pt(e,"opacity"),forwardedRef:k,noBorderOnHover:!0})),a.createElement(j.C,{recordingKey:e.recordingKey})),es&&!er&&a.createElement(G.fI,{dataTestId:"mixed-visibility-label"},a.createElement(G.UZ,{className:X.Pf},(0,b.tx)("fullscreen.layer_panel.replace_mixed_visibility",{svg:a.createElement("div",{className:Z.dY},a.createElement(f.U,{svg:J.A},a.createElement(i.l,null)))}))),ei&&!eE&&a.createElement("div",{className:Z.I0},a.createElement(P.L,{nodeField:c.RR.VISIBLE,currentValue:e.visible})),(0,g.kc)().prototype_expressions_nodefields?e_.VISIBLE&&a.createElement(v.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},a.createElement(B.y3,{targetVariableData:e_.VISIBLE.isMixed?void 0:e_.VISIBLE,onClick:()=>{ep(eu.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:e_.VISIBLE.isMixed}),a.createElement(l.K,{onClick:()=>em(),"aria-label":(0,b.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip":(0,b.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":x.Ib.TEXT}},a.createElement(f.U,{svg:q.A},a.createElement(s.U,null)))):eE&&a.createElement(v.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},a.createElement(z.P,{value:ey||(0,b.t)("fullscreen.mixed"),variableId:eh,isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!eg&&(0,H.eF)(eg)}),a.createElement(l.K,{onClick:()=>em(),"aria-label":(0,b.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip":(0,b.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":x.Ib.TEXT}},a.createElement(f.U,{svg:q.A},a.createElement(s.U,null)))),a.createElement(V.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}class et extends k.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){u.l7.user("set-opacity",()=>{C.wt.reportAnyPropertyChange(["opacity"]),e.opacity=t})}}let en=new et},950053:(e,t,n)=>{n.d(t,{B:()=>_});var a=n(411855),r=n(744952),l=n(641860),i=n(301929),s=n(899356),o=n(320012),c=n(83661),d=n(30231);let u="mask_panel--maskTypeDropdown--3Etsx",p=d.l6,m=d.c$;class _ extends a.PureComponent{constructor(){super(...arguments),this.onMaskTypeChange=(e,t=o.zk.YES)=>{s.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})},this.maskTypeFormatter={format:e=>{switch(e){case"ALPHA":return(0,i.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,i.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,i.t)("fullscreen.mask_panel.luminance")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,i.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,i.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,i.t)("fullscreen.mask_panel.luminance_extended")}}}},this.stopPropagation=e=>e.stopPropagation()}render(){let e=a.createElement(c.fI,null,a.createElement(p,{id:"mask-type-dropdown",className:u,property:this.props.maskType,formatter:this.maskTypeFormatter,onChange:this.onMaskTypeChange,dispatch:this.props.dispatch,dropdownClassName:u,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:r.Pt(this.props,"maskType"),enablePreview:!0},a.createElement(m,{value:"ALPHA",recordingKey:r.Pt(this.props,"maskType","alpha")}),a.createElement(m,{value:"OUTLINE",recordingKey:r.Pt(this.props,"maskType","outline")}),a.createElement(m,{value:"LUMINANCE",recordingKey:r.Pt(this.props,"maskType","luminance")})));return a.createElement(l.k,{name:"mask_panel"},a.createElement(c.Zk,null,a.createElement(c.fI,null,a.createElement(c.xw,null,(0,i.tx)("fullscreen.mask_panel.mask"))),e))}}_.displayName="MaskPanel"},99074:(e,t,n)=>{n.d(t,{C:()=>d});var a=n(411855),r=n(922827),l=n(744952),i=n(641860),s=n(301929),o=n(83661),c=n(86892);class d extends l.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return a.createElement(i.k,{name:"remove_group_fill_and_stroke_panel"},a.createElement(o.Zk,null,a.createElement(c.u,{title:"Background",addProperty:this.noop,removeProperty:r.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},a.createElement(o.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},a.createElement(o.UZ,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},(0,s.tx)("fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"))))))}}},730791:(e,t,n)=>{n.d(t,{q:()=>D});var a=n(411855),r=n(188507),l=n(309782),i=n(841368),s=n(243742),o=n(922827),c=n(532214),d=n(740941),u=n(744952),p=n(820001),m=n(603275),_=n(301929),h=n(761755),g=n(317004),y=n(899356),E=n(334367),f=n(118931),b=n(613102),v=n(556576),C=n(876560),S=n(567428),w=n(278865),k=n(51187),T=n(72955),I=n(432160),N=n(83661),A=n(566381),x=n(963989),M=n(795429),P=n(362679),R=n(13556),L=n(306413);function O(e){let t="stroke-settings",[n,c]=(0,d.fp)(p.GI),E=n.paints||[],v=(0,r.wA)(),O=a.useContext(w.zK),D=()=>null!=O,F=a.useRef(null),K=e=>{c({paints:e}),b.Tm.clearCache()},B=e=>{let{strokeWeight:t,dashPattern:n,strokeBrushGuid:a,stretchStrokeSettings:r,scatterStrokeSettings:l,dynamicStrokeSettings:i}=e,s=(0,f.E7)(t);s&&c({strokeWeight:s});let o=(0,f.E7)(n);o&&c({dashPattern:o}),a&&c({strokeBrushGuid:(0,f.E7)(a)}),r&&c({stretchStrokeSettings:(0,f.E7)(r)}),l&&c({scatterStrokeSettings:(0,f.E7)(l)}),i&&c({dynamicStrokeSettings:(0,f.E7)(i)})},G=e=>{let t=E.filter((t,n)=>!e.has(n));0===t.length&&(t=[E[0]]),K(t)},V=(e,{fromSearch:t}={})=>{v(g.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},{version:U}=(0,s.DP)(),H=!!n.styleId||E.length>0,z=e.pickerShown?.id===t,W=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,j=a.createElement(I.v9,{strokeWeight:n.strokeWeight||M.wv,onChange:B,recordingKey:u.Pt(e,"weight")}),$=a.createElement(A.qR,{className:"ui3"===U?void 0:"pencil_tool_panel--dashCap--OD1E2",dashCap:(0,A.Hd)(n.strokeCap||"ROUND")||"ROUND",onChange:e=>{c({strokeCap:e})},recordingKey:u.Pt(e,"dashCap")}),Y=a.createElement("span",{className:"pencil_tool_panel--advancedStroke--1497y"},a.createElement(l.d,{onClick:()=>{if(e.pickerShown?.id===t)v(h.XE());else{if(!F)return;let e=(0,S.cn)(F.current);v(h.u1({id:t,initialX:e.x,initialY:e.y}))}},toggled:z,"aria-label":(0,_.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:u.Pt(e,"more"),htmlAttributes:{onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.pencil_tool.advanced_stroke_settings")}},a.createElement(m.U,{svg:P.A,fallbackSvg:R.A},a.createElement(i.J,null))));return a.createElement("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF"},a.createElement(N.Zk,null,a.createElement(T.W4,{title:(0,_.t)("fullscreen.pencil_tool.stroke"),propertyList:E,onChange:K,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:o.rrT.STROKE_PRESET,styleType:"FILL",addProperty:()=>{y.Y5.triggerAction("add-stroke-to-selection")},onDeleteProperty:e=>G(e),onReorder:()=>{b.Tm.clearCache()},renderProperty:(t,n,r,l,i,s,c,d,p)=>{let m=D()?"preview-paint":"paint",_=b.Tm.getId(n,o.rrT.STROKE_PRESET,m),h=E.slice(0,n).some(e=>e.visible);return a.createElement(T.Gg,{key:`paint-${n}`,id:_,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",singletonRow:1===E.length,selectedPropertyType:o.rrT.STROKE_PRESET,paint:t,selected:e.stylePickerShown.isShown?e.pickerShown?.id===_:r,isDragging:l,hasFocus:i,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,onChange:s,onApplyStyle:V,onMouseDown:c,onMouseMove:d,onMouseUp:p,onRemovePaint:E.length>1?()=>G(new Set([n])):void 0,hideVisibilityToggle:1===E.length,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:o.NLJ.VECTOR_PENCIL,colorFormat:e.colorFormat,dispatch:v,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,defaultColor:b.Em,library:e.library,openFile:e.openFile,recordingKey:u.Pt(e,n),variableScopes:T.z1,isUI3:"ui3"===U,hasVisiblePaintBelow:h})},recordingKey:e.recordingKey,sceneGraphSelection:e.sceneGraphSelection,library:e.library,modalShown:e.modalShown,openFile:e.openFile,inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:n.styleId||null,inheritStyleID:null,selectedStyleProperties:e.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,onToggleListLayout:()=>{v(h.Y({isListLayout:!e.stylePickerListLayout}))},removeAllProperties:null,onApplyStyle:V,defaultColor:b.rC}),H&&("ui3"===U?a.createElement(x.fn,{ref:F,leftLabel:(0,_.tx)("fullscreen.properties_panel.section_stroke.label_weight"),leftInput:j,rightLabel:(0,_.tx)("fullscreen.properties_panel.section_stroke.label_end_cap"),rightInput:$,icon:Y}):a.createElement(N.fI,{ref:F},j,$,Y))),W&&a.createElement("div",{className:"pencil_tool_panel--hintPanel--917wK"},a.createElement(k.u,{title:(0,_.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:L.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,_.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})),z&&e.pickerShown&&a.createElement(A._2,{onChange:B,strokePanelMode:o.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeCap:n.strokeCap||"ROUND",strokeJoin:"ROUND",maxStrokeWeight:n.strokeWeight||M.wv,dashPattern:n.dashPattern,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,recordingKey:u.Pt(e,"advanced")}))}function D(e){let t=(0,E.Ku)(),n=(0,v.q5)(),r=(0,c.R)(e=>({currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,selectedStyleProperties:e.mirror.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags}));return a.createElement(O,{...r,...e,openFile:n,colorFormat:t})}},34666:(e,t,n)=>{n.d(t,{j:()=>eJ});var a=n(411855),r=n(188507),l=n(543509),i=n(922827),s=n(177131),o=n(572304),c=n(629019),d=n.n(c),u=n(689570),p=n(474474),m=n(415684),_=n(641860),h=n(70067),g=n(931980),y=n(431305),E=n(57721),f=n(731173),b=n(567972),v=n(675808),C=n(723789),S=n(334367),w=n(736796),k=n(118931),T=n(573997),I=n(139558),N=n(52833),A=n(985091),x=n(113645),M=n(149782),P=n(997156),R=n(871972),L=n(278865),O=n(688572),D=n(130142),F=n(472346),K=n(617691),B=n(744952),G=n(462132),V=n(301929),U=n(853935),H=n(720793),z=n(556576),W=n(691537),j=n(835403),$=n(463033),Y=n(243742),X=n(10199),Z=n(466391),q=n(761755),J=n(611072),Q=n(352176),ee=n(249577),et=n(799893),en=n(346646),ea=n(946482),er=n(618120),el=n(464132);function ei({initialPosition:e,styleNameInputPrefix:t,styleType:n,inheritStyleKeyField:l,onCreate:s,recordingKey:o}){let c=(0,r.wA)(),d=(0,r.d4)(e=>e.mirror.selectedStyleProperties),u=(0,r.d4)(e=>e.mirror.sceneGraphSelection),p=a.useRef(Object.keys(u).length>0),[m,_]=a.useState(!p.current&&void 0),h="ui3"===(0,Y.DP)().version,g=(0,ee.sO)(),[E,f]=a.useState((0,et.$)()),b=g&&(0,en.Rc)(n),{styleRef:v,createStyle:C}=(0,J.u)({inheritStyleKeyField:l,isCreatingFromSelection:p.current,trackingOptions:{styleType:n},shouldUseEyedropperStyleCreationFlow:!1}),S=B.of(o,"submit",()=>{let e=C();b&&i.Ez5.slideThemeLibBindings().addStyleToLocalTheme(e||"",E),c(q.XE()),c(q.Uv()),c(y.sw()),s&&s(e||"")}),w=(0,r.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(n){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}});return d.styleType?a.createElement(L.zK.Provider,{value:L.zM.CREATE_STYLE},a.createElement(er.vx,{title:(e=>{switch(e){case"FILL":return(0,V.t)("design_systems.create_style.color");case"TEXT":return(0,V.t)("design_systems.create_style.text");case"EFFECT":return(0,V.t)("design_systems.create_style.effect");case"EXPORT":return(0,V.t)("design_systems.create_style.export");case"GRID":return(0,V.t)("design_systems.create_style.grid");default:return(0,V.t)("design_systems.create_style.create_new_style_generic")}})(d.styleType),headerSize:"small",initialWidth:ea.tA,initialPosition:e,onClose:()=>{c(y.sw())},recordingKey:B.Pt("createStyleModal"),dragHeaderOnly:!0},a.createElement("div",{className:el.FY},a.createElement(Q.O8,{type:d.styleType,recordingKey:"createStyleModal",styleNameInputPrefix:t,isInspectPanel:!1,selectedStyleProperties:d,showProperties:m,onEnterPressed:S,showSlideThemeField:b,slideThemeId:E,setSlideThemeId:f}),!v&&a.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},(0,V.tx)("design_systems.create_style.an_error_occurred_while_creating_the_style")),a.createElement(X.AutoLayout,{horizontalAlignItems:p.current?void 0:"end",verticalAlignItems:"center",spacing:p.current?"auto":void 0,padding:h?8:16},p.current&&a.createElement($.$n,{variant:"link",onClick:()=>_(!m),recordingKey:B.Pt("createStyleModal","moreOptions")},m?(0,V.tx)("design_systems.create_style.hide_options"):(0,V.tx)("design_systems.create_style.show_more_options")),a.createElement(Z.$$,{style:{justifySelf:"right"},onClick:S,disabled:!w||!v,tabIndex:0},(0,V.tx)("design_systems.create_style.create_style")))))):null}var es=n(469362),eo=n(1829);function ec({canEdit:e,isInspectPanel:t,isRenaming:n,recordingKey:l,stylePreviewShown:i}){let s=(0,r.wA)(),c=(0,r.d4)(e=>e.mirror.selectedStyleProperties),d=(0,W.IW)(i),u=(0,o.dI)(c.guid),p=(0,I.p8)("isReadOnly"),m=!!d||!e||p,_="",h="",[g,E]=(0,eo.Fk)((e,t)=>{if(d)return["",""];let n=e.get(t);return[n?.name||"",n?.description||""]},u);return d?(_=d.name||"",h=d.description_rt?(0,es.A)(d.description_rt):d.description||""):(0,o.dI)(c.guid)&&(_=g,h=(0,es.A)(E)),a.createElement(L.zK.Provider,{value:L.zM.EDIT_STYLE},a.createElement(Q.O8,{recordingKey:l,isInspectPanel:t,isRenaming:n,onEnterPressed:()=>s(y.sw()),selectedStyleProperties:c,styleDescription:h,styleName:_,type:c.styleType,viewOnly:m}))}var ed=n(352074),eu=n(975123),ep=n(870501),em=n(283695),e_=n(781505),eh=n(887929),eg=n(644526),ey=n(83661);let eE=(0,ep.fv)();function ef({stylePreviewShown:e}){let t=(0,W.IW)(e),n=eE(t),r=eg.M4.File.useValue(n).data,l=(0,em.Sw)(r?.key,t?.library_key).unwrapOr(!1),i=(0,em.bL)({libraryKey:t?.library_key,nodeId:t?.node_id,disabled:!(0,p.kc)().dse_lk_go_to_source}),s=a.useMemo(()=>(0,p.kc)().dse_lk_go_to_source?i.data?.type==="team":l,[l,i.data]),o=a.useMemo(()=>{if((0,p.kc)().dse_lk_go_to_source)return i.data?.type==="team"?i.data.link:null;if(!r||!t)return null;let e=(0,e_.to)(r);return(0,eu.dR)(e,{"node-id":encodeURIComponent((0,eh.EO)(t.node_id))})},[t,r,i.data]);return o&&s?a.createElement(_.k,{name:"external_style_options"},a.createElement(ey.Zk,{key:"external-style-options"},a.createElement(ey.fI,null,a.createElement("div",{className:el.lf},a.createElement(ed.N,{newTab:!0,href:o,trusted:!0},(0,V.tx)("fullscreen.properties_panel.go_to_style_definition_to_edit")))))):null}function eb({onCloseStylePreviewModal:e,recordingKey:t}){let n=(0,z.q5)(),l=(0,A.ut)((0,H.aY)(),i.FAf.DESIGN),s=(0,I.p8)("topLevelMode"),c=(0,r.d4)(e=>e.library),d=(0,r.d4)(e=>e.stylePreviewShown),u=(0,T.b)("guid"),p=(0,T.b)("styleType");if(!d.isShown||![i.FAf.DESIGN,i.FAf.SITE,i.FAf.INSPECT].includes(l))return null;let m=new G.Mi(d.rowLeft-ea.tA,d.rowTop);if(d.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:n}=d;return a.createElement(ei,{recordingKey:"createStyleModal",initialPosition:m,styleNameInputPrefix:n,styleType:e,inheritStyleKeyField:t})}let _=(0,k.E7)(u),h=(0,k._W)(p,K.s4.NONE);if(null===_)return null;let g=!(0,U.eE)(d.style,n),y=(0,o.dI)(_);if(!(c.local.styles[y]&&!c.local.styles[y]?.is_soft_deleted)&&!g)return null;let E=n?.canEdit??!1,f=g||!E||s===i.lyf.BRANCHING;return a.createElement(L.zK.Provider,{value:L.zM.EDIT_STYLE},a.createElement(er.vx,{title:function(e,t){if(t)switch(e){case"FILL":return(0,V.t)("design_systems.styles.view_color_style");case"TEXT":return(0,V.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,V.t)("design_systems.styles.view_effect_style");case"GRID":return(0,V.t)("design_systems.styles.view_grid_style");default:return(0,V.t)("design_systems.styles.view_style")}switch(e){case"FILL":return(0,V.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,V.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,V.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,V.t)("design_systems.styles.edit_grid_style");default:return(0,V.t)("design_systems.styles.edit_style")}}(h,f),key:(0,W.Gj)(d.style),headerSize:"small",initialWidth:ea.tA,initialPosition:m,onClose:e,recordingKey:B.Pt(t,"modal"),dragHeaderOnly:!0},a.createElement("div",{className:el.FY},a.createElement(j.VF,{isVisible:!0},()=>a.createElement(ec,{key:"style-preview-panel",recordingKey:B.Pt(t,"stylePreviewPanel"),canEdit:E,isInspectPanel:l===i.FAf.INSPECT,isRenaming:c.isRenamingSelectedStyle,stylePreviewShown:d})),a.createElement(j.VF,{isVisible:g},()=>a.createElement(ef,{stylePreviewShown:d})))))}function ev({isInsetEditorEnabled:e,onCloseStylePreviewModal:t,onKeyDown:n,recordingKey:r,shouldAnimate:l}){return a.createElement(R.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:n},a.createElement(h.V,{className:d()(el.Lp,{[el.Ph]:e})},a.createElement(O.P,{hideScrollbar:!0,scrollingDisabled:!0,className:d()(el.ux,el.KE,f.Dm,{[el.eu]:l,[el.Ph]:e}),width:F.iP},a.createElement("div",{className:el.eh,"data-non-interactive":!0},a.createElement(D.B7,null))),a.createElement(eb,{onCloseStylePreviewModal:t,recordingKey:r})))}var eC=n(237798),eS=n(508256),ew=n(529329),ek=n(769617),eT=n(592656),eI=n(899356),eN=n(345202),eA=n(961203),ex=n(550114),eM=n(910764),eP=n(275716);function eR({activeTab:e,children:t,isStyleEditMode:n,recordingKey:l,refMainScrollContainer:s}){var o;let c=(0,r.wA)(),u=(0,I.p8)("isReadOnly"),p=(0,I.p8)("topLevelMode"),m=(0,eN.Um)(),_=(0,eA.Xo)(),h=!!(m||_?.modal),g=B.rf(l,"mousedown",()=>{eI.Y5.deselectProperty(),c(q.XE()),c((0,eS.vq)()),c(y.sw()),c(q.Uv())}),E=(0,ex.ks)(),f=e===i.FAf.COMMENT,b=(0,ee.sO)(),v=!n||!h,C=!f&&v,S=(0,ek.ft)(),w=(0,eM.G$)();o={tab:i.FAf[e],topLevelMode:i.lyf[p],shouldRenderInspectTab:w},0===a.Children.toArray(t).length&&(0,eC.x1)("PropertiesPanel","Rendering empty properties panel",o);let k=(0,eT.F)(),T=f&&!(u&&!E)&&!b,N=a.createElement("div",{className:d()({[el.By]:T,[el.eh]:!T,[el.w1]:k}),onMouseDown:S?void 0:g,onPointerDown:S?g:void 0,"data-non-interactive":!0},a.createElement(ew.j9.Consumer,null,()=>t));return f?N:a.createElement("div",{className:el.gq},a.createElement(O.P,{enableOverscroll:!0,key:e,ref:s,className:el.jG,containerId:ea.rp,hideScrollbar:!C,onContextMenu:eP.GY,scrollingDisabled:f||(n?h:!!m)},N))}eR.displayName="PropertiesPanel";var eL=n(424517),eO=n(196302),eD=n(896013),eF=n(276585),eK=n(472391),eB=n(117312),eG=n(876560),eV=n(680597),eU=n(12838),eH=n(75557);function ez({label:e,tab:t,active:n,className:l,recordingKey:s,keyboardShortcut:o}){let c=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),d=(0,I.dH)(),u=(0,C.GS)(),p=(0,eH.cJ)(),m=B.rf(s,"mousedown",()=>{if(!n){let e=eW(t,u,p).analyticsName;(0,eO.sx)("properties-panel-select-tab",{tab:e}),d===i.NLJ.SCALE&&t===i.FAf.PROTOTYPE&&eI.Y5.triggerAction("set-tool-default"),(0,H.NT)(t),c===i.lyf.PREVIEW&&(t===i.FAf.COMMENT?eI.Y5.triggerAction("set-tool-comments"):eI.Y5.triggerAction("set-tool-default"))}});return a.createElement("div",{className:l,onMouseDown:m,"data-label":e,...o?{"data-tooltip-type":eG.Ib.TEXT,"data-tooltip":e,"data-tooltip-shortcut-key":o}:void 0},e)}function eW(e,t,n){return({[i.FAf.DESIGN]:{label:(0,V.t)("fullscreen.properties_panel.design"),tab:i.FAf.DESIGN,className:el.Mf,recordingKey:"designTab",analyticsName:"design"},[i.FAf.PROTOTYPE]:{label:n?(0,V.t)("fullscreen.properties_panel.interactive"):(0,V.t)("fullscreen.properties_panel.prototype"),tab:i.FAf.PROTOTYPE,className:el.Mf,recordingKey:n?"interactionsTab":"prototypeTab",analyticsName:n?"interactions":"prototype"},[i.FAf.INSPECT]:{label:(0,V.t)("fullscreen.properties_panel.properties"),tab:i.FAf.INSPECT,className:el.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[i.FAf.COMMENT]:{label:t?(0,V.t)("fullscreen.properties_panel.comments"):(0,V.t)("fullscreen.properties_panel.comment"),tab:i.FAf.COMMENT,className:el.Mf,recordingKey:"commentTab",analyticsName:"comment"},[i.FAf.EXPORT]:{label:(0,V.t)("fullscreen.properties_panel.export"),tab:i.FAf.EXPORT,className:el.Mf,recordingKey:"exportTab",analyticsName:"export"},[i.FAf.SLIDE]:{label:(0,V.t)("fullscreen.properties_panel.design"),tab:i.FAf.SLIDE,className:el.Mf,recordingKey:"designTab",analyticsName:"design"},[i.FAf.SLIDE_ANIMATION]:{label:(0,V.t)("slides.properties_panel.animate"),tab:i.FAf.SLIDE_ANIMATION,className:el.Mf,recordingKey:"animateTab",analyticsName:"animate"},[i.FAf.SITE]:{label:(0,V.t)("fullscreen.properties_panel.design"),tab:i.FAf.SITE,className:el.Mf,recordingKey:"sitesTab",analyticsName:"sites"},[i.FAf.DAKOTA]:{label:(0,V.t)("dakota.properties_panel.dakota_panel.tab_title"),tab:i.FAf.DAKOTA,className:el.Mf,recordingKey:"dakotaTab",analyticsName:"dakota"},[i.FAf.COOPER_PUBLISH]:{label:(0,V.t)("fullscreen.properties_panel.cooper_publish"),tab:i.FAf.COOPER_PUBLISH,className:el.Mf,recordingKey:"cooperPublishTab",analyticsName:"cooperPublish"},[i.FAf.LIVING_DESIGNS]:{label:(0,V.t)("fullscreen.properties_panel.living_designs"),tab:i.FAf.LIVING_DESIGNS,className:el.Mf,recordingKey:"livingDesignsTab",analyticsName:"livingDesigns"},[i.FAf.COOPER_TABULAR]:{label:(0,V.t)("fullscreen.properties_panel.cooper_tabular"),tab:i.FAf.COOPER_TABULAR,className:el.Mf,recordingKey:"cooperTabularTab",analyticsName:"cooperTabular"},[i.FAf.COOPER_FIELDS]:{label:(0,V.t)("fullscreen.properties_panel.cooper_fields"),tab:i.FAf.COOPER_FIELDS,className:el.Mf,recordingKey:"cooperFieldsTab",analyticsName:"cooperFields"},[i.FAf.COOPER_VARIANTS]:{label:(0,V.t)("fullscreen.properties_panel.cooper_variants"),tab:i.FAf.COOPER_VARIANTS,className:el.Mf,recordingKey:"cooperVariantsTab",analyticsName:"cooperVariants"}})[e]}function ej({activeTab:e,isUI3:t,recordingKey:n}){let l=(0,eM.G$)(),s=(0,eM.pt)(),o=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),c=(0,I.dH)(),d=(0,I.p8)("isReadOnly"),u=(0,ex.ks)(),m=d&&!u,_=(0,ee.sO)(),h=(0,eH.cJ)(),g=(0,eF.g)(),y=(0,eK.U9)(),E=(0,I.KH)(),f=(0,a.useMemo)(()=>Object.keys(E),[E]),b=(0,I.eY)(),[v,C]=a.useState(!1),[S,w]=a.useState(!1);a.useEffect(()=>{},[g,f,b,C,e]),a.useEffect(()=>{if(y){if(eK.DX(b,f)?.fieldId){w(!0);return}e===i.FAf.DAKOTA&&(0,H.NT)(i.FAf.SITE),w(!1)}},[y,f,b,C,e]);let k=(()=>{let n=t?_?[i.FAf.COMMENT]:[i.FAf.COMMENT,i.FAf.INSPECT]:[i.FAf.COMMENT,i.FAf.INSPECT,i.FAf.EXPORT];switch(o){case i.lyf.LAYOUT:if(m)return n;if(e===i.FAf.COMMENT)return[i.FAf.COMMENT];if(h)return S?[i.FAf.SITE,i.FAf.PROTOTYPE,i.FAf.DAKOTA]:[i.FAf.SITE,i.FAf.PROTOTYPE];if(_)return[i.FAf.SLIDE,i.FAf.SLIDE_ANIMATION];if(g)return[i.FAf.DESIGN,i.FAf.COOPER_FIELDS];return l?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.INSPECT]:v?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.COOPER_PUBLISH]:(0,p.kc)().livefish?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.LIVING_DESIGNS]:[i.FAf.DESIGN,i.FAf.PROTOTYPE];case i.lyf.PREVIEW:case i.lyf.DEV_HANDOFF:return n;case i.lyf.BRANCHING:return[i.FAf.INSPECT];default:return[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.INSPECT]}})(),T=k.find(t=>t===e),N=k.map((n,a)=>{let r=eW(n,t,h),l=r.tab===e||0===a&&void 0===T,i=r.className;return l&&(i=k.length>1?el.yR:el.iV),{...r,className:i,active:l,topLevelMode:o,currentTool:c}});return k.length&&(1!==k.length||t)?a.createElement(ew.j9.Consumer,null,()=>{if(t)return a.createElement(e$,{recordingKey:n,tabInfo:N});let r=e===i.FAf.DESIGN&&s||e===i.FAf.COMMENT?el.yW:el.hv;return a.createElement("div",{className:r,"data-non-interactive":!0},N.map((e,t)=>a.createElement(ez,{key:t,...e})))}):null}function e$({tabInfo:e,recordingKey:t}){let n=(0,eT.F)(),l=(0,eD.WN)(),s=e.reduce((e,t)=>(e[t.tab]=!0,e),{}),o=e.find(e=>e.active),[c,,d]=eL.t.useManagedTabs(s,o?.tab.toString()??"",e=>{let t=parseInt(e),a=eW(t,u,p).analyticsName;if((0,eO.sx)("properties-panel-select-tab",{tab:a}),m===i.NLJ.SCALE&&t===i.FAf.PROTOTYPE&&eI.Y5.triggerAction("set-tool-default"),t===i.FAf.INSPECT&&n){l(i.rcl.ENTER_INSPECT_MODE);return}(0,H.NT)(t),_===i.lyf.PREVIEW&&(t===i.FAf.COMMENT?eI.Y5.triggerAction("set-tool-comments"):eI.Y5.triggerAction("set-tool-default"))},{recordingKey:B.Pt(t,"tabs")}),u=(0,C.GS)(),p=(0,eH.cJ)(),m=(0,I.dH)(),_=(0,r.d4)(e=>e.mirror.appModel.topLevelMode);return a.createElement("div",{className:el.A7},a.createElement("div",{className:el.tq,onKeyDown:e=>{e.isDefaultPrevented()||(0,eB.f7)(e,!0)}},a.createElement(eL.t.TabStrip,{manager:d},e.map((e,t)=>a.createElement(eL.t.Tab,{key:`props-panel-tab-${t}`,...c[e.tab]},e.label)))),a.createElement("div",{className:el.wR},a.createElement(eU.H,{recordingKey:B.Pt(t,"zoomMenu")})),a.createElement("div",{"data-onboarding-key":eV.D9,className:el.qq}))}var eY=n(528889),eX=n(945763),eZ=n(456959),eq=n(132540);function eJ({activeTab:e,children:t,getPanelMode:n,recordingKey:l,refMainScrollContainer:c,trackingAlwaysEnabled:u=!1}){let f=(0,r.wA)(),O=(0,I.aV)(),D=(0,v.b)(),K=(0,T.b)("guid"),B=(0,o.fn)((0,k.E7)(K)),G=(0,a.useCallback)(e=>{B&&(e.event.keyCode===m.Uz.ESCAPE?(e.accept(),i.glU.selectStyle(s.n3.INVALID,s.IA.INVALID)):e.event.keyCode===m.Uz.F&&i.glU.selectStyle(s.n3.INVALID,s.IA.INVALID))},[B]),V=(0,r.d4)(e=>e.loadingState),U=(0,N.VP)(V,"edit_button_upgrading_to_edit"),H=O||U,z=(0,a.useCallback)(()=>{i.glU.selectStyle(s.n3.INVALID,s.IA.INVALID),f(y.sw()),f((0,E.B)())},[f]),W=(0,C.GS)(),j=(0,b.Oo)(),$=(0,A.ut)(i.Ez5?.uiState().showPropertiesPanel,!1),Y=!j&&W&&$,X=e===i.FAf.COMMENT,Z=(0,I.p8)("topLevelMode")===i.lyf.HISTORY,q=(0,a.useCallback)(()=>void 0,[]),J=function(e){let t=(0,I.p8)("currentPage")||"0:1",n=(0,I.KH)(),r=e();return(0,a.useCallback)(()=>({pageId:t,selectedNodeIds:Object.keys(n),panelMode:r}),[t,n,r])}(n??q),Q=(0,a.useCallback)(({styleType:e,inheritStyleKeyField:t,nodeId:n,rowLeft:a,rowTop:r})=>{f(y.sw()),f(y.Zs({rowLeft:a,rowTop:r,styleType:e,inheritStyleKeyField:t,nodeId:n}))},[f]),ee=function(){let e=(0,C.GS)(),t=(0,S.qw)();return e?"number"==typeof t&&t>e1+1?t:e1+1:F.iP+1}(),et=(0,A.ut)(i.Ez5?.uiState().inProductHelpSidePanelWidth,0),{inProductHelpViewType:en}=(0,P.A5)(),{isRightPanelCollapsed:ea}=(0,a.useContext)(x.t),er=W&&ea,ei=(0,w.qM)(),es=(0,I.p8)("showUi");if(H)return a.createElement(ev,{isInsetEditorEnabled:D,onKeyDown:G,onCloseStylePreviewModal:z,shouldAnimate:O});let eo=(0,p.kc)().properties_panel_resize_lag_fix;return a.createElement(_.k,{name:"properties_panel",trackingEnabled:(0,p.kc)().trackable_properties||u,alsoTrack:J,trackImpressions:!1},a.createElement(R.vL,{name:"propertiesPanel",focusOnMount:!X,handleKeyDown:G},a.createElement(L.lk.Provider,{value:Q},a.createElement(h.V,{className:d()(el.Lp,{[el.IV]:eo,[el.R]:!es,[el.dn]:er,[el.Ph]:D&&!ei,[el.Fo]:"side_panel"===en}),style:{width:eo?void 0:ee,"--inProductHelpSidePanelWidth":`${et}px`}},Y&&!D&&a.createElement(g.T,{side:"right"}),a.createElement(eZ.X,null,a.createElement(e0,{isCollapsed:ea,isInsetEditorEnabled:D,isUI3:W,isUIMinimized:ei,width:ee},a.createElement(eP._w,{showRightSidebarPill:er},a.createElement(eX.v2,{recordingKey:l}),Z&&a.createElement(M.yU,{recordingKey:"versionHistoryView",isUI3:W}),!er&&!Z&&a.createElement(a.Fragment,null,a.createElement(ej,{recordingKey:l,activeTab:e,isUI3:W}),a.createElement(eR,{recordingKey:l,activeTab:e,isStyleEditMode:B,refMainScrollContainer:c},t)),a.createElement(eb,{onCloseStylePreviewModal:z,recordingKey:l}))))))))}let eQ=e=>{!function(e){let t=(0,l.qE)(e,e1+1,500);(0,S.UK)().propertiesPanelSplitPosition.set(t),(0,p.kc)().properties_panel_resize_lag_fix&&document.documentElement.style.setProperty("--properties-panel-width",`${t}px`)}(e)};function e0({children:e,isCollapsed:t,isInsetEditorEnabled:n,isUI3:r,isUIMinimized:l,width:i}){let s=(0,A.ut)((0,S.UK)().renderRulers,!1),o=(0,w.Tn)(),c=r?eq.M$q:"var(--spacer-2)",u=(0,a.useCallback)((e,n)=>{if(r)return;let a={ease:"easeInOut",duration:.2,delay:t?void 0:.05};return t?{initial:{left:`calc(${e}px + ${n})`},animate:{left:`calc(${e}px + ${n})`,display:"block",transitionEnd:{display:"none"}},transition:a}:{initial:{left:0},transition:a}},[t,r]);return a.createElement(eY.lY,{className:d()(el.ux,f.Dm,{[el.ew]:s,[el.Ph]:n&&!l,[el.Jq]:!o}),onContextMenu:eP.GY,"data-onboarding-key":"properties-panel",size:i,onResize:eQ,side:"left",animation:u(i,c),"data-cancel-insertable-resource-drag-and-drop":!0},e)}let e1=(0,u.jz)(eq.uj0)},275716:(e,t,n)=>{n.d(t,{GY:()=>y,_w:()=>E,og:()=>f,qh:()=>b});var a=n(411855),r=n(541594),l=n(922827),i=n(629019),s=n.n(i),o=n(518642),c=n(474474),d=n(301929),u=n(675808),p=n(736796),m=n(72400),_=n(157599),h=n(554707),g=n(464132);function y(e){let t=e.target;if(t){let n=t.tagName,a=t.type;n&&"INPUT"===n.toUpperCase()&&a&&"TEXT"===a.toUpperCase()||t.isContentEditable||e.preventDefault()}}function E({children:e,showRightSidebarPill:t}){let n=a.useRef(null),l=(0,r.U1)(n),i=(0,u.b)(),o=(0,p.qM)(),{fpl_accessible_areas_for_design:h,fpl_a11y_accessible_areas_fullscreen_shortcuts:y}=(0,c.kc)();return a.createElement(_.e,{condition:!!(y&&h),wrapper:e=>a.createElement(m.m,{role:"region","aria-label":(0,d.t)("fullscreen_actions.right_sidebar_label")},e)},a.createElement("div",{ref:l,className:s()(g.KE,{[g.IV]:(0,c.kc)().properties_panel_resize_lag_fix,[g.tM]:t,[g.Ph]:i&&!o})},e))}function f(e){if(e.numSelectedByType)return(0,h.aZ)(l.rrT.FILL,e.numSelectedByType)}function b(e){return(0,o.k9)(()=>f(e),[e])}},578942:(e,t,n)=>{n.d(t,{Mk:()=>eB,X7:()=>eD,sP:()=>ej});var a=n(411855),r=n(188507),l=n(447716),i=n(256296),s=n(193199),o=n(902237),c=n(427113),d=n(131546),u=n(350693),p=n(694855),m=n(319706),_=n(740941),h=n(744952),g=n(983991),y=n(603275),E=n(301929),f=n(145087),b=n(723789),v=n(334367),C=n(118931),S=n(345202),w=n(516090),k=n(320012),T=n(876560),I=n(888943),N=n(474474),A=n(241786),x=n(445713),M=n(543653);let P=[0,0,0,0],R=a.createContext([P,()=>{}]);function L({easingFunction:e,children:t}){let[n,r]=a.useState(e||P);return a.useEffect(()=>{e&&r(e)},[e]),e?a.createElement(R.Provider,{value:[n,r]},t):a.createElement(a.Fragment,null,t)}var O=n(83661),D=n(390797),F=n(270095),K=n(689570),B=n(462132),G=n(18229),V=n(423617),U=n(848687);let H="prototype_easing_editor--springInput--PEy5a",z="prototype_easing_editor--springLabel--khIGL",W=a.memo(function(e){var t=(0,K.jz)("208px");e.isNarrowPanel&&(t=(0,K.jz)("184px"));let n=(t-100)/2,r=new B.Mi(n,n+100),l=new B.Mi(n+100,n),i=(0,G.yM)(),s=i?.colorIcon||U.PN,o=i?.colorBg||U.Vm,c=i?.colorIconTertiary||U.c7,d=i.colorIconBrand,{tempBezierValues:u,setTempBezierValues:p,updateSelectionProperties:m}=e,_=a.useRef(null),[g,y]=a.useState(null);a.useLayoutEffect(()=>{if(null!==g)return document.addEventListener("mousemove",E,!0),document.addEventListener("mouseup",f,!0),()=>{document.removeEventListener("mousemove",E,!0),document.removeEventListener("mouseup",f,!0)}}),a.useLayoutEffect(()=>{_.current&&w(_.current)});let E=e=>{if(e.stopPropagation(),null===g||!_.current)return;let t=1===g.index?new B.Mi(0,0):new B.Mi(1,1),a=j(S(new B.Mi(e.clientX,e.clientY)),g.mouseDownT,t,n,100);1===g.index?p([a.x,a.y,u[2],u[3]]):2===g.index&&p([u[0],u[1],a.x,a.y])},f=h.rf(e.recordingKey,"mouseup",e=>{if(e.stopPropagation(),null===g||!_.current)return;let t=1===g.index?new B.Mi(0,0):new B.Mi(1,1),a=j(S(new B.Mi(e.clientX,e.clientY)),g.mouseDownT,t,n,100);1===g.index?m({easingFunction:[a.x,a.y,u[2],u[3]]}):2===g.index&&m({easingFunction:[u[0],u[1],a.x,a.y]}),y(null),D.$2.trigger("activateBezierAnimation")},{recordMetadata:e=>{let t=S(new B.Mi(e.clientX,e.clientY));return{left:t.x,top:t.y}},playbackMetadata:e=>{let t=C(new B.Mi(e.left,e.top));return{clientX:t.x,clientY:t.y}}}),v=h.rf(e.recordingKey,"mousedown",e=>{e.stopPropagation();let t=S(new B.Mi(e.clientX,e.clientY)),a=$(new B.Mi(u[0],u[1]),n,100),i=$(new B.Mi(u[2],u[3]),n,100);if(5>B.Mi.distance(t,a)){y({index:1,mouseDownT:1}),D.$2.trigger("resetBezierAnimation");return}if(5>B.Mi.distance(t,i)){y({index:2,mouseDownT:1}),D.$2.trigger("resetBezierAnimation");return}if(Y(t,r,10)){m({easingFunction:[0,0,u[2],u[3]]});return}if(Y(t,l,10)){m({easingFunction:[u[0],u[1],1,1]});return}let[s,o]=X(t,r,a);if(s<5){y({index:1,mouseDownT:o}),D.$2.trigger("resetBezierAnimation");return}let[c,d]=X(t,l,i);if(c<5){y({index:2,mouseDownT:d}),D.$2.trigger("resetBezierAnimation");return}if(function(e,t,n,a){let[r]=X(e,n,a);return r<5}(t,0,r,l)){m({easingFunction:[0,0,1,1]});return}},{recordMetadata:e=>{let t=S(new B.Mi(e.clientX,e.clientY));return{left:t.x,top:t.y}},playbackMetadata:e=>{let t=C(new B.Mi(e.left,e.top));return{clientX:t.x,clientY:t.y}}});function C(e){let t=_.current.getBoundingClientRect();return new B.Mi(t.left+e.x,t.top+e.y)}function S(e){let t=_.current.getBoundingClientRect();return new B.Mi(e.x-t.left,e.y-t.top)}let w=e=>{let a=e.getContext("2d");if(!a)return;let i=window.devicePixelRatio||1;e.width=i*t,e.height=i*t,e.style.width=t+"px",e.style.height=t+"px",a.scale(i,i);let p=new B.Mi(r.x,l.y),m=new B.Mi(l.x,r.y),_=$(new B.Mi(u[0],u[1]),n,100),h=$(new B.Mi(u[2],u[3]),n,100);a.lineWidth=1,a.clearRect(0,0,t,t),a.strokeStyle=c,a.beginPath(),a.moveTo(p.x,p.y),a.lineTo(r.x,r.y),a.lineTo(m.x,m.y),a.stroke(),a.beginPath(),a.moveTo(r.x,r.y),a.lineTo(l.x,l.y),a.stroke(),a.setLineDash([13,6]),a.lineDashOffset=6,a.beginPath(),a.moveTo(p.x,p.y),a.lineTo(l.x,l.y),a.lineTo(m.x,m.y),a.stroke(),a.fillStyle=s,a.beginPath(),a.arc(r.x,r.y,2,0,2*Math.PI,!1),a.fill(),a.beginPath(),a.arc(l.x,l.y,2,0,2*Math.PI,!1),a.fill(),a.strokeStyle=s,a.setLineDash([]),a.beginPath(),a.moveTo(r.x,r.y),a.lineTo(_.x,_.y),a.stroke(),a.beginPath(),a.moveTo(l.x,l.y),a.lineTo(h.x,h.y),a.stroke(),a.beginPath(),a.moveTo(r.x,r.y),a.bezierCurveTo(_.x,_.y,h.x,h.y,l.x,l.y),a.stroke();let y=(e,t)=>{switch(null!==g&&e===g.index?"SELECTED":1===e?0===u[0]&&0===u[1]?"RESET":"NORMAL":1===u[2]&&1===u[3]?"RESET":"NORMAL"){case"RESET":a.strokeStyle=s,a.fillStyle=o;break;case"NORMAL":a.strokeStyle=o,a.fillStyle=s;break;case"SELECTED":a.strokeStyle=o,a.fillStyle=d}a.lineWidth=1,a.beginPath(),a.arc(t.x,t.y,4.5,0,2*Math.PI),a.fill(),a.stroke()};y(1,_),y(2,h)},k=a.createElement("div",{className:e.isNarrowPanel?"prototype_easing_editor--bezierCurveContainerNarrow--3m-Op prototype_easing_editor--bezierCurveContainer--Myl0y":"prototype_easing_editor--bezierCurveContainer--Myl0y"},a.createElement("canvas",{ref:_,onMouseDown:v}));return(0,b.GS)()?a.createElement(F.TN,{appendedClassName:V.Rk},k):k});function j(e,t,n,a,r){let l=new B.Mi((e.x-a)/r,(a+r-e.y)/r);t=Math.max(.01,t);let i=l.subtract(n).divide(new B.Mi(t,t)).add(n);return new B.Mi(Math.max(Math.min(i.x,1),0),i.y)}function $(e,t,n){return new B.Mi(t+n*e.x,t+n*(1-e.y))}function Y(e,t,n){return B.Mi.distance(e,t)<n/2}function X(e,t,n){let a=B.Mi.dot(B.Mi.subtract(e,t),B.Mi.subtract(n,t))/B.Mi.distance(t,n)**2;a=Math.min(Math.max(a,0),1);let r=B.Mi.add(t,B.Mi.scale(a,B.Mi.subtract(n,t)));return[B.Mi.distance(e,r),a]}var Z=n(543509),q=n(187134),J=n(629019),Q=n.n(J);class ee{constructor(e=1,t=0){this.m00=e,this.m10=t}translate(e){return this.m10+=e,this}scale(e){return this.m00*=e,this.m10*=e,this}static fromRangeMapping(e,t,n,a){return new ee().translate(-e).scale((a-n)/(t-e)).translate(n)}static fromConstant(e){return new ee().scale(0).translate(e)}static invert(e){return new ee(1/e.m00,-e.m10/e.m00)}transformValue(e){return e*this.m00+this.m10}transformDirection(e){return e*this.m00}}class et{constructor(e,t){this.transform1=e,this.transform2=t}transformValue(e){return this.transform2.transformValue(this.transform1.transformValue(e))}}class en{constructor({hardLimit:e,threshold:t,initialValue:n,slowFunction:a,slowFunctionInverse:r}){this.slowFunction=a,this.slowFunctionInverse=r,this.mapToSlowSpace=ee.fromRangeMapping(t,e,0,-1),this.mapToSlowSpaceInverse=ee.invert(this.mapToSlowSpace),this.initialValueInSlowSpace=this.mapToSlowSpace.transformValue(n)}transformValue(e){let t=this.mapToSlowSpace.transformValue(e);t>this.initialValueInSlowSpace&&(this.initialValueInSlowSpace=t);let n=this.slowFunctionInverse(this.initialValueInSlowSpace)-this.initialValueInSlowSpace;return this.mapToSlowSpaceInverse.transformValue(this.slowFunction(t+n))}}function ea(e){return e>=0?e:1/(1-e)-1}function er(e){return e>=0?e:1-1/(e+1)}class el extends en{constructor({hardLimit:e,threshold:t,initialValue:n}){super({hardLimit:e,threshold:t,initialValue:n,slowFunction:ea,slowFunctionInverse:er})}}var ei=n(134605),es=n(819112);let eo="prototype_easing_spring_curve--springvisHandle--0mFVz",ec="prototype_easing_spring_curve--springvisHandleActive--5RaLT";function ed(e){return{x:(0,Z.qE)(e.x,0,1),y:(0,Z.qE)(e.y,0,2)}}function eu(e,t){return(0,ei._J)((0,ei.my)(ed(e),t),ei.kM)}function ep(e){return{handle:e,offset:null}}function em(e){let[t,n]=a.useState({width:e.isNarrowPanel?182:215,height:e.isNarrowPanel?114:128}),l=t.width,i=t.height,s=(0,a.useRef)(null),o=(0,b.GS)();a.useEffect(()=>{let e=new ResizeObserver(e=>{for(let t of e){let{width:e,height:a}=t.contentRect;n({width:e,height:a})}});return o&&s.current&&e.observe(s.current),()=>{e.disconnect()}},[o]);let c=ee.fromRangeMapping(0,1,8,l-8),d=ee.fromRangeMapping(2,0,8,i-8),u=ee.invert(c),p=ee.invert(d),m=u.transformDirection(1),[_,h]=(0,a.useState)(null),g=(0,r.wA)(),y=(0,a.useCallback)(e=>{let t=s.current.getBoundingClientRect();return{x:u.transformValue(e.clientX-t.left),y:p.transformValue(e.clientY-t.top)}},[u,p]),E=e.value,f=(0,es.Y1)(E),v=f&&ed((0,ei.im)(E)),C=f&&(0,ei.xX)(E);(0,a.useEffect)(()=>{if(!_)return;let t=t=>{t.stopPropagation();let n=y(t);if(v){if(_.offset)e.onInput(eu({x:_.offset.x.transformValue(n.x),y:_.offset.y.transformValue(n.y)},E));else if("SPRING_HANDLE"===_.handle){let e={x:new ee().translate(v.x-n.x),y:new ee().translate(v.y-n.y)};h({..._,offset:{x:new et(e.x,new el({hardLimit:0,threshold:.15,initialValue:v.x})),y:new et(e.y,new el({hardLimit:2,threshold:1.8,initialValue:v.y}))}})}else if("SCALE_BACKGROUND"===_.handle){let e=n.x>v.x?{x:new ee().scale(v.x/n.x),y:ee.fromConstant(v.y)}:{x:new ee().translate(v.x-n.x),y:ee.fromConstant(v.y)};h({..._,offset:{x:new et(e.x,new el({hardLimit:0,threshold:.08,initialValue:v.x})),y:e.y}})}else if("DURATION_HANDLE"===_.handle&&C){let e={x:new ee().translate(C-n.x).scale(v.x/C),y:ee.fromConstant(v.y)};h({..._,offset:{x:new et(e.x,new el({hardLimit:0,threshold:.08,initialValue:v.x})),y:e.y}})}}else e.onInput(eu(n,E)),h({..._,handle:"SPRING_HANDLE"})},n=t=>{t.stopPropagation(),h(null),(0,es.Y1)(E)&&e.onChange(E,_.handle)},a=e=>{e.stopPropagation()},r=e=>{e.stopPropagation()};return document.addEventListener("pointermove",t),document.addEventListener("pointerup",n),document.addEventListener("mousemove",r,!0),document.addEventListener("mouseup",a,!0),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n),document.removeEventListener("mousemove",r,!0),document.removeEventListener("mouseup",a,!0)}},[_,E,v,C,e,g,y]);let S=(0,a.useCallback)(t=>{let n=eu(y(t),E);e.onChange(n,"DOUBLE_CLICK")},[e,E,y]),w={cursor:"ew-resize"};return a.createElement(q.o,{eventListeners:["onMouseDown"],display:"contents"},a.createElement("div",{className:"prototype_easing_spring_curve--springvisContainer--6iDnn",style:(0,b.GS)()?void 0:{width:l,height:i},ref:s},a.createElement("svg",{width:l,height:i,viewBox:`0 0 ${l} ${i}`,xmlns:"http://www.w3.org/2000/svg",onDoubleClick:S},a.createElement("line",{className:"prototype_easing_spring_curve--springvisGuideline--aYSpJ",x1:c.transformValue(0),y1:d.transformValue(1),x2:c.transformValue(1),y2:d.transformValue(1)}),f&&v&&C&&a.createElement(a.Fragment,null,a.createElement("path",{className:"prototype_easing_spring_curve--springvisSpringCurve--aOLEK",fill:"none",style:{transition:"none"},d:function(e,t,n,a){let r=`M ${t.transformValue(0)},${n.transformValue(0)}`;for(let l=0;l<=1;l+=a){let a=(0,es.Zp)(e,l);if(isNaN(a))return"";r+=`L ${t.transformValue(l)},${n.transformValue(a)}`}return r}(E,c,d,m)}),a.createElement("rect",{className:Q()(eo,_&&("DURATION_HANDLE"===_.handle||"SCALE_BACKGROUND"===_.handle)&&ec),x:c.transformValue(C)-2.5,y:d.transformValue(1)-7.5,width:5,height:15,rx:2.5,ry:2.5}),a.createElement("circle",{className:Q()(eo,_&&"SPRING_HANDLE"===_.handle&&ec),cx:c.transformValue(v.x),cy:d.transformValue(v.y),r:5})),a.createElement("rect",{x:0,y:0,width:l,height:i,fill:"transparent",style:w,onPointerDown:()=>{h(ep("SCALE_BACKGROUND")),D.BG.trigger("resetSpringAnimation")}}),C&&a.createElement(a.Fragment,null,a.createElement("circle",{cx:c.transformValue(C),cy:d.transformValue(1),r:20,fill:"transparent",style:w,onPointerDown:()=>{h(ep("DURATION_HANDLE")),D.BG.trigger("resetSpringAnimation")}})),v&&a.createElement(a.Fragment,null,a.createElement("circle",{cx:c.transformValue(v.x),cy:d.transformValue(v.y),r:20,fill:"transparent",onPointerDown:()=>{h(ep("SPRING_HANDLE")),D.BG.trigger("resetSpringAnimation")}})))))}function e_(e){if(!(0,es.Y1)(e)){let t=e[es.hD.STIFFNESS],n=e[es.hD.DAMPING];e[es.hD.MASS]>0||(e[es.hD.MASS]=1),t>0||(e[es.hD.STIFFNESS]=ei.wH.MIN_STIFFNESS),n>0||(e[es.hD.DAMPING]=ei.wH.MIN_DAMPING)}return e}let eh=a.memo(function(e){let t=(0,r.wA)(),n=(0,b.GS)(),l=(0,x.cJ)(),i=t=>{e.updateSelectionProperties({easingFunction:t}),D.$2.trigger("activateBezierAnimation")},s=(n,a,r)=>{let l=(0,es.J5)(n);e.updateSelectionProperties({easingFunction:n,transitionDuration:l}),D.BG.trigger("restartSpringAnimation"),r===k.zk.YES&&t((0,w._P)({name:"Prototype Spring Animations Set Custom Value",params:{editedValue:a,...(0,ei.F4)(n)}}))},o=(t,r)=>{let l=a.createElement(em,{value:t,onInput:r,onChange:(e,t)=>{s(e,t,k.zk.YES)},recordingKey:h.Pt(e,"springCurve"),isNarrowPanel:e.isNarrowPanel});return n?a.createElement(F.TN,{appendedClassName:V.Rk},l):a.createElement("div",{className:"prototype_easing_editor--springCurveContainer--mNWzA"},l)},c=r=>{let l=a.createElement(I.$j,{id:"easing-editor-spring-stiffness-input",className:H,"data-tooltip-type":T.Ib.TEXT,min:ei.wH.MIN_STIFFNESS,max:ei.wH.MAX_STIFFNESS,bigNudgeAmount:10,smallNudgeAmount:1,"data-tooltip":(0,E.t)("proto.easing_editor.spring_stiffness"),tooltipForScreenReadersOnly:!0,value:r[es.hD.STIFFNESS],onValueChange:(e,t)=>{let n=e_(r.slice());n[es.hD.STIFFNESS]=e,s(n,"STIFFNESS",t)},recordingKey:h.Pt(e,"springStiffnessInput"),dispatch:t}),i=(0,E.tx)("proto.easing_editor.spring_stiffness");return n?a.createElement(F.cS,{label:i,input:l}):a.createElement(O.fI,null,a.createElement(O.JU,{className:z,htmlFor:"easing-editor-spring-stiffness-input"},i),l)},d=r=>{let l=a.createElement(I.$j,{id:"easing-editor-spring-damping-input",className:H,"data-tooltip-type":T.Ib.TEXT,min:ei.wH.MIN_DAMPING,max:ei.wH.MAX_DAMPING,bigNudgeAmount:10,smallNudgeAmount:1,"data-tooltip":(0,E.t)("proto.easing_editor.spring_damping"),tooltipForScreenReadersOnly:!0,value:r[es.hD.DAMPING],onValueChange:(e,t)=>{let n=e_(r.slice());n[es.hD.DAMPING]=e,s(n,"DAMPING",t)},recordingKey:h.Pt(e,"springDampingInput"),dispatch:t}),i=(0,E.tx)("proto.easing_editor.spring_damping");return n?a.createElement(F.cS,{label:i,input:l}):a.createElement(O.fI,null,a.createElement(O.JU,{className:z,htmlFor:"easing-editor-spring-damping-input"},i),l)},u=r=>{let l=a.createElement(I.$j,{id:"easing-editor-spring-mass-input",className:H,"data-tooltip-type":T.Ib.TEXT,min:ei.wH.MIN_MASS,max:ei.wH.MAX_MASS,bigNudgeAmount:10,smallNudgeAmount:1,"data-tooltip":(0,E.t)("proto.easing_editor.spring_mass"),tooltipForScreenReadersOnly:!0,value:r[es.hD.MASS],onValueChange:(e,t)=>{let n=e_(r.slice());n[es.hD.MASS]=e,s(n,"MASS",t)},recordingKey:h.Pt(e,"springMassInput"),dispatch:t}),i=(0,E.tx)("proto.easing_editor.spring_mass");return n?a.createElement(F.cS,{label:i,input:l}):a.createElement(O.fI,null,a.createElement(O.JU,{className:z,htmlFor:"easing-editor-spring-mass-input"},i),l)},p=t=>{let r=a.createElement(M.nA,{className:"prototype_easing_editor--input--2fhlq",formatter:A.n,property:t,onChange:i,recordingKey:h.Pt(e,"cubicBezierFunctionInput")});return n?a.createElement(F.cS,{label:(0,E.tx)("proto.easing_behavior.bezier"),input:r}):a.createElement(O.fI,null,r)},m=(t,n)=>a.createElement(W,{tempBezierValues:t,setTempBezierValues:n,updateSelectionProperties:e.updateSelectionProperties,recordingKey:h.Pt(e,"cubicBezierCurve"),isNarrowPanel:e.isNarrowPanel}),_=l&&(0,N.kc)().sts_interaction_interop;return a.createElement(R.Consumer,null,([t,n])=>a.createElement("div",null,"CUSTOM_BEZIER"===e.easingType?_?a.createElement(a.Fragment,null,p(t),m(t,n)):a.createElement(a.Fragment,null,m(t,n),p(t)):"CUSTOM_SPRING"===e.easingType?_?a.createElement(a.Fragment,null,c(t),d(t),u(t),o(t,n)):a.createElement(a.Fragment,null,o(t,n),c(t),d(t),u(t)):null))});var eg=n(436347),ey=n(30231),eE=n(908367),ef=n(132540);let eb="prototype_animation_panel--transitionRightCol--3L083",ev="prototype_animation_panel--input--p60KV",eC="prototype_animation_panel--chevron--cje-0";var eS=n(558021),ew=n(23966),ek=n(172413),eT=n(630282),eI=["LINEAR","SELECT_DIVIDER","EASE_IN","EASE_OUT","EASE_IN_AND_OUT","EASE_IN_BACK","EASE_OUT_BACK","EASE_IN_AND_OUT_BACK","CUSTOM_BEZIER","SELECT_DIVIDER","GENTLE","QUICK","BOUNCY","SLOW","CUSTOM_SPRING"];let eN={scrollTo:["INSTANT","SCROLL_ANIMATE"],nonScrollTo:["INSTANT","DISSOLVE","SMART_ANIMATE","SELECT_DIVIDER","MOVE","MOVE_OUT","PUSH","SLIDE","SLIDE_OUT"]};function eA(e,t,n){let a="DRAG"!==e||"INSTANT"!==n&&"DISSOLVE"!==n,r=!1;switch(t){case"NAVIGATE":r="SCROLL_ANIMATE"!==n;break;case"OVERLAY":r=["INSTANT","DISSOLVE","MOVE"].indexOf(n??"")>=0;break;case"SCROLL_TO":r=["INSTANT","SCROLL_ANIMATE"].indexOf(n??"")>=0;break;case"SWAP":r=["INSTANT","DISSOLVE","MOVE","SMART_ANIMATE"].indexOf(n??"")>=0;break;case"SWAP_STATE":r=["INSTANT","DISSOLVE","SMART_ANIMATE"].indexOf(n??"")>=0}return r&&a}let ex="RIGHT";function eM(e){switch(e.behavior){case"INSTANT":return{transitionType:"INSTANT_TRANSITION"};case"DISSOLVE":return{transitionType:"DISSOLVE"};case"FADE":return{transitionType:"FADE"};case"PUSH":case"SLIDE":case"MOVE":if(!e.direction)return{transitionType:`${e.behavior}_FROM_${ex}`};return{transitionType:`${e.behavior}_FROM_${e.direction}`};case"SLIDE_OUT":case"MOVE_OUT":if(!e.direction)return{transitionType:`${e.behavior}_TO_${ex}`};return{transitionType:`${e.behavior}_TO_${e.direction}`};case"SMART_ANIMATE":return{transitionType:"SMART_ANIMATE"};case"SCROLL_ANIMATE":return{transitionType:"SCROLL_ANIMATE"};default:return{}}}function eP(e){switch(e.easing){case"EASE_IN":return{easingType:"IN_CUBIC"};case"EASE_OUT":return{easingType:"OUT_CUBIC"};case"EASE_IN_AND_OUT":return{easingType:"INOUT_CUBIC"};case"LINEAR":return{easingType:"LINEAR"};case"EASE_IN_BACK":return{easingType:"IN_BACK_CUBIC"};case"EASE_OUT_BACK":return{easingType:"OUT_BACK_CUBIC"};case"EASE_IN_AND_OUT_BACK":return{easingType:"INOUT_BACK_CUBIC"};case"CUSTOM_BEZIER":return{easingType:"CUSTOM_CUBIC"};case"GENTLE":return{easingType:"GENTLE_SPRING"};case"QUICK":return{easingType:"SPRING_PRESET_ONE"};case"BOUNCY":return{easingType:"SPRING_PRESET_TWO"};case"SLOW":return{easingType:"SPRING_PRESET_THREE"};case"CUSTOM_SPRING":return{easingType:"CUSTOM_SPRING"};default:return{}}}function eR(e){return"GENTLE"===e||"QUICK"===e||"BOUNCY"===e||"SLOW"===e||"CUSTOM_SPRING"===e}function eL(e,t){switch(e.easing){case"EASE_IN":return{easingFunction:[.42,0,1,1]};case"EASE_OUT":return{easingFunction:[0,0,.58,1]};case"EASE_IN_AND_OUT":return{easingFunction:[.42,0,.58,1]};case"LINEAR":return{easingFunction:[0,0,1,1]};case"EASE_IN_BACK":return{easingFunction:[.3,-.05,.7,-.5]};case"EASE_OUT_BACK":return{easingFunction:[.45,1.45,.8,1]};case"EASE_IN_AND_OUT_BACK":return{easingFunction:[.7,-.4,.4,1.4]};case"CUSTOM_BEZIER":return!(0,C.hS)(e.easingFunction)||t?{easingFunction:[0,0,.58,1]}:{easingFunction:e.easingFunction};case"GENTLE":return{easingFunction:[1,100,15,0]};case"QUICK":return{easingFunction:[1,300,20,0]};case"BOUNCY":return{easingFunction:[1,600,15,0]};case"SLOW":return{easingFunction:[1,80,20,0]};case"CUSTOM_SPRING":return!(0,C.hS)(e.easingFunction)||t?{easingFunction:[1,100,15,0]}:{easingFunction:(0,es.w_)(e.easingFunction)};default:return{}}}function eO(e,t){if((0,C.hS)(e.easing)){if(eR(e.easing)){let n=eL(e,t).easingFunction;if(n&&(0,C.hS)(n))return{transitionDuration:(0,es.J5)(n)}}else if(t)return{transitionDuration:.3}}if((0,C.hS)(e.duration))return e.duration?{transitionDuration:e.duration}:{}}function eD({transition:e,interactionType:t,navigationType:n,recordingKey:s,isNarrowPanel:o,stateManagementVersion:d,updateSelectionProperties:u}){let p=(0,r.wA)(),m=(0,S.Um)(),g=(0,v.EU)(),y=(0,_.md)(eg.x),f=(0,b.GS)(),N=(t,n)=>{let a=e.easingFunction;if((0,C.hS)(a)){let e=(0,ei.PQ)(t,(0,es.w_)(a)),r=(0,es.J5)(e);u({easingFunction:e,transitionDuration:r}),D.BG.trigger("restartSpringAnimation"),n===k.zk.YES&&p((0,w._P)({name:"Prototype Spring Animations Set Custom Value",params:{editedValue:"DURATION",...(0,ei.F4)(e)}}))}},A=(0,C.E7)(e.behavior),x=(0,C.E7)(n),M="NAVIGATE"===x,P="INSTANT"!==e.behavior&&"DISSOLVE"!==e.behavior&&"SMART_ANIMATE"!==e.behavior&&"SCROLL_ANIMATE"!==e.behavior,K="INSTANT"!==e.behavior&&eA(t,x,(0,C.E7)(e.behavior)),B=K&&!y;K=eA(t,x,(0,C.E7)(e.behavior));let G=!e.isSpringTransition||"INSTANT"===e.behavior,V="INSTANT"===e.behavior,U=a.createElement(eW,{className:"prototype_animation_panel--transitionLeftCol--33VAT",property:e.easing,dispatch:p,dropdownShown:m,onChange:t=>{p((0,w._P)({name:"Prototype Transition Easing Changed",params:{newEasing:t}}));let n={...e,easing:t},a=e.easing,r=!(0,C.hS)(a)||eR(t)!==eR(a);u({...eP(n),...eL(n,r),...eO(n,r)}),setTimeout(()=>{eR(t)?D.BG.trigger("restartSpringAnimation"):D.$2.trigger("activateBezierAnimation")},0)},recordingKey:h.Pt(s,"easingDropdown")}),H=a.createElement(a.Fragment,null,G&&a.createElement(I.W4,{className:f?eE.Lp:eb,inputClassName:f?eE.Gl:void 0,dispatch:p,value:e.duration,onValueChange:t=>{p((0,w._P)({name:"Prototype Transition Duration Changed",params:{newDuration:t}})),u({...eO({...e,duration:t})})},wheelMultiplier:g/10,scrubMultiplier:.004166666666666667,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("proto.animation_panel.easing_duration_tooltip"),tooltipForScreenReadersOnly:!0,recordingKey:h.Pt(s,"durationInput")},f?a.createElement(c.A,null):void 0),!V&&(0,C.hS)(e.easing)&&eR(e.easing)&&(0,C.hS)(e.easingFunction)&&a.createElement(R.Consumer,null,([e])=>a.createElement(I.W4,{className:f?eE.Lp:eb,inputClassName:f?eE.Gl:void 0,dispatch:p,value:(0,ei.xX)((0,es.w_)(e)),onValueChange:N,wheelMultiplier:g/10,scrubMultiplier:.004166666666666667,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("proto.animation_panel.easing_duration_tooltip"),tooltipForScreenReadersOnly:!0,recordingKey:h.Pt(s,"springDurationInput")},f?a.createElement(c.A,null):void 0))),z=f?a.createElement(a.Fragment,null,a.createElement(F.cS,{label:(0,E.tx)("proto.curve"),input:U}),a.createElement(F.cS,{label:(0,E.tx)("proto.duration"),input:H})):a.createElement(O.fI,null,U,H),W=a.createElement(eU,{className:f?void 0:P?"prototype_animation_panel--shortSelect--Hcoa7":"prototype_animation_panel--longSelect--JgkKH",interactionType:t,navigationType:x,property:e.behavior,dispatch:p,dropdownShown:m,onChange:t=>{p((0,w._P)({name:"Prototype Transition Type Changed",params:{newType:t,oldType:(0,C._W)(e.behavior,"MIXED"),smartAnimateMatchingLayers:(0,C._W)(e.shouldSmartAnimate,null)}}));let n={...e,behavior:t};u({...eM(n),...eP(n),...eL(n),...eO(n),...function(e,t){if((0,C.hS)(e.preserveScroll)&&1!==t)return{transitionPreserveScroll:e.preserveScroll}}(n,d),...function(e){if((0,C.hS)(e.resetVideoPosition))return{transitionResetVideoPosition:e.resetVideoPosition}}(n)})},recordingKey:h.Pt(s,"behaviorDropdown")}),j=P?a.createElement(ej,{property:e.direction?e.direction:null,onChange:t=>{p((0,w._P)({name:"Prototype Transition Direction Changed",params:{newDirection:t,oldDirection:(0,C._W)(e.direction,"MIXED")}})),u({...eM(e.direction?{...e,direction:t}:{...e,direction:t,behavior:"MOVE"})})},recordingKey:h.Pt(s,"directionControl")}):null,$=f?P?a.createElement(a.Fragment,null,a.createElement(F.cS,{label:(0,E.tx)("proto.animation"),input:W})):a.createElement(F.cS,{label:(0,E.tx)("proto.animation"),input:W}):a.createElement(O.fI,null,W,j),Y=P&&a.createElement(F.cS,{label:(0,E.tx)("proto.direction"),input:j}),X=a.createElement(l.S,{onChange:t=>{let n=(0,C.E7)(e.behavior);p((0,w._P)({name:"Smart Animate Changed",params:{newValue:t,transitionType:n}})),u({...function(e){if((0,C.hS)(e.shouldSmartAnimate))return{transitionShouldSmartAnimate:e.shouldSmartAnimate}}({...e,shouldSmartAnimate:t})})},checked:!0===e.shouldSmartAnimate,mixed:(0,C.gl)(e.shouldSmartAnimate),recordingKey:h.Pt(s,"transition-should-smart-animate"),label:a.createElement(i.J,null,(0,E.tx)("proto.animation_panel.animate_matching_layers"))}),Z=f?a.createElement(F.TN,null,X):a.createElement(O.fI,{className:"prototype_animation_panel--checkboxRow----O-1 checkbox--_checkboxRow--oEhow","data-tooltip-type":T.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip":(0,E.t)("proto.animation_panel.smart_animate_matching_layers_tooltip")},X);return a.createElement(O.Zk,{className:"prototype_animation_panel--animationPanel--9dIh2"},$,K&&!V&&M&&("MOVE"==A||"MOVE_OUT"==A||"PUSH"==A||"SLIDE"==A||"SLIDE_OUT"==A)&&Z,f&&Y,a.createElement(L,{easingFunction:(0,C.hS)(e.easingFunction)?e.easingFunction:null},K&&!V&&z,K&&!V&&("CUSTOM_BEZIER"===e.easing||"CUSTOM_SPRING"===e.easing)&&(0,C.hS)(e.easingFunction)&&a.createElement(eh,{easingType:e.easing,easingFunction:e.easingFunction,duration:e.duration,updateSelectionProperties:u,recordingKey:h.Pt(s,"easingEditor"),isNarrowPanel:o})),B&&a.createElement("div",{className:"prototype_animation_panel--previewPane--q9Wvl"},!G&&a.createElement(D.SA,{transition:e,isNarrowPanel:o,isUI3:f}),G&&a.createElement(D.ub,{transition:e,isNarrowPanel:o,isUI3:f})))}let eF=ey.l6,eK=ey.c$;class eB{formatImpl(e,t){if(null==e)return"";switch(e){case"LINEAR":return(0,E.t)("proto.easing_behavior.linear");case"EASE_IN":return(0,E.t)("proto.easing_behavior.bezier_ease_in");case"EASE_OUT":return(0,E.t)("proto.easing_behavior.bezier_ease_out");case"EASE_IN_AND_OUT":return(0,E.t)("proto.easing_behavior.bezier_ease_in_and_out");case"EASE_IN_BACK":return(0,E.t)("proto.easing_behavior.bezier_ease_in_back");case"EASE_OUT_BACK":return(0,E.t)("proto.easing_behavior.bezier_ease_out_back");case"EASE_IN_AND_OUT_BACK":return(0,E.t)("proto.easing_behavior.bezier_ease_in_and_out_back");case"CUSTOM_BEZIER":return t?(0,E.t)("proto.easing_behavior.bezier_custom"):(0,E.t)("proto.easing_behavior.bezier_custom_short");case"GENTLE":return(0,E.t)("proto.easing_behavior.spring_gentle");case"QUICK":return(0,E.t)("proto.easing_behavior.spring_quick");case"BOUNCY":return(0,E.t)("proto.easing_behavior.spring_bouncy");case"SLOW":return(0,E.t)("proto.easing_behavior.spring_slow");case"CUSTOM_SPRING":return t?(0,E.t)("proto.easing_behavior.spring_custom"):(0,E.t)("proto.easing_behavior.spring_custom_short");default:return new f._r().format(e)}}format(e){return this.formatImpl(e,!1)}formatExtended(e){return{text:this.formatImpl(e,!0)}}}let eG=new eB,eV=new f.el;class eU extends a.PureComponent{render(){let e="SCROLL_TO"===this.props.navigationType?eN.scrollTo:eN.nonScrollTo;return a.createElement(eF,{id:`animation-behavior-select-${this.props.recordingKey}`,className:this.props.className,chevronClassName:eC,inputClassName:ev,dropdownWidth:ef.DxS,property:this.props.property,formatter:eV,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:h.Pt(this.props,"select"),dataTestId:"transition-select",hideDropdownWhenContainerMoves:!(0,g.nl)(),dataOnboardingKey:"transition_behavior_select_onboarding_key"},e.map((e,t)=>"SELECT_DIVIDER"===e?a.createElement(ey.sK,{key:t}):a.createElement(eK,{key:e,value:e,disabled:!eA(this.props.interactionType,this.props.navigationType,e),recordingKey:h.Pt(this.props,e)})))}}eU.displayName="TransitionBehaviorDropdown";let eH=ey.l6,ez=ey.c$;class eW extends a.PureComponent{render(){return a.createElement(eH,{id:`easing-type-select-${this.props.recordingKey}`,className:this.props.className,chevronClassName:eC,inputClassName:ev,dropdownWidth:ef.DxS,property:this.props.property,formatter:eG,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:h.Pt(this.props,"select"),dataOnboardingKey:"easing"},eI.map((e,t)=>"SELECT_DIVIDER"===e?a.createElement(ey.sK,{key:t}):a.createElement(ez,{key:t,value:e,disabled:!1,recordingKey:h.Pt(this.props,e)})))}}eW.displayName="TransitionEasingDropdown";class ej extends a.PureComponent{render(){return a.createElement(s.bL,{onChange:this.props.onChange,recordingKey:this.props.recordingKey,value:(0,C.hS)(this.props.property)?this.props.property??"LEFT":void 0,legend:a.createElement(o.q,null,(0,E.t)("proto.animation_panel.transition_direction"))},a.createElement(s.c$,{value:"RIGHT",icon:a.createElement(y.U,{svg:ew.A},a.createElement(d.v,null)),"aria-label":(0,E.t)("proto.animation_panel.transition_direction.left")}),a.createElement(s.c$,{value:"LEFT",icon:a.createElement(y.U,{svg:ek.A},a.createElement(u.o,null)),"aria-label":(0,E.t)("proto.animation_panel.transition_direction.right")}),a.createElement(s.c$,{value:"TOP",icon:a.createElement(y.U,{svg:eS.A},a.createElement(p.W,null)),"aria-label":(0,E.t)("proto.animation_panel.transition_direction.down")}),a.createElement(s.c$,{value:"BOTTOM",icon:a.createElement(y.U,{svg:eT.A},a.createElement(m.N,null)),"aria-label":(0,E.t)("proto.animation_panel.transition_direction.up")}))}}ej.displayName="TransitionDirectionControl"},134605:(e,t,n)=>{n.d(t,{F4:()=>y,PQ:()=>g,_J:()=>p,im:()=>c,kM:()=>u,my:()=>d,wH:()=>l,xX:()=>_});var a=n(543509),r=n(819112);class l{}l.MAX_W0=1e3,l.MIN_W0=.1,l.MAX_ZETA=1,l.MIN_ZETA=1e-4,l.MIN_MASS=.01,l.MIN_STIFFNESS=.01,l.MIN_DAMPING=.01,l.MAX_MASS=100,l.MAX_STIFFNESS=1e4,l.MAX_DAMPING=1e3;let i=Math.PI/l.MAX_W0;function s(e){let t=e[r.hD.STIFFNESS],n=e[r.hD.DAMPING],a=e[r.hD.MASS];return{frequency:Math.sqrt(t/a),zeta:n/(2*Math.sqrt(t*a))}}function o({frequency:e,zeta:t},n){let i=n[r.hD.MASS]>0?(0,a.qE)(n[r.hD.MASS],l.MIN_MASS,l.MAX_MASS):1,s=e*e*i,o=2*t*Math.sqrt(s*i),c=n.slice();return c[r.hD.MASS]=i,c[r.hD.STIFFNESS]=s,c[r.hD.DAMPING]=o,c}function c(e){return function({frequency:e,zeta:t}){return{x:Math.max(Math.PI/e,0),y:2-2*Math.pow((0,a.qE)(t,0,1),.87)}}(s(e))}function d(e,t){return o({frequency:(0,a.qE)(Math.PI/Math.max(i,e.x),l.MIN_W0,l.MAX_W0),zeta:(0,a.qE)(Math.pow((2-e.y)/2,1.1494252873563218),l.MIN_ZETA,l.MAX_ZETA)},t)}let u=3;function p(e,t){return e[r.hD.STIFFNESS]=m(e[r.hD.STIFFNESS],t),e[r.hD.DAMPING]=m(e[r.hD.DAMPING],t),e}function m(e,t){return+e.toPrecision(t)}function _(e){let{frequency:t,zeta:n}=s(e);return h/(t*n)}let h=6;function g(e,t){let n=s(t).zeta;return p(o({frequency:h/e/n,zeta:n},t),4)}function y(e){let t=c(e),n=_(e);return{mass:e[r.hD.MASS],stiffness:e[r.hD.STIFFNESS],damping:e[r.hD.DAMPING],handleX:t.x,handleY:t.y,duration:n}}},819112:(e,t,n)=>{function a(e,t){return function(e,t,n,a,r){let l,i,s;let o=Math.sqrt(t/e),c=n/(2*Math.sqrt(t*e));return c<1?(l=o*Math.sqrt(1-c*c),i=1,s=(c*o+-a)/l):(l=0,i=1,s=-a+o),1-(r=c<1?Math.exp(-r*c*o)*(i*Math.cos(l*r)+s*Math.sin(l*r)):(i+s*r)*Math.exp(-r*o))}(e[0],e[1],e[2],e[3],t)}function r(e){return function(e,t){let n=e[1],a=e[2],r=e[0],l=e[3],i=Math.sqrt(n/r),s=Math.min(.9999,a/(2*Math.sqrt(n*r))),o=i*Math.sqrt(1-s*s);return(-Math.log(.001)+Math.log(1+(s*i+Math.abs(l))/o))/(s*i)}(e,0)}n.d(t,{J5:()=>r,Y1:()=>i,Zp:()=>a,hD:()=>l,w_:()=>s});var l=(e=>(e[e.MASS=0]="MASS",e[e.STIFFNESS=1]="STIFFNESS",e[e.DAMPING=2]="DAMPING",e[e.INITIAL_VELOCITY=3]="INITIAL_VELOCITY",e))(l||{});function i(e){let t=e[1],n=e[2],a=e[0];return t>0&&n>0&&a>0}function s(e){return i(e)?e:[1,100,10,0]}},436347:(e,t,n)=>{n.d(t,{x:()=>a});let a=(0,n(716034).eU)(!1)},86892:(e,t,n)=>{n.d(t,{u:()=>k});var a=n(411855),r=n(727466),l=n(927457),i=n(536825),s=n(243742),o=n(744952),c=n(603275),d=n(301929),u=n(769617),p=n(118931),m=n(83661),_=n(629019),h=n.n(_),g=n(963989),y=n(120169),E=n(23479);let f=a.forwardRef(function({titleTx:e,icon:t,faded:n,isEmpty:r,appendedClassName:l,onClick:i,onMouseDown:s},o){return a.createElement(y.pG,{ref:o,onClick:i,onMouseDown:s,appendedClassName:h()(E.En,E.VJ,{[E.yf]:n,[E.ry]:r},l),input:a.createElement(g.Mw,null,e),label:null,icon:t})});a.forwardRef(function({titleTx:e,faded:t,isEmpty:n,children:r,...l},i){return a.createElement(y.SP,{dataOnboardingKey:l.dataOnboardingKey,onClick:l.onClick,ref:i,appendedClassName:h()(E.En,{[E.yf]:t,[E.ry]:n}),input:a.createElement(g.Mw,null,e)},r)});var b=n(114405),v=n(819785),C=n(695038),S=n(501191),w=n(660164);function k({addProperty:e,children:t,contentsVisibleOrMixed:n,minusDisabled:_,plusDisabled:h,recordingKey:g,removeProperty:y,showButton:E,title:k,dataTestId:T,dataOnboardingKey:I,shouldHideButton:N,plusButtonLabel:A,minusButtonLabel:x}){let{version:M}=(0,s.DP)(),P=(0,a.useCallback)(()=>{!1!==n||h||e()},[e,n,h]),R=n===p.oV,L=!R&&!n;null==E&&(E=!0===n?"-":"+");let O="+"===E?a.createElement(r.K,{recordingKey:o.Pt(g,"addButton"),onClick:e,disabled:h,"aria-label":A??(0,d.t)("fullscreen.properties_panel.add"),htmlAttributes:{onMouseDown:u.dG,"data-testid":T??"","data-tooltip-type":"text","data-tooltip":A??""}},a.createElement(c.U,{svg:S.A,fallbackSvg:w.A},a.createElement(l.e,null))):a.createElement(r.K,{recordingKey:o.Pt(g,"removeButton"),onClick:y,disabled:_,"aria-label":x??(0,d.t)("fullscreen.properties_panel.remove"),htmlAttributes:{onMouseDown:u.dG,"data-testid":T??"","data-tooltip-type":"text","data-tooltip":x??""}},a.createElement(c.U,{svg:v.A,fallbackSvg:C.A},a.createElement(i.O,null)));return"ui3"===M?a.createElement(a.Fragment,null,k&&a.createElement(f,{onMouseDown:P,faded:L,isEmpty:L,titleTx:a.createElement("span",null,k),icon:N?void 0:O,dataOnboardingKey:I}),R&&a.createElement(m.fI,null,a.createElement(m.UZ,{className:b.Pf},(0,d.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!R&&!L&&t):a.createElement(a.Fragment,null,k&&a.createElement(m.fI,{onMouseDown:P,className:L?b.et:void 0,recordingKey:o.Pt(g,"panelTitle")},a.createElement(m.xw,{faded:L,extended:!0},a.createElement("div",{className:b.yr},k)),a.createElement(m.$4,null,N?null:O)),R&&a.createElement(m.fI,null,a.createElement(m.UZ,{className:b.Pf},(0,d.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!R&&!L&&t)}},55048:(e,t,n)=>{n.d(t,{q:()=>P});var a=n(411855),r=n(188507),l=n(974880),i=n(648839),s=n(922827),o=n(629019),c=n.n(o),d=n(25845),u=n(171946),p=n(603275),m=n(301929),_=n(334367),h=n(118931),g=n(757700),y=n(320012),E=n(876560),f=n(888943),b=n(516752),v=n(837729),C=n(30231),S=n(877813),w=n(86600),k=n(532525),T=n(485075),I=n(413481),N=n(184938),A=n(30562);let x="STACK_COUNTER_SPACING",M=[x];function P({focusOnMount:e,source:t,onCanvasUI:n,...o}){let P=(0,r.wA)(),{smallNudgeAmount:R,bigNudgeAmount:L}=(0,_.sT)(),[O,D]=(0,g.lJ)("stackCounterSpacing"),F=(0,g.kl)("stackCounterSpacingSynced"),[K,B]=(0,g.lJ)("stackCounterAlignContent"),G=(0,d.am)(),V=(0,a.useRef)(!1),U=(0,w.R)(),H=(0,h.gl)(K)?h.oV:"SPACE_BETWEEN"===K?h.Q8:O,z=(0,a.useRef)(null);a.useEffect(()=>{e&&(z.current?.focus(),z.current?.select())},[e]);let{boundVariable:W,consumedVariable:j}=(0,k.O)(x,s.rXF.FLOAT);(0,a.useEffect)(()=>{W&&"SPACE_BETWEEN"===K&&B("AUTO",y.zk.NO)},[W,K,B]);let{clearVariableConsumption:$}=(0,k.O)(x,s.rXF.FLOAT),Y=(0,T.lW)({smallNudgeAmount:R,bigNudgeAmount:L,min:0,allowEmpty:!0}),X=(e,n)=>{n&&(G("autolayout_counter_spacing_changed",{source:t,input:V.current?"scrub":"textfield",value:(0,h.SX)(e)?"Auto":e}),s.glU.temporarilyHideOverlay(s.hJs.SELECTION)),"number"==typeof e||null===e?(B("AUTO",y.zk.NO),D(e,n)):($(),B("SPACE_BETWEEN",n))},Z=(0,m.t)("fullscreen.properties_panel.stack_panel.gap_rows_vertical"),q="spacing-rows-vertical-icon",J=[a.createElement(C.c$,{key:"value",value:(0,l.Et)(O)?O:L}),a.createElement(C.c$,{key:"auto",value:h.Q8})],Q=F&&"SPACE_BETWEEN"!==K;if(!n){let e=a.createElement(p.U,{svg:A.A},a.createElement(i.W,null));return a.createElement(v.ow,{value:{select:U?I.pW:void 0,inputComponent:U?I.gm:void 0}},a.createElement(C.tV,{value:{chevron:U?S.t:void 0}},a.createElement(k.S,{id:"stackCounterSpacing",options:J,mixedMathHandler:T.lL,inputRef:z,inputClassName:o.inputClassName,outerClassName:c()(o.outerClassName,{[N.Sz]:U}),value:Q?void 0:H,scrubStartValue:Q?H:void 0,formatter:Y,onChange:X,noBorderOnFocus:o.noBorderOnFocus,noLeftBorder:o.noLeftBorder,squareRightBorder:o.squareRightBorder,tooltipText:Z,iconId:q,onFocus:o.onFocus,onBlur:o.onBlur,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,onScrubBegin:o.onScrubBegin,onScrubEnd:o.onScrubEnd,onKeyDown:o.onKeyDown,onPaste:o.onPaste,onNudge:o.onNudge,recordingKey:o.recordingKey,inputTestId:o.inputTestId,icon:e,variableField:x,source:t,placeholder:Q&&(0,h.hS)(H)?Y.format(H):void 0,allowEmpty:!0,shiftVariableOptionToAlign:!0,dropdownWidth:140})))}return a.createElement(b.sA,{recordingKey:o.recordingKey,inputClassName:o.outerClassName,fields:M,currentFieldValue:(0,h.hS)(O)?O:void 0,resolvedType:s.rXF.FLOAT,disableEntryPoint:n},a.createElement(f.Se,{noBorderOnHover:!0,isTokenizable:!0,forwardedRef:z,inputClassName:c()(N.hF,o.inputClassName),value:Q?void 0:H,scrubStartValue:Q?H:void 0,allowEmpty:!0,wheelMultiplier:R,scrubMultiplier:R,smallNudgeAmount:R,bigNudgeAmount:L,onValueChange:X,mixedMathHandler:T.bd,dispatch:P,noBorderOnFocus:o.noBorderOnFocus,noLeftBorder:o.noLeftBorder,squareRightBorder:o.squareRightBorder,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":Z,"data-tooltip-proxy-element-id":j?q:void 0,onFocus:o.onFocus,onBlur:o.onBlur,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,onScrubBegin:e=>{V.current=!0,o.onScrubBegin?.(e)},onScrubEnd:e=>{V.current=!1,o.onScrubEnd?.(e)},onKeyDown:o.onKeyDown,onPaste:o.onPaste,onNudge:o.onNudge,recordingKey:o.recordingKey,dataTestId:o.inputTestId,min:0,placeholder:Q&&(0,h.hS)(H)?Y.format(H):void 0},a.createElement(u.B,{className:c()(N.QK,o.svgClassName),svg:A.A,"data-tooltip-type":j?E.Ib.TEXT:void 0,"data-tooltip":j?Z:void 0,id:q})))}},766307:(e,t,n)=>{n.d(t,{s:()=>S,U:()=>w});var a=n(411855),r=n(188507),l=n(561546),i=n(922827),s=n(629019),o=n.n(s),c=n(603275),d=n(334367),u=n(118931),p=n(320012),m=n(876560),_=n(888943),h=n(516752),g=n(86600),y=n(882230),E=n(596523),f=n(44733);function b({setShowSinglePaddingControl:e,containsFocus:t}){let n=(0,a.useContext)(f.p),r=n?.isShowingBindingUI,l=(0,E.ZC)(r),i=(0,E.ZC)(t);return(0,a.useEffect)(()=>{l&&!r&&e?.(!1)},[r,e,l]),(0,a.useEffect)(()=>{t||!i||r||e?.(!1)},[t,i,r,e]),null}var v=n(485075),C=n(184938);function S({paddingSelection:e,focusOnMount:t,source:n,disableVariablesEntryPoint:s,setShowSinglePaddingControl:E,...f}){let S=(0,r.wA)(),[w,T]=(0,v.HF)(e),{smallNudgeAmount:I,bigNudgeAmount:N}=(0,d.sT)(),A=(0,a.useRef)(!1),x=(0,g.R)(),M=v.e2[e],P=v.C8[e],R=`stack-padding-input-icon-${e}`,L=(0,v.wH)(e),O=(0,a.useRef)(null);a.useEffect(()=>{t&&(O.current?.focus(),O.current?.select())},[e,t]);let D=a.useMemo(()=>(0,v.Jj)(e),[e]),F=a.useMemo(()=>k(e),[e]),{consumedVariable:K}=(0,y.u3)(F),B=o()(C.QK,f.svgClassName),[G,V]=a.useState(!1),U=a.useCallback(()=>{V(!0)},[V]),H=a.useCallback(e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||V(!1)},[V]),z=(0,a.useCallback)(()=>{E?.(!1)},[E]),{inputClassName:W,noBorderOnFocus:j,noLeftBorder:$,squareRightBorder:Y,onFocus:X,onBlur:Z,onNudge:q,onMouseEnter:J,onMouseLeave:Q,onClick:ee,onKeyDown:et,onPaste:en,inputTestId:ea,onScrubBegin:er,recordingKey:el,onScrubEnd:ei}=f,es=a.useMemo(()=>a.createElement(a.Fragment,null,a.createElement(b,{setShowSinglePaddingControl:E,containsFocus:G}),a.createElement(_.ig,{noBorderOnHover:!0,isTokenizable:!0,forwardedRef:O,inputClassName:o()(C.hF,W),value:w,wheelMultiplier:I,scrubMultiplier:I,smallNudgeAmount:I,bigNudgeAmount:N,onValueChange:(e,t)=>{t===p.zk.YES&&i.glU.temporarilyHideOverlay(i.hJs.SELECTION),T(e,t,{source:n,input:A.current?"scrub":"textfield"})},mixedMathHandler:D,dispatch:S,noBorderOnFocus:j,noLeftBorder:$,squareRightBorder:Y,"data-tooltip-type":m.Ib.TEXT,"data-tooltip":L,"data-tooltip-proxy-element-id":K?R:void 0,"data-tooltip-show-on-target-only":x||void 0,onFocus:X,onBlur:Z,onNudge:q,onMouseEnter:J,onMouseLeave:Q,onClick:ee,onKeyDown:et,onPaste:en,onScrubBegin:e=>{A.current=!0,er?.(e)},onScrubEnd:e=>{A.current=!1,ei?.(e)},recordingKey:el,dataTestId:ea},a.createElement(c.U,{className:B,svg:M,"data-tooltip-type":K?m.Ib.TEXT:void 0,"data-tooltip":K?L:void 0,id:R},a.createElement("div",{className:B,"data-tooltip-type":K?m.Ib.TEXT:void 0,"data-tooltip":K?L:void 0,id:R},a.createElement(P,null))))),[E,G,W,w,I,N,D,S,j,$,Y,L,K,R,x,X,Z,q,J,Q,ee,et,en,el,ea,B,M,P,T,n,er,ei]);return a.createElement(h.sA,{recordingKey:f.recordingKey,fields:F,disableEntryPoint:s,resolvedType:i.rXF.FLOAT,inputClassName:f.outerClassName,currentFieldValue:(0,u.hS)(w)&&(0,l.Ef)(w)?w[0]:void 0,onClickDetachButton:z,onFocus:U,onBlur:H},es)}function w(){let e=k(v.mx.HORIZONTAL),{consumedVariable:t}=(0,y.u3)(e),n=k(v.mx.VERTICAL),{consumedVariable:a}=(0,y.u3)(n);return!(0,u.hS)(t)||!(0,u.hS)(a)}function k(e){switch(e){case v.mx.TOP:return["STACK_PADDING_TOP"];case v.mx.RIGHT:return["STACK_PADDING_RIGHT"];case v.mx.BOTTOM:return["STACK_PADDING_BOTTOM"];case v.mx.LEFT:return["STACK_PADDING_LEFT"];case v.mx.HORIZONTAL:return["STACK_PADDING_LEFT","STACK_PADDING_RIGHT"];case v.mx.VERTICAL:return["STACK_PADDING_TOP","STACK_PADDING_BOTTOM"];case v.mx.ALL:return["STACK_PADDING_BOTTOM","STACK_PADDING_LEFT","STACK_PADDING_RIGHT","STACK_PADDING_TOP"]}}},415450:(e,t,n)=>{n.d(t,{Vy:()=>t8});var a=n(411855),r=n(188507),l=n(328177),i=n(463033),s=n(193199),o=n(902237),c=n(263159);let d=(0,a.memo)(function(e){return(0,c.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.5 3h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5M9 3.5A1.5 1.5 0 0 1 10.5 2h2A1.5 1.5 0 0 1 14 3.5v2A1.5 1.5 0 0 1 12.5 7h-2A1.5 1.5 0 0 1 9 5.5zM4.5 5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5M3.382 8.5A1.5 1.5 0 0 1 3 7.5v-2A1.5 1.5 0 0 1 4.5 4h2A1.5 1.5 0 0 1 8 5.5v2c0 .231-.052.45-.146.646C8.05 8.052 8.27 8 8.5 8h2A1.5 1.5 0 0 1 12 9.5v2a1.5 1.5 0 0 1-1.5 1.5h-2c-.384 0-.735-.144-1-.382a1.5 1.5 0 0 1-1 .382h-2A1.5 1.5 0 0 1 3 11.5v-2c0-.384.144-.735.382-1M6.5 9a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5zm2 3a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5z",clipRule:"evenodd"})})});var u=n(517546);let p=(0,a.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 11.5a.5.5 0 0 0 .5.5h6.789l-2.4 2.389a.5.5 0 0 0 .706.708l3.258-3.242a.5.5 0 0 0 0-.709l-3.258-3.243a.5.5 0 1 0-.705.71L15.289 11H8.5a.5.5 0 0 0-.5.5",clipRule:"evenodd"})})}),m=(0,a.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 7a2 2 0 1 1 0 4H9.711l2.4-2.388a.5.5 0 0 0-.706-.709l-3.258 3.243a.5.5 0 0 0 0 .708l3.258 3.243a.5.5 0 0 0 .705-.709L9.711 12H15a3 3 0 1 0 0-6h-.5a.5.5 0 0 0 0 1z",clipRule:"evenodd"})})});var _=n(243742),h=n(922827),g=n(340818),y=n(25845),E=n(532214),f=n(474474),b=n(744952),v=n(490311),C=n(641860),S=n(171946),w=n(603275),k=n(301929),T=n(91406),I=n(899356),N=n(590450),A=n(757700),x=n(139558),M=n(985091),P=n(650947),R=n(876560),L=n(90509),O=n(472346),D=n(83661),F=n(86892),K=n(689710),B=n(650443),G=n(469686),V=n(239408),U=n(492323),H=n(31725),z=n(266489),W=n(963989),j=n(802166),$=n(352074),Y=n(136189),X=n(415684);let Z=(0,n(631511).ex)("autolayout_v3_migration_info",function(e){let{tooltipText:t}=e,n=(0,X.Gc)(e=>{e.stopPropagation(),Y.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout","_blank")});return a.createElement("div",{className:"autolayout_v3_migration_info_tooltip--autolayoutMigration--OQ8zC"},t,a.createElement($.N,{newTab:!0,trusted:!0,href:"https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout",htmlAttributes:{onMouseDown:n}},(0,k.tx)("fullscreen.properties_panel.migration_tooltip_learn_more")))},e=>({tooltipText:e.getAttribute("data-tooltip-text")}));var q=n(543509),J=n(117312),Q=n(118931),ee=n(833876),et=n(320012),en=n(86600),ea=n(75557),er=n(629019),el=n.n(er),ei=n(689570),es=n(485075);let eo="alignment_view_v4--indicator--VmKfE",ec="alignment_view_v4--indicatorBaseline--4kxfb",ed="alignment_view_v4--counterCenter--MlF9q";function eu({onClick:e,onDoubleClick:t,onHover:n,...r}){let l=(0,es.rO)(r.stackPrimaryAlignItems),i="BASELINE"===r.stackCounterAlignItems,s="HORIZONTAL"===r.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===r.stackWrap,c="HORIZONTAL"===s?"alignment_view_v4--horizontal--UiniT":"alignment_view_v4--vertical--JVrRJ",d=l?"alignment_view_v4--spaceBetween--RZOdp":"alignment_view_v4--packed--MZMpk",u=(0,Q.hS)(r.stackPrimaryAlignItems)&&(0,Q.hS)(r.stackCounterAlignItems),p=r.primaryHover&&r.counterHover,m=(0,a.useCallback)(e=>{let[n,a]=ef(e.target);if(l){let t=e.target.getBoundingClientRect();"HORIZONTAL"===s?n=Math.floor((e.clientX-t.x)/t.width*3):a=Math.floor((e.clientY-t.y)/t.height*3)}t(n,a)},[t,l,s]),_=(0,a.useCallback)(e=>n(...ef(e.target)),[n]),h=(0,a.useCallback)(e=>n(null,null),[n]);return a.createElement("div",{className:el()(r.className,"alignment_view_v4--mainContainer--zUBsm",c,d,{"alignment_view_v4--baselineAlign--xLTR2":i}),tabIndex:0,onKeyDown:r.onKeyDown},a.createElement(eE,{baseline:i}),a.createElement(eg,{stackMode:s,spaceBetween:l,baselineAlign:i,onMouseMove:_,onMouseOut:h,onClick:e,onDoubleClick:m}),p&&a.createElement(ep,{hover:!0,primaryAlign:r.primaryHover,counterAlign:r.counterHover,isStackWrap:o}),u&&a.createElement(ep,{primaryAlign:r.stackPrimaryAlignItems,counterAlign:r.stackCounterAlignItems,isStackWrap:o}),i&&a.createElement(eh,{onClick:r.onRemoveBaseline}))}function ep({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:r}){return a.createElement("div",{className:el()("alignment_view_v4--indicatorContainer--ewQnB alignment_view_v4--_centered--S6qQk",t?e_[t]:void 0,n?em[n]:void 0,{"alignment_view_v4--hover---ncmo":e})},a.createElement("div",{className:el()("alignment_view_v4--indicatorGroup--vlMlW",{"alignment_view_v4--wrap--nsYBR":r})},"BASELINE"===n?(0,es.rO)(t)?a.createElement(a.Fragment,null,a.createElement("div",{className:eo}),a.createElement("span",{className:ec},"A"),a.createElement("div",{className:eo})):a.createElement("span",{className:ec},"A"):r?a.createElement(a.Fragment,null,a.createElement("div",{className:eo}),a.createElement("div",{className:eo}),a.createElement("div",{className:eo}),a.createElement("div",{className:eo}),a.createElement("div",{className:eo})):a.createElement(a.Fragment,null,a.createElement("div",{className:eo}),a.createElement("div",{className:eo}),a.createElement("div",{className:eo}))))}let em={MIN:"alignment_view_v4--counterMin--1LPg6",CENTER:ed,MAX:"alignment_view_v4--counterMax--HzBqX",BASELINE:ed},e_={MIN:"alignment_view_v4--primaryMin--DHsQj",CENTER:"alignment_view_v4--primaryCenter--ci9Aj",MAX:"alignment_view_v4--primaryMax--i8kqd",SPACE_EVENLY:"",SPACE_BETWEEN:""};function eh({onClick:e}){let t=ev(),n=eC(),r=2*t/3+2,l=t-9,i=t-5.5;return a.createElement("svg",{className:"alignment_view_v4--baselineControls--cwzcf alignment_view_v4--_centered--S6qQk",width:t,height:t,viewBox:n,fill:"none"},a.createElement("g",{className:"alignment_view_v4--baselineHovered--uY49E","data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},a.createElement("rect",{x:"4.5",y:`${r}`,width:`${l}`,height:"14",rx:"2",fill:"var(--color-bg-selected-tertiary, #EDF5FA)"}),a.createElement("line",{x1:"5.5",y1:`${r}`,x2:`${i}`,y2:`${r}`,stroke:"var(--color-bg-brand-hover, #0D99FF)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1 5"}),a.createElement("line",{x1:"5.5",y1:`${r}`,x2:`${i}`,y2:`${r}`,stroke:"var(--color-bg-tertiary, rgba(0, 0, 0, 0.3))",strokeWidth:"2",strokeLinecap:"round"})))}function eg({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:r,onMouseOut:l,onClick:i,onDoubleClick:s}){let o=eb({stackMode:t,baselineAlign:n,spaceBetween:e});return a.createElement("div",{className:"alignment_view_v4--tooltipGrid--1PH8Z alignment_view_v4--_centered--S6qQk",onMouseMove:r,onMouseOut:l,onClick:i,onDoubleClick:s},o.map((n,r)=>{let l=r%3,i=Math.floor(r/3);return"HORIZONTAL"===t&&e&&(i=l,l=0),a.createElement(ey,{key:r,x:l,y:i,..."string"==typeof n?{tooltip:n}:n})}))}function ey({x:e,y:t,tooltip:n,below:r}){return a.createElement("div",{"data-x":e,"data-y":t,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":n,"data-tooltip-show-above":!r||void 0})}function eE({baseline:e}){let t=eC(),n=ev(),r=n/3,l=`${r}`,i=`${r/2}`,s=e?r:0,o=e?r:n,c=(0,a.useId)();return a.createElement("svg",{width:n,height:n,viewBox:t,fill:"currentColor"},a.createElement("defs",null,a.createElement("pattern",{id:c,width:l,height:l,patternUnits:"userSpaceOnUse"},a.createElement("circle",{cx:i,cy:i,r:"1"}))),a.createElement("rect",{width:"79",height:o,y:s,fill:`url(#${c})`}))}function ef(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}function eb({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:a}){return e&&t?a?[{tooltip:(0,k.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,k.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,k.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:a},{tooltip:(0,k.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:a},{tooltip:(0,k.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:a}]:t?"HORIZONTAL"===n?a?[(0,k.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,k.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,k.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,k.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:a?[(0,k.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,k.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,k.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,k.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,k.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,k.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,k.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}let ev=()=>(0,ei.jz)("60px"),eC=()=>{let e=ev();return`0 0 ${e} ${e}`},eS="alignment_view_v4_ui3--indicatorBaseline--NUe6M",ew="alignment_view_v4_ui3--counterCenter--QC-B7";function ek({onClick:e,onDoubleClick:t,onHover:n,...r}){let l=(0,es.rO)(r.stackPrimaryAlignItems),i="BASELINE"===r.stackCounterAlignItems,s=(0,es.c4)((0,Q.E7)(r.stackMode))?"HORIZONTAL":"VERTICAL",o="WRAP"===r.stackWrap,c="HORIZONTAL"===s?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",d=l?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",u=(0,Q.hS)(r.stackPrimaryAlignItems)&&(0,Q.hS)(r.stackCounterAlignItems),p=r.primaryHover&&r.counterHover,m=(0,a.useCallback)(e=>{let[n,a]=eO(e.target);if(l){let t=e.target.getBoundingClientRect();"HORIZONTAL"===s?n=Math.floor((e.clientX-t.x)/t.width*3):a=Math.floor((e.clientY-t.y)/t.height*3)}t(n,a)},[t,l,s]),_=(0,a.useCallback)(e=>n(...eO(e.target)),[n]),h=(0,a.useCallback)(e=>n(null,null),[n]);return a.createElement("div",{className:el()(r.className,"alignment_view_v4_ui3--mainContainer---0NcS",c,d,{"alignment_view_v4_ui3--baselineAlign--OxyzT":i}),tabIndex:0,onKeyDown:r.onKeyDown},a.createElement(eL,null),a.createElement(eM,{stackMode:s,spaceBetween:l,baselineAlign:i,onMouseMove:_,onMouseOut:h,onClick:e,onDoubleClick:m}),p&&a.createElement(eT,{hover:!0,primaryAlign:r.primaryHover,counterAlign:r.counterHover,isStackWrap:o}),u&&a.createElement(eT,{primaryAlign:r.stackPrimaryAlignItems,counterAlign:r.stackCounterAlignItems,isStackWrap:o}),i&&a.createElement("div",{className:"alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},a.createElement(ex,{onClick:r.onRemoveBaseline})))}function eT({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:r}){function l(){let e=(0,es.rO)(t);if("BASELINE"===n)return e?a.createElement(a.Fragment,null,a.createElement("span",{className:eS},"A"),a.createElement("span",{className:eS},"A"),a.createElement("span",{className:eS},"A")):a.createElement("span",{className:eS},"A");let l=r&&!e?5:3;return a.createElement(eI,{n:l})}return a.createElement("div",{className:el()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",t?eA[t]:void 0,n?eN[n]:void 0,{"alignment_view_v4_ui3--hover--ypG6x":e})},"BASELINE"===n?l():a.createElement("div",{className:"alignment_view_v4_ui3--indicatorGridCell--lp1lH"},a.createElement("div",{className:el()("alignment_view_v4_ui3--indicatorGroup--urXG2",{"alignment_view_v4_ui3--wrap--JWwtI":r})},l())))}function eI({n:e}){return a.createElement(a.Fragment,null,Array.from({length:e},(e,t)=>a.createElement("div",{key:t,className:"alignment_view_v4_ui3--indicator--82j5F"})))}let eN={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:ew,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:ew},eA={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function ex({onClick:e}){return a.createElement("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},a.createElement("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"}))}function eM({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:r,onMouseOut:l,onClick:i,onDoubleClick:s}){let o=eb({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:(0,en.R)()});return a.createElement("div",{className:"alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",onMouseMove:r,onMouseOut:l,onClick:void 0,onMouseUp:i,onDoubleClick:s},"HORIZONTAL"===t&&n&&e?a.createElement(eP,{tooltips:o}):o.map((n,r)=>{let l=r%3,i=Math.floor(r/3);return"HORIZONTAL"===t&&e&&(i=l,l=0),a.createElement(eR,{key:r,x:l,y:i,..."string"==typeof n?{tooltip:n}:n})}))}function eP({tooltips:e}){let t=(0,a.useId)(),n=e[0];return null==n?null:a.createElement(a.Fragment,null,a.createElement("div",{"data-tooltip-proxy-element-id":t}),a.createElement(eR,{id:t,x:1,y:1,..."string"==typeof n?{tooltip:n}:n}),a.createElement("div",{"data-tooltip-proxy-element-id":t}))}function eR({id:e,x:t,y:n,tooltip:r,below:l}){return a.createElement("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-above":!l||void 0})}function eL(){return a.createElement("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},Array.from({length:9},(e,t)=>a.createElement("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",key:t},a.createElement("div",{key:t,className:"alignment_view_v4_ui3--dot--d5NQx"}))))}function eO(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var eD=n(532525),eF=n(970504);let eK=["MIN","CENTER","MAX"];function eB({className:e,recordingKey:t}){let n=(0,A.kl)("stackMode"),l=(0,A.kl)("stackWrap"),[i,s]=(0,A.lJ)("stackPrimaryAlignItems"),[o,c]=(0,A.lJ)("stackCounterAlignItems"),[d,u]=(0,a.useState)(void 0),[p,m]=(0,a.useState)(void 0),_=(0,eF.sR)(),g=(0,eF.uV)(),E=(0,y.am)(),f=(0,en.R)(),C=(0,r.d4)(P.qd),S=(0,ea.Vj)((0,ee._6)()),w=(0,es.rO)(i),k="BASELINE"===o,T=(0,a.useCallback)((e,t)=>{if(null==e||null==t){u(void 0),m(void 0);return}let a=eG(e,t,n,w,S),r=eV(e,t,n,k);u(a),m(r)},[n,k,w,u,m,S]),I=b.rf(t,"click",(0,a.useCallback)(e=>{let t=d,n=p;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(w||s(t,et.zk.NO),c(n),E("Autolayout alignment grid used",{nodeIds:C}))},[d,p,w,c,E,s,C]),{recordMetadata:()=>({primaryAlignItems:d,counterAlignItems:p}),playbackMetadata:e=>({...e,__interactionTest:!0})}),{clearVariableConsumption:N}=(0,eD.O)("STACK_SPACING",h.rXF.FLOAT),x=(0,a.useCallback)((e,t)=>{g(void 0===t||t,e,et.zk.NO),N()},[g,N]),M=(0,a.useCallback)((e,t)=>{if(w){g(!1,"alignment double click",et.zk.NO);let a=eG(e,t,n,!1,S),r=eV(e,t,n,k);u(a),m(r),s(a,et.zk.NO),c(r),E("Autolayout spacing mode changed",{mode:a,doubleClick:!0})}else x("alignment double click"),c(eV(e,t,n,k))},[x,k,w,c,s,g,n,E,S]),R=(0,a.useCallback)(()=>{c("CENTER"),E("Disable baseline alignment",{source:"alignment grid"})},[c,E]),L=b.v_(t,"keydown",(0,a.useCallback)(e=>{function t(e){(0,es.c4)((0,Q.E7)(n))?s(e):c(e)}function a(e){"VERTICAL"===n?s(e):c(e)}function r(e,t){if((0,Q.gl)(e))return"CENTER";let n=eK.indexOf(e);if(-1===n)return null;let a=(0,q.qE)(n+t,0,eK.length-1);return eK[a]}let l=(0,es.c4)((0,Q.E7)(n))?i:o,d="VERTICAL"===n?i:o;switch(e.keyCode){case X.Uz.ESCAPE:case X.Uz.ENTER:e.currentTarget.blur();break;case X.Uz.UP_ARROW:{let e=r(d,-1);e&&a(e);break}case X.Uz.DOWN_ARROW:{let e=r(d,1);e&&a(e);break}case X.Uz.LEFT_ARROW:{let e=r(l,-1);e&&t(e);break}case X.Uz.RIGHT_ARROW:{let e=r(l,1);e&&t(e);break}case X.Uz.B:"HORIZONTAL"===n&&_("BASELINE"!==o,"alignment keyboard");break;case X.Uz.X:x("alignment keyboard",!(0,es.rO)(i));break;case X.Uz.W:a("MIN");break;case X.Uz.A:t("MIN");break;case X.Uz.S:a("MAX");break;case X.Uz.D:t("MAX");break;case X.Uz.V:a("CENTER");break;case X.Uz.H:t("CENTER");break;default:(0,J.jr)(e,J.W0.YES,J.VA.YES);return}e.preventDefault()},[x,o,i,_,c,s,n])),O=f?a.createElement(ek,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:i,stackCounterAlignItems:o,onHover:T,onClick:I,onDoubleClick:M,onKeyDown:L,onRemoveBaseline:R,counterHover:p,primaryHover:d}):a.createElement(eu,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:i,stackCounterAlignItems:o,onHover:T,onClick:I,onDoubleClick:M,onKeyDown:L,onRemoveBaseline:R,counterHover:p,primaryHover:d});return a.createElement(v.E,{name:"alignment_view"},O)}function eG(e,t,n,a,r){return a?(0,f.kc)().ce_stack_justify_space_between||r?"SPACE_BETWEEN":"SPACE_EVENLY":eK["VERTICAL"===n?t:e]}function eV(e,t,n,a){return a?"BASELINE":eK["VERTICAL"===n?e:t]}var eU=n(140001),eH=n(648839),ez=n(298455),eW=n(846995),ej=n(334367),e$=n(1829),eY=n(888943),eX=n(309782);let eZ=(0,a.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 9.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zm9 0a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zm-8-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m.5 8.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var eq=n(83687),eJ=n(939790),eQ=n(766307),e0=n(184938),e1=n(689606);function e5({recordingKey:e}){let[t,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),s=(0,eQ.U)(),{version:o}=(0,_.DP)();(0,x.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:a,stackVerticalPadding:r,stackPaddingBottom:l}=e.mirror.selectionProperties,i=(0,Q.q)(t,a),o=(0,Q.q)(r,l);n((0,Q.gl)(i)||(0,Q.gl)(o)||s)});let c=(0,y.am)(),d=(0,r.d4)(P.qd),u=(0,en.R)(),p=()=>{n(!t),h.Qa7.setFocusStackPanelInput(h.RN9.PADDING_ALL,!1),c(t?"Disable autolayout independent padding":"Enable autolayout independent padding",{nodeIds:d})},m=u?a.createElement(eX.d,{onClick:p,toggled:t,actionOnPointerDown:!0,"aria-label":(0,k.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:b.Pt(e,"showAllPaddingControls"),htmlAttributes:{"data-tooltip":(0,k.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip-type":R.Ib.TEXT,"data-test-id":"stack-padding-toggle"}},a.createElement(eZ,null)):a.createElement(eq.m,{"data-tooltip-type":R.Ib.TEXT,"aria-label":(0,k.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip":(0,k.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:b.Pt(e,"showAllPaddingControls"),"data-test-id":"stack-padding-toggle",onMouseDown:p,svg:e1.A,toggled:t,className:e0.NC});return a.createElement(v.E,{name:"stack_padding_controls"},a.createElement("ui3"===o?e2:e3,{showAllPaddingControls:t,showSinglePaddingControl:l,setShowSinglePaddingControl:i,recordingKey:e,handleClick:function(e){(0,X.Fo)(e)&&i(!0)},showAllPaddingControlsToggle:m}))}function e3({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:r,handleClick:l,showAllPaddingControlsToggle:i}){return a.createElement(D.fI,{heightMultiplier:e&&!t?2:void 0},t?a.createElement(e4,{className:e0.mR,paddingSelection:es.mx.ALL,setShowSinglePaddingControl:n,focusOnMount:!0,recordingKey:r}):e?a.createElement(a.Fragment,null,a.createElement(e4,{className:el()(e0.oH,e0.aO),paddingSelection:es.mx.LEFT,onClick:l,recordingKey:r,inputTestId:"padding-left"}),a.createElement(e4,{className:el()(e0.oH,e0.uH),paddingSelection:es.mx.RIGHT,onClick:l,recordingKey:r,inputTestId:"padding-right"}),a.createElement(e4,{className:el()(e0.T1,e0.aO),paddingSelection:es.mx.TOP,onClick:l,recordingKey:r,inputTestId:"padding-top"}),a.createElement(e4,{className:el()(e0.T1,e0.uH),paddingSelection:es.mx.BOTTOM,onClick:l,recordingKey:r,inputTestId:"padding-bottom"})):a.createElement(a.Fragment,null,a.createElement(e4,{className:e0.oH,paddingSelection:es.mx.HORIZONTAL,onClick:l,recordingKey:r,inputTestId:"padding-horizontal"}),a.createElement(e4,{className:e0.T1,paddingSelection:es.mx.VERTICAL,onClick:l,recordingKey:r,inputTestId:"padding-vertical"})),i)}function e2({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:r,handleClick:l,showAllPaddingControlsToggle:i}){return a.createElement(eJ.W,{showAllPaddingControls:e,showSinglePaddingControl:t,singleInput:a.createElement(e4,{paddingSelection:es.mx.ALL,focusOnMount:!0,recordingKey:r,setShowSinglePaddingControl:n}),collapsedLeftInput:a.createElement(e4,{paddingSelection:es.mx.HORIZONTAL,onClick:l,recordingKey:r,inputTestId:"padding-horizontal"}),collapsedRightInput:a.createElement(e4,{paddingSelection:es.mx.VERTICAL,onClick:l,recordingKey:r,inputTestId:"padding-vertical"}),expandedTopLeftInput:a.createElement(e4,{paddingSelection:es.mx.LEFT,onClick:l,recordingKey:r}),expandedBottomLeftInput:a.createElement(e4,{paddingSelection:es.mx.RIGHT,onClick:l,recordingKey:r}),expandedTopRightInput:a.createElement(e4,{paddingSelection:es.mx.TOP,onClick:l,recordingKey:r}),expandedBottomRightInput:a.createElement(e4,{paddingSelection:es.mx.BOTTOM,onClick:l,recordingKey:r}),topIcon:i,leftLabel:(0,k.tx)("fullscreen.properties_panel.section_autoLayout.label_padding"),rightLabel:null,bottomIcon:null})}function e4({className:e,paddingSelection:t,recordingKey:n,inputTestId:r,onClick:l,onBlur:i,focusOnMount:s,setShowSinglePaddingControl:o}){let c=(0,es.Wx)(),d=(0,es.Y9)();return a.createElement(eQ.s,{outerClassName:e,paddingSelection:t,focusOnMount:s,onFocus:()=>h.Qa7.setFocusStackPanelInput(t,!0),onBlur:e=>{h.Qa7.setFocusStackPanelInput(t,!1),i?.(e)},onMouseEnter:()=>d(t,!0),onMouseLeave:()=>d(t,!1),onClick:l,onScrubBegin:()=>c(t,!0),onScrubEnd:()=>c(t,!1),onNudge:()=>h.glU.temporarilyHideOverlay(h.hJs.SELECTION),setShowSinglePaddingControl:o,recordingKey:b.Pt(n,"stackPadding",es.mx[t]),inputTestId:r,source:"panel"})}var e6=n(258890),e8=n(996620);function e7(e){let t=(0,r.d4)(P.qd),n=t.length>0&&t[0]?t[0]:"";return(0,e$.Fk)((t,n)=>{let a=t.get(n);return a&&(0,f.kc)().ce_tv_grid?"PARENT"===e&&a.isGrid?n:"CHILD"===e&&a.isGridChild?n:null:null},n)}function e9({recordingKey:e}){let t=e7("CHILD"),n=(0,e$.Fk)((e,t)=>{if(!t)return null;let n=e.get(t);return n&&(0,f.kc)().ce_tv_grid&&n.isGridChild?{rowAnchorIndex:n.gridRowAnchorIndex,columnAnchorIndex:n.gridColumnAnchorIndex,rowSpan:n.gridRowSpan,columnSpan:n.gridColumnSpan}:null},t),r=(0,a.useCallback)((e,t)=>{g.l7.user("grid-panel",()=>{h.HV5&&t>=0&&h.HV5.setTrackAnchor(e,t)})},[]),l=(0,a.useCallback)((e,n)=>{null!==t&&g.l7.user("grid-panel",()=>{let a=(0,ez.UN)(),r=a.get(t),l=r&&r.parentGuid&&a.get(r.parentGuid);r&&l&&n>=1&&(e===h.CXS.ROW?r.gridRowAnchorIndex+n<=l.gridRowCount&&(r.gridRowSpan=n):r.gridColumnAnchorIndex+n<=l.gridColumnCount&&(r.gridColumnSpan=n))})},[t]);return(0,f.kc)().ce_tv_grid&&t?a.createElement(a.Fragment,null,a.createElement(W.fn,{leftLabel:"Rows",rightLabel:"Columns",leftInput:a.createElement(eY.Ht,{value:n?.rowAnchorIndex??void 0,onValueChange:e=>r(h.CXS.ROW,e),recordingKey:b.Pt(e,"grid-rows"),id:"grid-rows",dispatch:eW.lQ,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.grid.row_index")},a.createElement("span",{className:`${e0.QK} svg`},(0,k.t)("fullscreen.properties_panel.grid_panel.r"))),rightInput:a.createElement(eY.Ht,{value:n?.columnAnchorIndex??void 0,onValueChange:e=>r(h.CXS.COLUMN,e),recordingKey:b.Pt(e,"grid-columns"),id:"grid-columns",dispatch:eW.lQ,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.grid.column_index")},a.createElement("span",{className:`${e0.QK} svg`},(0,k.t)("fullscreen.properties_panel.grid_panel.c"))),icon:null}),a.createElement(W.fn,{leftLabel:"Rows",rightLabel:"Columns",leftInput:a.createElement(eY.Ht,{value:n?.rowSpan,onValueChange:e=>l(h.CXS.ROW,e),recordingKey:b.Pt(e,"grid-rows"),id:"grid-rows",dispatch:eW.lQ,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.grid.vertical_span")},a.createElement(S.B,{svg:e8.A,className:e0.QK})),rightInput:a.createElement(eY.Ht,{value:n?.columnSpan,onValueChange:e=>l(h.CXS.COLUMN,e),recordingKey:b.Pt(e,"grid-columns"),id:"grid-columns",dispatch:eW.lQ,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.grid.horizontal_span")},a.createElement(S.B,{svg:e6.A,className:e0.QK})),icon:null})):null}function te({recordingKey:e}){let t=e7("PARENT"),n=(0,e$.Fk)((e,t)=>{if(!t||!(0,f.kc)().ce_tv_grid)return null;let n=e.get(t);return n&&n.isGrid?{rowCount:n.gridRowCount,columnCount:n.gridColumnCount}:null},t),[r,l]=(0,A.lJ)("gridColumnGap"),[i,s]=(0,A.lJ)("gridRowGap"),o=a.useCallback((e,t,n)=>{n>=1&&n<=100&&g.l7.user("grid-panel",()=>{h.HV5&&(t<n?h.HV5.addTracksToGrid(e,n-t):t>n&&h.HV5.removeTracksFromGrid(e,t-n))})},[]),c=a.useCallback((e,t)=>{g.l7.user("grid-panel",()=>{(0,Q.SX)(e)||l(e,t)})},[l]),d=a.useCallback((e,t)=>{g.l7.user("grid-panel",()=>{(0,Q.SX)(e)||s(e,t)})},[s]),{bigNudgeAmount:u,smallNudgeAmount:p}=(0,ej.sT)(),m=(0,es.Wx)(),_=(0,es.Y9)();return(0,f.kc)().ce_tv_grid&&n?a.createElement(a.Fragment,null,a.createElement(W.fn,{leftLabel:"Rows",rightLabel:"Columns",leftInput:a.createElement(eY.Ht,{value:n.rowCount,onValueChange:e=>o(h.CXS.ROW,n.rowCount,e),recordingKey:"grid-rows",id:"grid-rows",dispatch:eW.lQ,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.grid.number_of_rows_in_the_grid")},a.createElement("span",{className:`${e0.QK} svg`},(0,k.t)("fullscreen.properties_panel.grid_panel.r"))),rightInput:a.createElement(eY.Ht,{value:n.columnCount,onValueChange:e=>o(h.CXS.COLUMN,n.columnCount,e),recordingKey:"grid-columns",id:"grid-columns",dispatch:eW.lQ,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.grid.number_of_columns_in_the_grid")},a.createElement("span",{className:`${e0.QK} svg`},(0,k.t)("fullscreen.properties_panel.grid_panel.c"))),icon:null}),a.createElement(W.sY,{topIcon:null,bottomIcon:null,leftLabel:"Spacing",rightLabel:"Alignment",rightInput:a.createElement(eB,{recordingKey:b.Pt(e,"alignment")}),topLeftInput:a.createElement(eY.$j,{recordingKey:e,onValueChange:c,dispatch:eW.lQ,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.grid.horizontal_spacing"),smallNudgeAmount:p,bigNudgeAmount:u,value:r??0,onFocus:()=>m(h.RN9.SPACING,!0),onBlur:()=>m(h.RN9.SPACING,!1),onScrubBegin:()=>m(h.RN9.SPACING,!0),onScrubEnd:()=>m(h.RN9.SPACING,!1),onMouseEnter:()=>_(h.RN9.SPACING,!0),onMouseLeave:()=>_(h.RN9.SPACING,!1)},a.createElement(eU.E,{className:e0.QK})),bottomLeftInput:a.createElement(eY.$j,{recordingKey:e,onValueChange:d,dispatch:eW.lQ,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.grid.vertical_spacing_between_grid_items"),smallNudgeAmount:p,bigNudgeAmount:u,value:i??0,onFocus:()=>m(h.RN9.COUNTER_SPACING,!0),onBlur:()=>m(h.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>m(h.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>m(h.RN9.COUNTER_SPACING,!1),onMouseEnter:()=>_(h.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>_(h.RN9.COUNTER_SPACING,!1)},a.createElement(eH.W,{className:e0.QK}))}),a.createElement(e5,{recordingKey:b.Pt(e,"grid-padding-controls")})):null}function tt({recordingKey:e}){return a.createElement(a.Fragment,null,a.createElement(te,{recordingKey:e}),a.createElement(e9,{recordingKey:e}))}var tn=n(55048),ta=n(400481),tr=n(256659),tl=n(221768),ti=n(641416),ts=n(764554),to=n(723789),tc=n(345202),td=n(15544),tu=n(995511),tp=n(326220),tm=n(30231),t_=n(134309),th=n(596523),tg=n(761755),ty=n(45899),tE=n(961203),tf=n(567428),tb=n(528889);function tv({id:e,onClose:t,...n}){let l=(0,r.wA)(),i=(0,tE.kG)(e),s=(0,th.ZC)(i.showing),o=(0,tb.p1)(),c=(0,a.useRef)(t);c.current=t,(0,a.useEffect)(()=>{s&&!i.showing&&c.current?.()},[i.showing,s]),(0,a.useEffect)(()=>()=>c.current?.(),[]);let d=()=>{i.showing&&(i.hide(),I.Y5.deselectProperty())};return a.createElement(a.Fragment,null,a.createElement(tC,{name:n.buttonInteractableName},a.createElement(eX.d,{actionOnPointerDown:!0,onClick:t=>{if(t.stopPropagation(),i.showing){d();return}let n=o();if(!n)return;let{top:a}=t.currentTarget.getBoundingClientRect(),r=n.getBoundingClientRect().left-tf.qo;l(tg.u1({id:e,initialX:r,initialY:a}))},toggled:i.showing,"aria-label":n.tooltip,recordingKey:b.Pt(n,"trigger"),htmlAttributes:{onPointerMove:()=>{i.showing&&l(ty.jD())}}},n.icon)),i.showing?a.createElement(tS,{name:n.windowTrackableName},a.createElement(t_.bL,{width:n.width,onClose:d,defaultPosition:i.initialPosition,recordingKey:b.Pt(n,"window")},n.children)):null)}function tC({children:e,name:t}){return t?a.createElement(v.E,{name:t},e):a.createElement(a.Fragment,null,e)}function tS({children:e,name:t}){return t?a.createElement(C.k,{name:t},e):a.createElement(a.Fragment,null,e)}var tw=n(618120),tk=n(279625);function tT({onOpen:e,onClose:t,modalKey:n,...l}){let i=(0,r.wA)(),s=(0,tE.kG)(n),o=(0,a.useRef)(null),c=(0,en.R)(),d=(0,th.ZC)(s.showing),u=(0,a.useRef)(t);u.current=t,(0,a.useEffect)(()=>{d&&!s.showing&&u.current?.()},[s.showing,d]),(0,a.useEffect)(()=>()=>u.current?.(),[]);let p=()=>{s.showing&&(s.hide(),I.Y5.deselectProperty())},m=()=>{if(s.showing)return;let{top:e}=o.current.getBoundingClientRect();i(tg.u1({id:n,initialX:tf.qo,initialY:e}))},_=a.createElement(tk.YW,{ref:o,svg:l.svg,fallbackSvg:l.fallbackSvg,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":l.tooltip,onMouseMove:()=>{s.showing&&i(ty.jD())},onMouseDown:e=>{e.stopPropagation(),s.showing?p():m()},recordingKey:b.Pt(l,"trigger"),selected:s.showing,className:l.buttonClassName},c?l.ui3Icon:void 0),h=l.buttonInteractableName?a.createElement(v.E,{name:l.buttonInteractableName},_):_,g=s.showing?a.createElement(tw.vx,{title:l.title,initialPosition:s.initialPosition,initialConstraints:{x:"right",y:"top"},headerSize:"small",onClose:p,recordingKey:b.Pt(l,"modal")},l.children):null,y=g&&l.modalTrackableName?a.createElement(C.k,{name:l.modalTrackableName},g):g;return a.createElement(a.Fragment,null,h,y)}var tI=n(839980),tN=n(404158);let tA="stack_layout_details_preview--stroke--tWkNh",tx="stack_layout_details_preview--strokeLight--RsPk7",tM="stack_layout_details_preview--fill--V74cf",tP="stack_layout_details_preview--fillWhite--uTjlG",tR="stack_layout_details_preview--fillTertiary--xuwqQ",tL={reverseStackingOrder:function({enabled:e}){let t=[a.createElement("g",{key:"1",filter:"url(#reverse-stacking-order-filter)"},a.createElement("rect",{className:tP,x:"67",y:"40",width:"40",height:"40",rx:"20"}),a.createElement("path",{className:tM,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),a.createElement("rect",{className:tA,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),a.createElement("g",{key:"2",filter:"url(#reverse-stacking-order-filter)"},a.createElement("rect",{className:tP,x:"99",y:"40",width:"40",height:"40",rx:"20"}),a.createElement("path",{className:tM,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),a.createElement("rect",{className:tA,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),a.createElement("g",{key:"3",filter:"url(#reverse-stacking-order-filter)"},a.createElement("rect",{className:tP,x:"131",y:"40",width:"40",height:"40",rx:"20"}),a.createElement("path",{className:tM,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),a.createElement("rect",{className:tA,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"}))];return e&&t.reverse(),a.createElement("svg",{width:"240",height:"120",fill:"none"},t,a.createElement("rect",{className:tx,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),a.createElement("defs",null,a.createElement("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"2"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"}))))},alignToBaseline:function(){return a.createElement("svg",{width:240,height:120,fill:"none"},a.createElement("path",{className:el()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),a.createElement("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh"},a.createElement("path",{className:tM,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),a.createElement("rect",{className:tA,x:46.5,y:38.5,width:43,height:43,rx:1.5})),a.createElement("rect",{className:el()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",tA),x:98.5,y:38.5,width:43,height:43,rx:1.5}),a.createElement("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-"},a.createElement("path",{className:tM,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),a.createElement("rect",{className:tA,x:150.5,y:38.5,width:43,height:43,rx:1.5})),a.createElement("rect",{className:el()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",tx),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))},bordersTakeSpace:function(){return a.createElement("svg",{width:240,height:120,fill:"none"},a.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ"},a.createElement("rect",{className:tR,x:"43",y:"37",width:"48",height:"48",rx:"2"}),a.createElement("rect",{className:tP,x:"49",y:"43",width:"36",height:"36",rx:"2"})),a.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1"},a.createElement("rect",{className:tR,x:"98",y:"37",width:"99",height:"48",rx:"2"}),a.createElement("rect",{className:tP,x:"104",y:"43",width:"87",height:"36",rx:"2"})),a.createElement("rect",{className:el()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",tx),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))}};function tO({setting:e,enabled:t}){let n=e?tL[e]:null;return a.createElement("div",{className:el()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0},n?a.createElement(n,{enabled:t}):a.createElement("div",{className:"stack_layout_details_preview--previewText--0NBYb"},(0,k.tx)("fullscreen.properties_panel.stack_panel.preview")))}let tD="stack_layout_details_modal--dropdownControl--PRPD5",tF="stack_layout_details_modal--onboardingBody--SQp9T",tK="stack_layout_details_modal--input--h2Yc7",tB="stack_layout_details_modal--chevron--tW9wo";var tG=n(362679);let tV="seen_stack_spacing_auto_onboarding";function tU(e){let t=(0,f.kc)().fpl_window,[n,r]=(0,a.useState)(!1),[l,i]=(0,a.useState)({enabled:!1}),s=(0,en.R)()?(0,k.t)("fullscreen.properties_panel.section_autoLayout.settings"):(0,k.t)("fullscreen.properties_panel.stack_panel.advanced_layout");return t?a.createElement(tv,{id:"LAYOUT_DETAILS_PICKER",tooltip:s,buttonInteractableName:"open_stack_layout_details_modal_button",windowTrackableName:"stack_layout_details_modal",icon:a.createElement(w.U,{svg:tG.A},a.createElement(tl.A,null)),recordingKey:e.recordingKey},a.createElement(tr.vo,null,a.createElement(tr.Y9,null,a.createElement(tr.hE,null,s)),a.createElement(tr.nB,{noPadding:!0},a.createElement(tH,{hoveredSetting:l,setHoveredSetting:i,recordingKey:e.recordingKey})))):a.createElement(a.Fragment,null,a.createElement(tT,{title:s,tooltip:s,modalKey:"LAYOUT_DETAILS_PICKER",buttonInteractableName:"open_stack_layout_details_modal_button",modalTrackableName:"stack_layout_details_modal",svg:tG.A,ui3Icon:a.createElement(tl.A,null),buttonClassName:e0.Sj,recordingKey:e.recordingKey,onClose:()=>{setTimeout(()=>{r(!0)},250)}},a.createElement(tH,{hoveredSetting:l,setHoveredSetting:i,recordingKey:e.recordingKey})),n&&a.createElement(tX,{onDismiss:()=>r(!1)}))}function tH({hoveredSetting:e,setHoveredSetting:t,recordingKey:n}){return a.createElement(a.Fragment,null,a.createElement(tO,{setting:e.setting,enabled:e.enabled}),a.createElement("div",{className:"stack_layout_details_modal--controls--SFjhS"},a.createElement(tj,{updatePreview:t,recordingKey:n}),a.createElement(tz,{updatePreview:t,recordingKey:n}),a.createElement(tW,{updatePreview:t,recordingKey:n})))}function tz({updatePreview:e,recordingKey:t}){let n=(0,r.wA)(),l=(0,tc.Um)(),[i,s]=(0,A.lJ)("stackReverseZIndex"),o=(0,y.am)(),c=(0,r.d4)(P.qd),d=(0,to.GS)(),u=ti.Gq()?.getPrimaryLocale(!0)===ta.hT.EN?120:180,p=!0===i;return a.createElement(v.E,{name:"stacking_order_control"},a.createElement(tu.L,{label:(0,k.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:p}),onMouseLeave:()=>e({enabled:!1})},a.createElement(tm.l6,{id:"reverse-stacking-order-select",dispatch:n,className:tD,inputClassName:tK,chevronClassName:tB,textAlign:d?void 0:"right",property:i,formatter:t$,onChange:e=>{s(e),o(e?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:c})},recordingKey:b.Pt(t,"reverseStackingOrder"),dropdownShown:l,dropdownAlignment:"right",dropdownWidth:u,onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t})},a.createElement(tm.c$,{value:!0}),a.createElement(tm.c$,{value:!1}))))}function tW({updatePreview:e,recordingKey:t}){let n=(0,A.kl)("stackMode"),r="BASELINE"===(0,A.kl)("stackCounterAlignItems"),l="HORIZONTAL"!==n,i=(0,eF.sR)();return a.createElement(v.E,{name:"baseline_alignment_control"},a.createElement(tp.k,{label:(0,k.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:b.Pt(t,"alignToBaseline"),property:r,disabled:l,onChange:t=>{i(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:r})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":l?(0,k.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":R.Ib.TEXT}))}function tj({updatePreview:e,recordingKey:t}){let n=(0,r.wA)(),l=(0,tc.Um)(),[i,s]=(0,A.lJ)("bordersTakeSpace"),o=(0,y.am)(),c=(0,r.d4)(P.qd),d=(0,to.GS)(),u=!0===i;return a.createElement(v.E,{name:"borders_take_space_control"},a.createElement(tu.L,{label:(0,k.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:u}),onMouseLeave:()=>e({enabled:!1})},a.createElement(tm.l6,{id:"borders-take-space-select",dispatch:n,className:tD,inputClassName:tK,chevronClassName:tB,dropdownWidth:168,textAlign:d?void 0:"right",property:u,formatter:tY,onChange:e=>{s(e),o("change_borders_take_space",{enabled:e,source:"modal",nodeIds:c})},recordingKey:b.Pt(t,"bordersTakeSpace"),dropdownShown:l,onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t})},a.createElement(tm.c$,{value:!0}),a.createElement(tm.c$,{value:!1}))))}let t$={format:e=>e?(0,k.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,k.t)("fullscreen.properties_panel.stack_panel.last_on_top")},tY={format:e=>e?(0,k.t)("fullscreen.properties_panel.stack_panel.included"):(0,k.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,k.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,k.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};function tX({onDismiss:e}){let t=(0,r.wA)();if((0,td.f)(tV))return null;let n=(0,f.kc)().eu_fpl_migration_link?{secondaryCtaText:(0,k.tx)("general.learn_more"),secondaryCtaHref:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between"}:{secondaryCtaText:a.createElement("a",{href:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between",target:"_blank",style:{textDecoration:"none"}},(0,k.tx)("general.learn_more")),onClickSecondaryCta:eW.lQ};return a.createElement(tI.OA,{targetKey:"stack-spacing-input",shouldNotWrapInParagraphTag:!0,dismissModal:()=>{t(ts.b({[tV]:!0})),e()},background:"light",width:268,title:(0,k.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_title"),ctaText:(0,k.tx)("general.got_it"),onClickPrimaryCta:e,arrowPosition:tw.F_.RIGHT_TITLE,...n},a.createElement(tN.Gv,{containerClassName:"stack_layout_details_modal--onboardingImg--4Uak-",src:(0,f.ck)("94241d15e9d47a0c73734ae71850674f78cd4ab0")}),a.createElement("p",{className:tF},(0,k.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_body1",{gapBetweenItems:a.createElement("strong",null,(0,k.tx)("fullscreen.properties_panel.stack_panel.gap_items"))})),a.createElement("p",{className:tF},(0,k.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_body2",{auto:a.createElement("strong",null,(0,k.tx)("fullscreen.properties_panel.stack_panel.auto"))})))}var tZ=n(729943),tq=n(253781);let tJ=(0,a.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5M6 7.5A1.5 1.5 0 0 1 7.5 6h2A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-2A1.5 1.5 0 0 1 6 9.5zm8.5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5m-1.5.5A1.5 1.5 0 0 1 14.5 6h2A1.5 1.5 0 0 1 18 7.5v2a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 13 9.5zM9.5 14h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034z",clipRule:"evenodd"})})}),tQ=(0,a.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-9-1A1.5 1.5 0 0 0 6 7.5v2A1.5 1.5 0 0 0 7.5 11h9A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6zm2 8h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034z",clipRule:"evenodd"})})});var t0=n(818843);function t1(){return(0,E.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,containsStacksNeedingAlignmentMigration:a,stackMode:r,stackWrap:l,textAutoResize:i,missingFont:s}}}=e;return{showMigrationUi:a,actionEnabledStackSelection:(0,t0.Yh)(t,"stack-selection"),actionEnabledMultiStackSelection:(0,t0.Yh)(t,"run-multi-stack-auto-layout"),actionEnabledUnstackSelection:(0,t0.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,wrappingEnabled:("HORIZONTAL"===r||(0,Q.gl)(r))&&("WRAP"===l||(0,Q.gl)(l)),textAutoResize:i,missingFont:s}})}function t5(e){let{propertiesPanelShouldShowRemoveAutoLayout:t}=t1(),n=t?(0,k.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,k.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:r,actionEnabledUnstackSelection:i}=t1(),s=t?i:r,o=t?"unstack-selection":"stack-selection",c=(0,a.useCallback)(()=>{I.Y5.triggerActionInUserEditScope(o,{source:"panel"})},[o]);return a.createElement(l.f,{checked:t,variant:"highlighted","aria-label":n,onIcon:a.createElement(t3,null),offIcon:a.createElement(t3,null),onChange:c,disabled:!s,recordingKey:b.Pt(e.recordingKey,t?"removeButton":"addButton"),htmlAttributes:{"data-tooltip":n,"data-tooltip-type":R.Ib.TEXT,"data-tooltip-shortcut-key":o}})}function t3(){let e=(0,A.kl)("stackMode"),t=(0,A.kl)("stackWrap"),{propertiesPanelShouldShowRemoveAutoLayout:n}=t1();if(!n)return a.createElement(tZ.Q,null);if((0,Q.gl)(e)||!e||"GRID"===e||(0,Q.gl)(t))return a.createElement(tq.v,null);if("WRAP"===t)return a.createElement(tJ,null);switch(e){case"NONE":case"HORIZONTAL":default:return a.createElement(tq.v,null);case"VERTICAL":return a.createElement(tQ,null)}}var t2=n(413481),t4=n(957069),t6=n(733982);function t8(e){return a.createElement(C.k,{name:"stack_panel"},a.createElement("div",{className:"displayContents","data-test-id":"stack_panel"},a.createElement(t7,{...e})))}let t7=a.memo(e=>{let{version:t}=(0,_.DP)();return"ui3"===t?a.createElement(ne,{...e}):a.createElement(t9,{...e})});function t9(e){let{showMigrationUi:t,actionEnabledStackSelection:n,actionEnabledUnstackSelection:r,propertiesPanelShouldShowRemoveAutoLayout:l,wrappingEnabled:i}=t1();return a.createElement(D.Zk,null,a.createElement(F.u,{title:(0,k.tx)("fullscreen.properties_panel.stack_panel.auto_layout"),addProperty:()=>{I.Y5.triggerActionInUserEditScope("stack-selection",{source:"panel"})},removeProperty:()=>{I.Y5.triggerActionInUserEditScope("unstack-selection",{source:"panel"})},contentsVisibleOrMixed:e.onlyStacksSelected,showButton:l?"-":"+",minusDisabled:!r,plusDisabled:!n,recordingKey:e.recordingKey,dataTestId:"open-stack-panel"},t?a.createElement(na,null):a.createElement(a.Fragment,null,a.createElement(D.fI,{className:i?e0.TE:e0.mm},a.createElement(nr,{recordingKey:e.recordingKey}),a.createElement("div",{className:e0.T$},a.createElement(eB,{recordingKey:b.Pt(e,"alignment")})),a.createElement(tU,{recordingKey:b.Pt(e,"stackLayoutDetails")}),a.createElement(nl,{recordingKey:e.recordingKey}),i&&a.createElement(ni,{recordingKey:e.recordingKey})),a.createElement(e5,{recordingKey:e.recordingKey}))))}function ne(e){let t=e.onlyStacksSelected?(0,k.tx)("fullscreen.properties_panel.stack_panel.auto_layout"):(0,k.tx)("fullscreen.properties_panel.stack_panel.layout"),n=(0,r.d4)(e=>(0,O.aW)(void 0,e.mirror.selectionProperties,void 0)),i=(0,N.Zr)("resize-to-fit"),s=(0,A.kl)("stackMode"),o=(0,f.kc)().ce_tv_grid&&"GRID"===s;return a.createElement(D.Zk,{"data-onboarding-key":j.W},a.createElement(z.Wv,{titleTx:t},i&&a.createElement(L.hw,{recordingKey:b.Pt(e,"frameFitButton")}),!e.hideToggleButton&&n&&a.createElement(t5,{recordingKey:e.recordingKey}),(0,f.kc)().ce_tv_grid&&n&&a.createElement(l.f,{"aria-label":(0,k.t)("fullscreen.properties_panel.grid_panel.grid"),onIcon:a.createElement(d,null),offIcon:a.createElement(d,null),onChange:()=>{o?I.Y5.triggerActionInUserEditScope("remove-grid",{source:"panel"}):I.Y5.triggerActionInUserEditScope("grid-selection",{source:"panel"})}})),a.createElement(nt,{...e}))}let nt=a.memo(function({onlyStacksSelected:e,onlyShowResizingRow:t,recordingKey:n}){let{showMigrationUi:r,wrappingEnabled:l,textAutoResize:i,missingFont:s}=t1(),o=(0,G.Df)(),c=(0,a.useRef)(null),d=(0,A.kl)("nodesAreAllInsideStacks"),u=(0,M.J2)(h.Ez5.propertiesPanelState().enabledTypePanelControls),p=!!I.Y5?.isFontListLoaded(),m=(0,A.kl)("numSelectedByType"),_=!!m&&(0,T.vx)(m,"TEXT"),g="GRID"===(0,A.kl)("stackMode"),y="transformPanel",E=a.createElement(a.Fragment,null,a.createElement(U.Ws,{recordingKey:y,forwardedRef:c}),a.createElement(V.J,{visible:!!(e||d),widthHeightRowRef:c})),f=o.fixedFrameOptions&&a.createElement(K.u,{recordingKey:n}),v=_&&a.createElement("div",{className:e0.Z2},a.createElement(H.f,{disabled:!p||!!s,enabledTypePanelControls:u,textAutoResize:i,recordingKey:n})),C=!g&&a.createElement(B.e,{recordingKey:y}),S=a.createElement(tt,{recordingKey:n});return!e||t?a.createElement(a.Fragment,null,E,S,v,C,f):r?a.createElement(na,null):a.createElement(a.Fragment,null,E,a.createElement(W.sY,{topLeftInput:a.createElement(nr,{recordingKey:n}),rightInput:a.createElement(eB,{recordingKey:b.Pt(n,"alignment")}),leftLabel:l?(0,k.tx)("fullscreen.properties_panel.section_autoLayout.label_direction"):(0,k.tx)("fullscreen.properties_panel.section_autoLayout.label_direction_and_gap"),rightLabel:(0,k.tx)("fullscreen.properties_panel.section_autoLayout.label_alignment"),bottomLeftInput:l?null:a.createElement(nl,{recordingKey:n}),topIcon:a.createElement(tU,{recordingKey:b.Pt(n,"stackLayoutDetails")}),bottomIcon:null}),l?a.createElement(W.fn,{leftInput:a.createElement(nl,{recordingKey:n}),rightInput:a.createElement(ni,{recordingKey:n}),icon:null,leftLabel:(0,k.tx)("fullscreen.properties_panel.section_autoLayout.label_gap"),rightLabel:null}):null,a.createElement(e5,{recordingKey:n}),C,a.createElement(K.u,{recordingKey:n}))}),nn=!1;function na(){let e;let t=(0,y.am)(),[n,r]=(0,a.useState)(!1),{isOrInInstance:l,containsComponents:s}=(0,E.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:a}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!a&&!!a.SYMBOL}});(0,a.useEffect)(()=>{nn||(t("stack_v2_migration_info_shown"),nn=!0)},[t]),(0,x.f4)(()=>{r(!1)});let o=(0,a.useCallback)(()=>{let e=h.AlE.getActiveCanvas();g.l7.user("update-stack-to-alv3",()=>{h.Qa7.updateStackToAutoLayoutV3(e,h.Ez5.bigNudgeAmount())}),I.Y5.triggerAction("commit"),r(!0),t("stack_v2_migration_updated")},[t]),c=(0,a.useCallback)(e=>{I.Y5.triggerActionInUserEditScope("undo"),r(!1)},[]);if(n)return a.createElement(D.fI,{className:e0.A5},a.createElement("span",{className:e0.Yv},(0,k.tx)("fullscreen.properties_panel.stack_panel.auto_layout_updated")),a.createElement("span",{className:e0.QP},a.createElement(i.$n,{variant:"ghost",onClick:c},(0,k.tx)("fullscreen.properties_panel.stack_panel.undo"))));let d=h.AlE.getActiveCanvas(),u=h.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(d);return e=l?u?(0,k.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,k.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):s?(0,k.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,k.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),a.createElement(D.fI,{className:e0.A5},a.createElement("div",{className:e0.Yv},(0,k.tx)("fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"),a.createElement(S.B,{className:e0.zp,svg:t6.A,"data-tooltip-type":R.Ib.SPECIAL,"data-tooltip":Z,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})),a.createElement("span",{className:e0.Z6},a.createElement(i.IK,{variant:"secondary",onClick:o,disabled:l&&!u},(0,k.tx)("fullscreen.properties_panel.stack_panel.update"))))}function nr(e){let t=(0,N.Zr)("unstack-selection"),n=(0,A.kl)("stackMode"),l=(0,A.kl)("stackWrap"),{version:i}=(0,_.DP)(),c=(0,y.am)(),d=(0,r.d4)(P.qd),E="ui2"===i?e0.N:e0.O_;return a.createElement(v.E,{name:"stack_mode_control"},a.createElement("div",{className:E,"data-onboarding-key":"stack-mode-control"},a.createElement(s.bL,{value:"HORIZONTAL"===n&&"WRAP"===l?"WRAP":n,onChange:e=>{c("Stack Mode Changed",{stackMode:e,nodeIds:d}),g.l7.user("set-stack-mode",()=>h.Qa7.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:b.Pt(e,"stackMode"),readonly:!t,legend:a.createElement(o.q,null,(0,k.tx)("fullscreen.properties_panel.section_autoLayout.label_direction")," ")},a.createElement(s.c$,{value:"VERTICAL","aria-label":(0,k.t)("fullscreen.properties_panel.stack_panel.vertical_direction"),icon:a.createElement(w.U,{svg:e8.A},a.createElement(u.D,null))}),a.createElement(s.c$,{value:"HORIZONTAL","aria-label":(0,k.t)("fullscreen.properties_panel.stack_panel.horizontal_direction"),icon:a.createElement(w.U,{svg:e6.A},a.createElement(p,null))}),a.createElement(s.c$,{value:"WRAP","aria-label":(0,k.t)("fullscreen.properties_panel.stack_panel.wrap"),icon:a.createElement(w.U,{svg:t4.A},a.createElement(m,null))}))))}function nl(e){let t=(0,es.Wx)(),n=(0,es.Y9)(),{version:r}=(0,_.DP)(),l="ui2"===r?e0.Kz:void 0;return a.createElement(v.E,{name:"stack_spacing_control"},a.createElement(t2.KI,{outerClassName:l,onFocus:()=>t(h.RN9.SPACING,!0),onBlur:()=>t(h.RN9.SPACING,!1),onScrubBegin:()=>t(h.RN9.SPACING,!0),onScrubEnd:()=>t(h.RN9.SPACING,!1),onMouseEnter:()=>n(h.RN9.SPACING,!0),onMouseLeave:()=>n(h.RN9.SPACING,!1),onNudge:()=>h.glU.temporarilyHideOverlay(h.hJs.SELECTION),recordingKey:b.Pt(e,"stackSpacing"),source:"panel",onboardingKey:"stack-spacing-input"}))}function ni(e){let t=(0,es.Wx)(),n=(0,es.Y9)(),{version:r}=(0,_.DP)(),l="ui3"===r?void 0:e0.UN;return a.createElement(v.E,{name:"stack_counter_spacing_input"},a.createElement(tn.q,{outerClassName:l,onFocus:()=>t(h.RN9.COUNTER_SPACING,!0),onBlur:()=>t(h.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(h.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(h.RN9.COUNTER_SPACING,!1),onMouseEnter:()=>n(h.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(h.RN9.COUNTER_SPACING,!1),onNudge:()=>h.glU.temporarilyHideOverlay(h.hJs.SELECTION),recordingKey:b.Pt(e,"stackCounterSpacing"),inputTestId:"stack-counter-spacing",source:"panel"}))}},459298:(e,t,n)=>{n.d(t,{r:()=>D});var a=n(411855),r=n(188507),l=n(309782),i=n(221768),s=n(532214),o=n(171946),c=n(603275),d=n(301929),u=n(761755),p=n(431305),m=n(68060),_=n(658567),h=n(876560),g=n(567428),y=n(399230),E=n(655959),f=n(9481),b=n(407664),v=n(83661);let C="template-controls-picker";var S=n(462132),w=n(618120),k=n(340818),T=n(899356),I=n(650947),N=n(355191);function A(){let{sceneNodesToEdit:e,description:t}=(0,s.R)(e=>({sceneNodesToEdit:(0,I.F4)(e),description:e.mirror.selectionProperties.description})),n="string"==typeof t?t:"",r=a.useCallback((t,n)=>{k.l7.user("set-description",()=>{for(let a of e)a.setDescriptionRich(t,n)})},[e]),l=a.useCallback(()=>{T.Y5.commit()},[]);return a.createElement("div",{className:"template_controls_menu--descriptionContainer--pRK0M"},a.createElement(N.A,{description:n,isViewOnly:!1,placeholder:(0,d.t)("design_systems.template_panel.template_placeholder"),onBlur:l,onSubmit:r,forceQuill_DO_NOT_USE:!0}))}function x(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.pickerShown),n=new S.Mi(t?.initialX,t?.initialY);return t?.id!==C?null:a.createElement(w.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:n,initialWidth:320,onClose:()=>{e(u.XE())},scrollOverflow:!1,title:(0,d.t)("design_systems.template_panel.template_controls")},a.createElement(A,null))}var M=n(591551),P=n(996083),R=n(388451),L=n(691151),O=n(999918);let D=a.memo(function(){let{containingTemplate:e,pickerShown:t,templateDescription:n}=(0,s.R)(e=>({containingTemplate:(0,y._k)(e),pickerShown:e.pickerShown,templateDescription:e.mirror.selectionProperties.description??""})),S=(0,r.d4)(_.Dr),w=(0,r.d4)(_.cB),{allowLibraryPublish:k}=a.useContext(m.s),T=a.useRef(null),I=(0,r.wA)(),N=a.useCallback((e,t,n=g.qo)=>{if(!T)return;let a=(0,g.cn)(T.current,n);I(u.u1({id:t,initialX:a.x,initialY:a.y})),I(p.sw()),I(u.Uv())},[I]),A=a.useCallback(e=>{t?.id===C?I(u.XE()):N(e,C,320)},[t,I,N]);return e&&e.isAlive?a.createElement(v.Zk,{ref:T},a.createElement(v.fI,{className:M.LO},a.createElement(f.R,{guid:e.guid,value:e.name,canEdit:!0,icon:a.createElement(o.B,{svg:L.A,className:R.Kk}),editAction:"rename-template"}),a.createElement("span",{className:P.MC},a.createElement(l.d,{"aria-label":(0,d.t)("design_systems.template_panel.template_controls"),onClick:A,toggled:t?.id===C,htmlAttributes:{"data-tooltip-type":h.Ib.TEXT,"data-tooltip":(0,d.t)("design_systems.template_panel.template_controls"),onMouseDown:e=>e.stopPropagation()},recordingKey:"templateControls"},a.createElement(c.U,{svg:O.A},a.createElement(i.A,null))))),a.createElement(E.n,{description:n}),S&&w&&k&&a.createElement(b.x,null),a.createElement(x,null)):null})},463815:(e,t,n)=>{n.d(t,{Y:()=>o});var a=n(411855),r=n(301929),l=n(666533),i=n(83661),s=n(187271);function o({onExpand:e}){return a.createElement(i.Zk,{"data-testid":"toggle-simplified-panels",className:s.aW},a.createElement(l.z,{onClick:e,recordingKey:"toggleSimplifiedPanels"},(0,r.tx)("design_systems.component_properties.show_more_properties")))}},390797:(e,t,n)=>{n.d(t,{H_:()=>S,SA:()=>I,ub:()=>x,$2:()=>k,BG:()=>T});var a=n(411855),r=n(981649),l=n(365514),i=n(689570),s=n(241786),o=n(723789),c=n(118931),d=n(836555);function u(){return performance.now()}var p=n(819112);let m="transition_preview--previewPanel--Gp-aI",_="transition_preview--belowInactive--DBGgj transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",h="transition_preview--belowActive--69cT1 transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",g="transition_preview--blueHeaderShort--FqI0m transition_preview--_blueHeader--Xlxtt transition_preview--_previewItem--o2gce",y="transition_preview--blueHeaderTall--atMMg transition_preview--_blueHeader--Xlxtt transition_preview--_previewItem--o2gce",E="transition_preview--screenBorder--Fz-dz transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",f="transition_preview--screenBorderNarrow--EB6kk transition_preview--screenContainerNarrow--ugQN- transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",b="transition_preview--smartAnimateRowItem--aMXQ8",v="transition_preview--ui3Container--2qKB0";var C=(e=>(e[e.BLANK=0]="BLANK",e[e.ACTIVE=1]="ACTIVE",e[e.INACTIVE=2]="INACTIVE",e[e.ACTIVE_RESETTABLE=3]="ACTIVE_RESETTABLE",e))(C||{}),S=(e=>(e[e.STATIC=0]="STATIC",e[e.ANIMATING=1]="ANIMATING",e[e.RETURN_TO_START=2]="RETURN_TO_START",e))(S||{});let w=(0,i.jz)("40px"),k=new l.b("activateBezierCustomAnimationPreview"),T=new l.b("activateSpringCustomAnimationPreview");function I({transition:e,isNarrowPanel:t}){let[n,r,l,i,s]=function(e,t={delayBeforeAnimation:0,delayAfterAnimation:0}){let{delayBeforeAnimation:n=0,delayAfterAnimation:r=0}=t,l=(0,p.w_)(e),[i,s,o,c]=function(e){let[t,n]=(0,a.useState)(!1),[r,l]=(0,a.useState)(0),[i,s]=(0,a.useState)(0);return(0,d.N)((0,a.useCallback)(()=>{let t=(u()-r)/1e3;t>e?(s(e),n(!1)):s(t)},[r,s,n,e]),t),[i,t,(0,a.useCallback)(()=>{n(!0),l(u()),s(0)},[l,n,s]),(0,a.useCallback)(()=>{n(!1),s(0)},[n,s])]}(n+(0,p.J5)(l)+r);return[i<n?0:(0,p.Zp)(l,i-n),i,s,o,c]}((0,c._W)(e.easingFunction,[1,100,10,0]),{delayBeforeAnimation:.1,delayAfterAnimation:1}),_=(0,o.GS)();a.useEffect(()=>{T.on("restartSpringAnimation",()=>{i()});let e=()=>{s()};return T.on("resetSpringAnimation",e),()=>{T.removeListener("resetSpringAnimation",e)}},[i,s]);let[h,g]=a.useState(t?80:124),y=a.useRef(null);a.useEffect(()=>{let e=new ResizeObserver(e=>{for(let t of e){let{width:e}=t.contentRect;g(e-2*w-54)}});return _&&y.current&&e.observe(y.current),()=>{e.disconnect()}},[_]);let E={transform:`translateX(${n*h}px)`,transition:"none"};0!==r&&l||(E={transform:"none",transition:"transform 0.2s ease-out"});let f=(0,a.useCallback)(()=>{l||i()},[l,i]),b=a.createElement("div",{className:"transition_preview--springBoxItem--Uej9X",style:E});return a.createElement("div",{className:m,onMouseEnter:f,onMouseLeave:s},_?a.createElement("div",{ref:y,className:"transition_preview--ui3ContainerSpring--5ReEi"},b):b)}var N=(e=>(e[e.RESET_INSTANT=0]="RESET_INSTANT",e[e.RESET_WITH_EASE=1]="RESET_WITH_EASE",e[e.PLAY_TO_END=2]="PLAY_TO_END",e))(N||{});let A=class e extends a.PureComponent{constructor(t){super(t),this.executor=new r.W,this.cursorIsOverUs=!1,this.transitionToNextFrame=()=>{if(1===this.state.frameIndex&&!this.cursorIsOverUs){this.executor.scheduleOnce(()=>{this.setState({status:2})},2);return}let e=(this.state.frameIndex+1)%2;this.setState({status:1,frameIndex:e});let t=1e3*(0===this.state.frameIndex?(0,c._W)(this.props.transition.duration,1):2);this.executor.scheduleOnce(this.transitionToNextFrame,t)},this.startAnimation=()=>{this.setState({status:1,frameIndex:0}),this.executor.reset(),this.executor.scheduleOnce(()=>{this.setState({status:1,frameIndex:1}),this.transitionToNextFrame()},0)},this.onMouseEnter=()=>{this.cursorIsOverUs=!0,this.startAnimation()},this.onMouseLeave=()=>{this.cursorIsOverUs=!1,this.executor.reset(),this.setState({status:2})},this.startAnimationNew=()=>{this.setAnimationStateNew(0),this.executor.scheduleOnce(()=>{this.setAnimationStateNew(2),this.executor.scheduleOnce(()=>{this.setAnimationStateNew(1)},1e3*(0,c._W)(this.props.transition.duration,0)+e.BEZIER_RETURN_TO_START_WAIT_TIME)},e.BEZIER_BEFORE_ANIMATION_WAIT_TIME)},this.resetAnimationNew=()=>{this.setAnimationStateNew(1)},this.setAnimationStateNew=e=>{this.executor.reset(),this.setState({status:0===e?1:3,frameIndex:2===e?1:0})},this.isAnimationRunningNew=()=>!((3===this.state.status||1===this.state.status||2===this.state.status)&&0===this.state.frameIndex),this.onMouseEnterNew=()=>{this.isAnimationRunningNew()||this.startAnimationNew()},this.onMouseLeaveNew=()=>{this.resetAnimationNew()},this.isAnyTransitionInfoMixed(t.transition)?this.state={status:0,frameIndex:0}:this.state={status:3,frameIndex:0},k.on("activateBezierAnimation",this.startAnimationNew),k.on("resetBezierAnimation",this.resetAnimationNew)}buildKeyFramesForNonSmartTransition(e){let t={top:0,left:0,opacity:1};switch(e.behavior){case"SMART_ANIMATE":throw Error(`Invalid transition behavior ${e.behavior}`);case"INSTANT":case"DISSOLVE":return[{below:t,above:{...t,opacity:0}},{below:{...t,opacity:0},above:t}];case"SCROLL_ANIMATE":return[{below:t,above:{...t,left:1}},{below:{...t,left:-.25,opacity:.25},above:t}];case"SLIDE":switch(e.direction){case"LEFT":return[{below:t,above:{...t,left:-1}},{below:{...t,left:.25,opacity:.25},above:t}];case"RIGHT":return[{below:t,above:{...t,left:1}},{below:{...t,left:-.25,opacity:.25},above:t}];case"TOP":return[{below:t,above:{...t,top:-1}},{below:{...t,top:.25,opacity:.25},above:t}];case"BOTTOM":return[{below:t,above:{...t,top:1}},{below:{...t,top:-.25,opacity:.25},above:t}];default:throw Error(`Invalid direction: ${e.direction}`)}case"SLIDE_OUT":switch(e.direction){case"LEFT":return[{below:{...t,left:-.25,opacity:.25},above:t},{below:t,above:{...t,left:1}}];case"RIGHT":return[{below:{...t,left:.25,opacity:.25},above:t},{below:t,above:{...t,left:-1}}];case"TOP":return[{below:{...t,top:-.25,opacity:.25},above:t},{below:t,above:{...t,top:1}}];case"BOTTOM":return[{below:{...t,top:.25,opacity:.25},above:t},{below:t,above:{...t,top:-1}}];default:throw Error(`Invalid direction: ${e.direction}`)}case"PUSH":switch(e.direction){case"LEFT":return[{below:t,above:{...t,left:-1}},{below:{...t,left:1},above:t}];case"RIGHT":return[{below:t,above:{...t,left:1}},{below:{...t,left:-1},above:t}];case"TOP":return[{below:t,above:{...t,top:-1}},{below:{...t,top:1},above:t}];case"BOTTOM":return[{below:t,above:{...t,top:1}},{below:{...t,top:-1},above:t}];default:throw Error(`Invalid direction: ${e.direction}`)}case"MOVE":switch(e.direction){case"LEFT":return[{below:t,above:{...t,left:-1}},{below:t,above:t}];case"RIGHT":return[{below:t,above:{...t,left:1}},{below:t,above:t}];case"TOP":return[{below:t,above:{...t,top:-1}},{below:t,above:t}];case"BOTTOM":return[{below:t,above:{...t,top:1}},{below:t,above:t}];default:throw Error(`Invalid direction: ${e.direction}`)}case"MOVE_OUT":switch(e.direction){case"LEFT":return[{below:t,above:t},{below:t,above:{...t,left:1}}];case"RIGHT":return[{below:t,above:t},{below:t,above:{...t,left:-1}}];case"TOP":return[{below:t,above:t},{below:t,above:{...t,top:1}}];case"BOTTOM":return[{below:t,above:t},{below:t,above:{...t,top:-1}}];default:throw Error(`Invalid direction: ${e.direction}`)}default:throw Error(`Invalid behavior: ${e.behavior}`)}}cssEasingFunction(e){if("INSTANT"!==e.behavior)switch(e.easing){case"EASE_IN":return"ease-in";case"EASE_OUT":return"ease-out";case"EASE_IN_AND_OUT":return"ease-in-out";case"LINEAR":return"linear";case"EASE_IN_BACK":return"cubic-bezier(0.3, -0.05, 0.7, -0.5)";case"EASE_OUT_BACK":return"cubic-bezier(0.45, 1.45, 0.8, 1)";case"EASE_IN_AND_OUT_BACK":return"cubic-bezier(0.7, -0.4, 0.4, 1.4)";case"CUSTOM_BEZIER":let t=(0,c.E7)(e.easingFunction);if(t&&4===t.length)return"cubic-bezier("+s.n.format(t)+")"}return""}cssDuration(e){return"INSTANT"===e.behavior?0:(0,c._W)(e.duration,.3)}rectangleStateToCSSStyle(t,n,a,r,l){let i=this.cssEasingFunction(t),s=this.cssDuration(t);return{transition:2===a?e.BEZIER_RETURN_TO_START_EASING:0===a?"unset":`all ${s}s ${i}`,top:18+60*n.top,left:(r?l?79:65:l?79:81)+54*n.left,opacity:n.opacity}}isAnyTransitionInfoMixed(e){let t=!(0,c.hS)(e.behavior),n=!(0,c.hS)(e.easing),a=!(0,c.hS)(e.duration),r=!(0,c.hS)(e.direction);return t||n||a||r}UNSAFE_componentWillReceiveProps(e){this.isAnyTransitionInfoMixed(e.transition)?(this.executor.reset(),this.setState({status:0})):this.props.transition&&this.props.transition.behavior===e.transition.behavior&&this.props.transition.easing===e.transition.easing&&this.props.transition.duration===e.transition.duration&&this.props.transition.direction===e.transition.direction||this.startAnimationNew()}componentWillUnmount(){k.removeListener("activateBezierAnimation",this.startAnimationNew),k.removeListener("resetBezierAnimation",this.resetAnimationNew),this.executor.reset()}renderSimpleScreenToScreenAnimationPreview(t,n,r,l,i,s,o,c){let d=g,u=y,p=this.props.transition.behavior;("MOVE_OUT"===p||"SLIDE_OUT"===p)&&(d=y,u=g);let _=a.createElement("div",{className:d}),h=a.createElement("div",{className:u}),b=null;if(this.props.transition.shouldSmartAnimate){_=null,h=null;let t=this.cssEasingFunction(i),n=this.cssDuration(i),r={transition:2===s?e.BEZIER_RETURN_TO_START_EASING:0===s?"unset":`all ${n}s ${t}`};b=a.createElement("div",{className:this.state.frameIndex?y:g,style:r})}("DISSOLVE"===p||"INSTANT"===p)&&(h=_=b=null);let C=c?f:E,S=a.createElement(a.Fragment,null,a.createElement("div",{className:t,style:n},_),a.createElement("div",{className:r,style:l},h),a.createElement("div",{className:c?"transition_preview--screenContainerNarrow--ugQN- transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":"transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce"},b),a.createElement("div",{className:C}));return a.createElement("div",{className:m,onMouseEnter:this.onMouseEnterNew,onMouseLeave:this.onMouseLeaveNew},o?a.createElement("div",{className:v},S):S)}renderSmartAnimateTransition(t){let n=1===this.state.frameIndex?1:3===this.state.status?2:0,r=this.cssDuration(this.props.transition),l=this.cssEasingFunction(this.props.transition),i=2===n?e.BEZIER_RETURN_TO_START_EASING:0===n?"unset":`all ${r}s ${l}`,s=t?"transition_preview--smartAnimateContainerNarrow--0x3xY transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":"transition_preview--smartAnimateContainer--SuYj0 transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",o=t?f:E;if(0===this.state.frameIndex){let e=a.createElement(a.Fragment,null,a.createElement("div",{className:s},a.createElement("div",{className:b,style:{transition:i,height:12,background:"rgba(0, 0, 0, 0.06)"}}),a.createElement("div",{className:b}),a.createElement("div",{className:b})),a.createElement("div",{className:o}));return a.createElement("div",{className:m,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.isUI3?a.createElement("div",{className:v},e):e)}if(1===this.state.frameIndex){let e=a.createElement(a.Fragment,null,a.createElement("div",{className:s},a.createElement("div",{className:b,style:{transition:i,height:20,background:"var(--color-bg-brand)"}}),a.createElement("div",{className:b}),a.createElement("div",{className:b})),a.createElement("div",{className:o}));return a.createElement("div",{className:m,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.isUI3?a.createElement("div",{className:v},e):e)}throw Error("Invalid state.frameIndex")}render(){let e=0===this.state.status||2===this.state.status?_:h,t="PUSH"===this.props.transition.behavior,n=0===this.state.status||2===this.state.status?t?_:"transition_preview--aboveInactive--b8PZf transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":t?h:"transition_preview--aboveActive--Wbtj2 transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce";if(0===this.state.status||(0,c.gl)(this.props.transition.behavior))return null;if("SMART_ANIMATE"===this.props.transition.behavior)return this.renderSmartAnimateTransition(this.props.isNarrowPanel);{let t=this.buildKeyFramesForNonSmartTransition(this.props.transition)[this.state.frameIndex],a=1===this.state.frameIndex?1:3===this.state.status?2:0;return this.renderSimpleScreenToScreenAnimationPreview(e,this.rectangleStateToCSSStyle(this.props.transition,t.below,a,this.props.isNarrowPanel,this.props.isUI3),n,this.rectangleStateToCSSStyle(this.props.transition,t.above,a,this.props.isNarrowPanel,this.props.isUI3),this.props.transition,a,this.props.isUI3,this.props.isNarrowPanel)}}};A.displayName="TransitionPreview",A.BEZIER_BEFORE_ANIMATION_WAIT_TIME=100,A.BEZIER_RETURN_TO_START_WAIT_TIME=1500,A.BEZIER_RETURN_TO_START_EASING="all ease-out 200ms";let x=A},278581:(e,t,n)=>{n.d(t,{$:()=>T});var a=n(411855),r=n(188507),l=n(19038),i=n(243742),s=n(454475),o=n(603275),c=n(301929),d=n(819635),u=n(761755),p=n(567428),m=n(47851),_=n(628091),h=n(152824),g=n(341911),y=n(145789),E=n(238006),f=n(435038),b=n(399230),v=n(283956),C=n(248172),S=n(83661),w=n(790875),k=n(633779);function T({recordingKey:e}){let t=(0,r.wA)(),{version:n}=(0,i.DP)(),T=(0,r.d4)(b._k),I=!(0,r.d4)(f.Jp),N=(0,r.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===h.C4),A=(0,r.d4)(e=>!!e.modalShown&&e.modalShown.type===g.n.type),x=(0,r.d4)(e=>e.pickerShown),M=N||A||x?.id===h.Dd,P=!!(0,r.d4)(E.Z3).length,R=(0,r.d4)(E.K4),L=!!R?.length,O=a.useRef(null),D=a.useRef(null),F=a.useCallback(()=>{x&&t(u.XE()),N?t(d.oB()):t(d.j7({type:h.C4}))},[t,x,N]),K=a.useCallback(()=>{let e=D.current,n=e?(0,p.cn)(e,h.wh):{};t(u.u1({id:h.Dd,initialX:n?.x,initialY:n?.y}))},[t]);if(!T||!L)return null;let B="ui3"===n?y.PQ:y.Ws;return a.createElement(S.Zk,{ref:D},a.createElement(B,{isPanelEmpty:I,isAddPropButtonSelected:M,hasBubbledInstances:P,selectAddPropOptionRef:O,toggleAddPropDropdown:F,stateGroupSelectionMode:void 0}),N&&O.current&&a.createElement(C.Cf,{targetRect:O.current.getBoundingClientRect(),propagateCloseClick:!0},a.createElement(s.c$,{disabled:!0,className:w.XV},(0,c.tx)("design_systems.component_properties.expose_nested_instances")),a.createElement(s.c$,{className:w.RU,onClick:K,recordingKey:"openBubbledPropPicker"},a.createElement(v.Nu,null,a.createElement(o.U,{svg:k.A},a.createElement(l.r,null))),(0,c.t)("design_systems.component_properties.choose_instances"))),x?.id===h.Dd&&a.createElement(_.Z,null),P&&a.createElement(a.Fragment,null,a.createElement("p",{className:w.Zr},(0,c.t)("design_systems.component_properties.bubbled_instances")),a.createElement(m.$,{recordingKey:e})))}},517546:(e,t,n)=>{n.d(t,{D:()=>r});var a=n(263159);let r=(0,n(411855).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 7a.5.5 0 0 0-.5.5v6.789l-2.388-2.4a.5.5 0 0 0-.709.706l3.243 3.258a.5.5 0 0 0 .708 0l3.243-3.258a.5.5 0 0 0-.709-.705L13 14.289V7.5a.5.5 0 0 0-.5-.5",clipRule:"evenodd"})})})},694855:(e,t,n)=>{n.d(t,{W:()=>r});var a=n(263159);let r=(0,n(411855).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 7a.5.5 0 0 1 .5.5v6.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708l3.146 3.147V7.5A.5.5 0 0 1 12 7",clipRule:"evenodd"})})})},319706:(e,t,n)=>{n.d(t,{N:()=>r});var a=n(263159);let r=(0,n(411855).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 16a.5.5 0 0 1-.5-.5V8.707l-3.146 3.147a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1-.708.708L12.5 8.707V15.5a.5.5 0 0 1-.5.5",clipRule:"evenodd"})})})},256981:(e,t,n)=>{n.d(t,{U:()=>r});var a=n(263159);let r=(0,n(411855).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.854 6.854a.5.5 0 0 0-.708-.708l-11 11a.5.5 0 0 0 .708.708zm-8.708-.708a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9H9a3 3 0 0 0-2.143 5.1.5.5 0 0 1-.714.7A4 4 0 0 1 9 8h1.293L9.146 6.854a.5.5 0 0 1 0-.708m8.004 3.047a.5.5 0 0 1 .707.008A4 4 0 0 1 15 16h-1.293l1.147 1.145a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708.708L13.707 15H15a3 3 0 0 0 2.143-5.1.5.5 0 0 1 .007-.707",clipRule:"evenodd"})})})},974985:(e,t,n)=>{n.d(t,{p:()=>r});var a=n(263159);let r=(0,n(411855).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.146 6.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9H9a3 3 0 1 0 0 6h.5a.5.5 0 0 1 0 1H9a4 4 0 0 1 0-8h1.293L9.146 6.854a.5.5 0 0 1 0-.708M14 8.5a.5.5 0 0 1 .5-.5h.5a4 4 0 0 1 0 8h-1.293l1.147 1.146a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708.708L13.707 15H15a3 3 0 1 0 0-6h-.5a.5.5 0 0 1-.5-.5",clipRule:"evenodd"})})})}}]);

//# debugId=e31f4708-1c31-5583-901a-bf07cb601f6c

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/213df8aa0d0aed12518649a10f0af2f87e57f7a0/7849-fe8697b2bcbfcd73.min.js.map